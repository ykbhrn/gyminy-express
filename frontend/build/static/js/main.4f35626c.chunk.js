(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),i=a.n(s),l=(a(38),a(2)),c=a(11),o=function(e){window.localStorage.setItem("token",e)},m=function(){return window.localStorage.getItem("token")},u=function(){localStorage.removeItem("token")},d=function(){var e=m();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))},p=function(){var e=d();return!!e&&Math.round(Date.now()/1e3)<e.exp},h=a(1),f=a.n(h),g=a(3),v=a(10),E=a(4),w=a(5),N=a(6),b=a(7),k=a(8),y=a(9),x=a.n(y),S=function(){return{headers:{Authorization:"Bearer ".concat(m())}}},j=function(){return x.a.get("/api/images/")},C=function(e){return x.a.get("/api/images/".concat(e))},O=function(){return x.a.get("/api/videos/")},I=function(e){return x.a.get("/api/videos/".concat(e))},_=function(){return x.a.get("/api/profile/",S())},T=function(e){return x.a.get("/api/profile/".concat(e))},D=function(e){return x.a.post("/api/register/",e)},U=function(e){return x.a.post("/api/login/",e)},A=function(e){return x.a.get("/api/trainings/".concat(e),S())},F=function(e){return x.a.post("/api/trainings/",e,S())},B=function(e){return x.a.put("/api/trainings/".concat(e),{},S())},q=function(e){return x.a.post("/api/images/",e,S())},L=function(e){return x.a.post("/api/videos/",e,S())},V=function(e){return x.a.post("/api/articles/",e,S())},R=function(e,t){return x.a.post("/api/images/".concat(t,"/comments"),e,S())},P=function(e,t){return x.a.post("/api/videos/".concat(t,"/comments"),e,S())},M=function(e,t){return x.a.post("/api/chats/".concat(t),e,S())},Y=function(e){return x.a.get("/api/chats/".concat(e),S())},W=function(e){return x.a.post("/api/likes",e,S())},G=function(e){return x.a.post("/api/videolikes",e,S())},X=function(e,t){return x.a.post("/api/follow/".concat(e),t,S())},J=function(e){return x.a.post("/api/notifications",e,S())},z=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},likeData:{image:""},image:!1,showBigImage:!1,showBigPortfolio:!1},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,R(r,n);case 5:return t.sent,t.next=8,C(n);case 8:s=t.sent,i=Object(E.a)({},e.state.formData,{text:""}),e.setState({image:s.data,formData:i}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.closeImage=function(){e.setState({showBigPortfolio:!1})},e.bigImage=Object(g.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.props.id);case 2:a=t.sent,e.setState({image:a.data,showBigPortfolio:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(N.a)(a,[{key:"likeImage",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={imageId:t},e.next=4,W(a);case 4:return e.sent,e.next=7,C(t);case 7:n=e.sent,this.setState({image:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0,a=this.props,n=a.title,s=a.url,i=a.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:this.bigImage,className:"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},r.a.createElement("figure",{className:"image is-1by1"},r.a.createElement("img",{src:s,alt:n}))),this.state.showBigPortfolio&&r.a.createElement("div",{className:"show-big-image"},r.a.createElement("div",{className:"big-image-card"},r.a.createElement("img",{className:"big-image",src:this.state.image.url}),r.a.createElement("div",{className:"big-image-side"},r.a.createElement("div",{className:"profile-header-index"},r.a.createElement(l.b,{to:"/profile/".concat(this.state.image.user._id),className:"portfolio-header-part"},r.a.createElement("img",{className:"profile-image-index",src:this.state.image.user.profileImage}),this.state.image.user.name),r.a.createElement("div",{className:"like-img"},this.state.image.likes.map((function(e){e.userId==i._id&&t++})),r.a.createElement("img",{className:"small-like-img",src:0==t?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(e.state.image._id)}}),r.a.createElement("span",{className:"like-counter"},this.state.image.likes.length)),r.a.createElement("div",{className:"portfolio-header-part"})),r.a.createElement("hr",{className:"hr-comment"}),r.a.createElement("div",{className:"description-and-comments"},r.a.createElement("div",{className:"big-image-description"},this.state.image.description),r.a.createElement("hr",{className:"hr-comment"}),r.a.createElement("div",{className:"show-comments"},this.state.image.comments.slice(0).reverse().map((function(e){return r.a.createElement("div",{className:"single-comment",key:e._id},r.a.createElement("div",{className:"profile-header-comment"},r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},r.a.createElement("img",{className:"profile-image-comment",src:e.user.profileImage})),r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},e.user.name))," ",e.text)})))),r.a.createElement("form",{className:"comment-add-container",onSubmit:function(t){e.handleSubmit(t,e.state.image._id)}},r.a.createElement("input",{className:"input",placeholder:"...",name:"text",value:this.state.formData.text,onChange:this.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post")),r.a.createElement("style",null,"              .navbar{                opacity: 0.5;              }              .m-scene .image, .index-video{                opacity: 0.5;              }              ")),r.a.createElement("div",{onClick:this.closeImage,className:"close"},r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})))))}}]),a}(r.a.Component),H=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},likeData:{video:""},video:!1,showBigVideo:!1,showBigPortfolio:!1},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,P(r,n);case 5:return t.sent,t.next=8,I(n);case 8:s=t.sent,i=Object(E.a)({},e.state.formData,{text:""}),e.setState({video:s.data,formData:i}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.closeImage=function(){e.setState({showBigPortfolio:!1})},e.bigVideo=Object(g.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.props.id);case 2:a=t.sent,e.setState({video:a.data,showBigPortfolio:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(N.a)(a,[{key:"likeVideo",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={videoId:t},e.next=4,G(a);case 4:return e.sent,e.next=7,I(t);case 7:n=e.sent,this.setState({video:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0,a=this.props,n=a.title,s=a.url,i=a.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:this.bigVideo,className:"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},r.a.createElement("video",{className:"index-video",src:s,alt:n})),this.state.showBigPortfolio&&r.a.createElement("div",{className:"show-big-image"},r.a.createElement("div",{className:"big-image-card"},r.a.createElement("video",{className:"big-image",src:this.state.video.url,controls:!0}),r.a.createElement("div",{className:"big-image-side"},r.a.createElement("div",{className:"profile-header-index"},r.a.createElement(l.b,{to:"/profile/".concat(this.state.video.user._id),className:"portfolio-header-part"},r.a.createElement("img",{className:"profile-image-index",src:this.state.video.user.profileImage}),this.state.video.user.name),r.a.createElement("div",{className:"like-img"},this.state.video.likes.map((function(e){e.userId==i._id&&t++})),r.a.createElement("img",{className:"small-like-img",src:0==t?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(e.state.video._id)}}),r.a.createElement("span",{className:"like-counter"},this.state.video.likes.length)),r.a.createElement("div",{className:"portfolio-header-part"})),r.a.createElement("hr",{className:"hr-comment"}),r.a.createElement("div",{className:"description-and-comments"},r.a.createElement("div",{className:"big-image-description"},this.state.video.description),r.a.createElement("hr",{className:"hr-comment"}),r.a.createElement("div",{className:"show-comments"},this.state.video.comments.slice(0).reverse().map((function(e){return r.a.createElement("div",{className:"single-comment",key:e._id},r.a.createElement("div",{className:"profile-header-comment"},r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},r.a.createElement("img",{className:"profile-image-comment",src:e.user.profileImage})),r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},e.user.name))," ",e.text)})))),r.a.createElement("div",{className:"post-comment"},r.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t,e.state.video._id)}},r.a.createElement("div",{className:"comment-add-container"},r.a.createElement("input",{className:"input",placeholder:"...",name:"text",value:this.state.formData.text,onChange:this.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))),r.a.createElement("style",null,"              .navbar{                opacity: 0.5;              }              .m-scene .image, .index-video{                opacity: 0.5;              }              ")),r.a.createElement("div",{onClick:this.closeImage,className:"close"},r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})))))}}]),a}(r.a.Component),Z=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={articles:[]},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/articles/");case 3:t=e.sent,this.setState({articles:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.articles),r.a.createElement("div",{className:"article-container"},this.state.articles.slice(0).reverse().map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("div",{className:"card-article"},r.a.createElement(l.b,{to:"/articles/".concat(e._id)},r.a.createElement("img",{className:"image-article",src:e.imageUrl,alt:e.title})),r.a.createElement("span",{className:"article-author"},r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},e.user.name)),r.a.createElement("div",{className:"article-text"},r.a.createElement(l.b,{to:"/articles/".concat(e._id)},r.a.createElement("div",{className:"article-title"},e.title),r.a.createElement("div",{className:"article-border"})),r.a.createElement("div",{className:"subtitle-article"},e.text))))})))}}]),a}(r.a.Component),K=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},user:null,images:[],videos:[],showImages:!0,showVideos:!1,showArticles:!1,imageId:!1,videoId:!1,showLikes:!1,image:null,video:null},e.handleShowingLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,image:t})},e.handleShowingVideoLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,video:t})},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i,l,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,R(r,n);case 5:return t.sent,t.next=8,j();case 8:s=t.sent,i=s.data,l=i.filter((function(t){var a=0;if(e.state.user.following.map((function(e){t.user._id==e.followedUserId&&a++})),a>0)return t})),c=Object(E.a)({},e.state.formData,{text:""}),e.setState({formData:c,images:l}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleVideoSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i,l,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,P(r,n);case 5:return t.sent,t.next=8,O();case 8:s=t.sent,i=s.data,l=i.filter((function(t){var a=0;if(e.state.user.following.map((function(e){t.user._id==e.followedUserId&&a++})),a>0)return t})),c=Object(E.a)({},e.state.formData,{text:""}),e.setState({formData:c,videos:l}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e.clickShow=function(t){"videos"===t?e.setState({showVideos:!0,showImages:!1,showArticles:!1}):"images"===t?e.setState({showImages:!0,showVideos:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showVideos:!1,showImages:!1})},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.setState({user:t.data}),this.getImages(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getImages",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,s,i,l=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return t=e.sent,a=t.data,e.next=7,j();case 7:n=e.sent,r=n.data,s=r.filter((function(e){var t=0;if(l.state.user.following.map((function(a){e.user._id==a.followedUserId&&t++})),t>0)return e})),i=a.filter((function(e){var t=0;if(l.state.user.following.map((function(a){e.user._id==a.followedUserId&&t++})),t>0)return e})),this.setState({images:s,videos:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"likeImage",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,r,s,i=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={imageId:t},e.next=4,W(a);case 4:return e.sent,e.next=7,j();case 7:n=e.sent,r=n.data,s=r.filter((function(e){var t=0;if(i.state.user.following.map((function(a){e.user._id==a.followedUserId&&t++})),t>0)return e})),this.setState({images:s}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"likeVideo",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n,r,s,i=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={videoId:t},e.next=4,G(a);case 4:return e.sent,e.next=7,O();case 7:n=e.sent,r=n.data,s=r.filter((function(e){var t=0;if(i.state.user.following.map((function(a){e.user._id==a.followedUserId&&t++})),t>0)return e})),this.setState({videos:s}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.videos),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"m-scene"},this.state.showImages&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),r.a.createElement("div",{className:"profile-choices-container index"},r.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),r.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),r.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles")),r.a.createElement("div",{className:"portfolio-container"},this.state.showImages&&r.a.createElement("div",{className:"images-container"},this.state.images.slice(0).reverse().map((function(t){var a=0;return r.a.createElement("div",{key:t._id,className:"small-image"},r.a.createElement("div",{className:"small-image-header"},r.a.createElement(l.b,{to:"/profile/".concat(t.user._id)},r.a.createElement("div",{className:"small-image-profile"},r.a.createElement("img",{src:t.user.profileImage}),t.user.name))),r.a.createElement("figure",{className:"image is-1by1"},r.a.createElement("img",{src:t.url,alt:t.title})),r.a.createElement("div",{className:"small-image-footer"},r.a.createElement("div",null,t.likes.map((function(t){t.userId==e.state.user._id&&a++})),r.a.createElement("img",{className:"small-like-img",src:0==a?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(t._id)}}),r.a.createElement("span",{onClick:function(){e.handleShowingLikes(t)},className:"like-counter"},t.likes.length," Likes")),r.a.createElement("span",null,r.a.createElement(l.b,{to:"/profile/".concat(t.user._id)},r.a.createElement("span",{className:"username-footer"},t.user.name)),t.description),e.state.showLikes&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Likes"),r.a.createElement("span",{className:"close-follow",onClick:e.handleShowingLikes}," X "),r.a.createElement("div",{className:"followers-frame"},e.state.image.likes.map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.userId)},r.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),r.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),r.a.createElement("hr",null),r.a.createElement("div",null,t.comments.slice(0).reverse(0).map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-footer"},r.a.createElement("div",{className:"profile-footer-container"},r.a.createElement("img",{src:e.user.profileImage}),r.a.createElement("span",{className:"username"},e.user.name)),r.a.createElement("div",{className:"footer-comment-text"},e.text))})))),r.a.createElement("form",{onClick:function(a){e.handleSubmit(a,t._id)}},r.a.createElement("div",{className:"comment-add-container"},r.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:e.state.formData.text,onChange:e.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post"))))}))),this.state.showVideos&&r.a.createElement("div",{className:"images-container"},this.state.videos.slice(0).reverse().map((function(t){var a=0;return r.a.createElement("div",{key:t._id,className:"small-image"},r.a.createElement("div",{className:"small-image-header"},r.a.createElement(l.b,{to:"/profile/".concat(t.user._id)},r.a.createElement("div",{className:"small-image-profile"},r.a.createElement("img",{src:t.user.profileImage}),t.user.name))),r.a.createElement("video",{className:"videoStyle",src:t.url,alt:t.title,controls:!0}),r.a.createElement("div",{className:"small-image-footer"},r.a.createElement("div",null,t.likes.map((function(t){t.userId==e.state.user._id&&a++})),r.a.createElement("img",{className:"small-like-img",src:0==a?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(t._id)}}),r.a.createElement("span",{onClick:function(){e.handleShowingVideoLikes(t)},className:"like-counter"},t.likes.length," Likes")),r.a.createElement("span",null,r.a.createElement(l.b,{to:"/profile/".concat(t.user._id)},r.a.createElement("span",{className:"username-footer"},t.user.name)),t.description),e.state.showLikes&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Likes"),r.a.createElement("span",{className:"close-follow",onClick:e.handleShowingVideoLikes}," X "),r.a.createElement("div",{className:"followers-frame"},e.state.video.likes.map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.userId)},r.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),r.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),r.a.createElement("hr",null),r.a.createElement("div",null,t.comments.slice(0).reverse(0).map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-footer"},r.a.createElement("div",{className:"profile-footer-container"},r.a.createElement("img",{src:e.user.profileImage}),r.a.createElement("span",{className:"username"},e.user.name)),r.a.createElement("div",{className:"footer-comment-text"},e.text))})))),r.a.createElement("form",{onClick:function(a){e.handleVideoSubmit(a,t._id)}},r.a.createElement("div",{className:"comment-add-container"},r.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:e.state.formData.text,onChange:e.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post"))))}))))),this.state.showArticles&&r.a.createElement(Z,null))}}]),a}(r.a.Component),Q=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={images:[],videos:[],user:null,showImages:!0,showVideos:!1,showArticles:!1,showBigPortfolio:!1,displayPhotoUrl:"",displayTitle:"",displayUsername:"",displayLikes:"",displayUserId:"",displayProfileUrl:"",displayDescription:"",displayComments:[],displayPortfolioId:"",newComments:!1},e.clickShow=function(t){"videos"===t?e.setState({showVideos:!0,showImages:!1,showArticles:!1}):"images"===t?e.setState({showImages:!0,showVideos:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showVideos:!1,showImages:!1})},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:return t=e.sent,e.next=6,O();case 6:return a=e.sent,e.next=9,_();case 9:n=e.sent,this.setState({images:t.data,videos:a.data,user:n.data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.images),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"m-scene"},this.state.showImages&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),r.a.createElement("div",{className:"profile-choices-container index"},r.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),r.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),r.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles")),r.a.createElement("div",{className:"portfolio-container"},this.state.showImages&&r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.images.slice(0).reverse().map((function(t){return r.a.createElement(z,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))),this.state.showVideos&&r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.videos.slice(0).reverse().map((function(t){return r.a.createElement(H,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))))),this.state.showArticles&&r.a.createElement(Z,null))}}]),a}(r.a.Component),$=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},user:null,imageId:!1,videoId:!1,showLikes:!1,image:null,video:null,showImage:!1,showVideo:!1},e.handleShowingLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,image:t})},e.handleShowingVideoLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,video:t})},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,R(r,n);case 5:return t.sent,t.next=8,C(n);case 8:s=t.sent,i=Object(E.a)({},e.state.formData,{text:""}),e.setState({formData:i,image:s.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleVideoSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=Object(E.a)({},e.state.formData),t.next=5,P(r,n);case 5:return t.sent,t.next=8,I(n);case 8:s=t.sent,i=Object(E.a)({},e.state.formData,{text:""}),e.setState({formData:i,video:s.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.match.path.includes("videos")){e.next=12;break}return t=this.props.match.params.id,e.next=5,I(t);case 5:return a=e.sent,e.next=8,_();case 8:return n=e.sent,e.abrupt("return",this.setState({video:a.data,user:n.data,showVideo:!0}));case 12:return r=this.props.match.params.id,e.next=15,C(r);case 15:return s=e.sent,e.next=18,_();case 18:return i=e.sent,e.abrupt("return",this.setState({image:s.data,user:i.data,showImage:!0}));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),this.props.history.push("/notfound");case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"likeImage",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={imageId:t},e.next=4,W(a);case 4:return e.sent,e.next=7,C(t);case 7:n=e.sent,this.setState({image:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"likeVideo",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={videoId:t},e.next=4,G(a);case 4:return e.sent,e.next=7,I(t);case 7:n=e.sent,this.setState({video:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.image,n=t.video,s=0;return a||n?r.a.createElement("section",{className:"m-scene"},r.a.createElement("div",{className:"single"},this.state.showImage&&r.a.createElement("div",{className:"small-image"},r.a.createElement("div",{className:"small-image-header"},r.a.createElement(l.b,{to:"/profile/".concat(a.user._id)},r.a.createElement("div",{className:"small-image-profile"},r.a.createElement("img",{src:a.user.profileImage}),a.user.name))),r.a.createElement("figure",{className:"image is-1by1"},r.a.createElement("img",{src:a.url,alt:a.title})),r.a.createElement("div",{className:"small-image-footer"},r.a.createElement("div",null,a.likes.map((function(t){t.userId==e.state.user._id&&s++})),r.a.createElement("img",{className:"small-like-img",src:0==s?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(a._id)}}),r.a.createElement("span",{onClick:function(){e.handleShowingLikes(a)},className:"like-counter"},a.likes.length," Likes")),r.a.createElement("span",null,r.a.createElement(l.b,{to:"/profile/".concat(a.user._id)},r.a.createElement("span",{className:"username-footer"},a.user.name)),a.description),this.state.showLikes&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Likes"),r.a.createElement("span",{className:"close-follow",onClick:this.handleShowingLikes}," X "),r.a.createElement("div",{className:"followers-frame"},a.likes.map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.userId)},r.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),r.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),r.a.createElement("hr",null),r.a.createElement("div",null,a.comments.slice(0).reverse(0).map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-footer"},r.a.createElement("div",{className:"profile-footer-container"},r.a.createElement("img",{src:e.user.profileImage}),r.a.createElement("span",{className:"username"},e.user.name)),r.a.createElement("div",{className:"footer-comment-text"},e.text))})))),r.a.createElement("form",{onClick:function(t){e.handleSubmit(t,a._id)}},r.a.createElement("div",{className:"comment-add-container"},r.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:this.state.formData.text,onChange:this.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))),this.state.showVideo&&r.a.createElement("div",{className:"small-image"},r.a.createElement("div",{className:"small-image-header"},r.a.createElement(l.b,{to:"/profile/".concat(n.user._id)},r.a.createElement("div",{className:"small-image-profile"},r.a.createElement("img",{src:n.user.profileImage}),n.user.name))),r.a.createElement("figure",{className:"image is-1by1"},r.a.createElement("video",{className:"video",src:n.url,alt:n.title,controls:!0})),r.a.createElement("div",{className:"small-image-footer"},r.a.createElement("div",null,n.likes.map((function(t){t.userId==e.state.user._id&&s++})),r.a.createElement("img",{className:"small-like-img",src:0==s?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(n._id)}}),r.a.createElement("span",{onClick:function(){e.handleShowingVideoLikes(n)},className:"like-counter"},n.likes.length," Likes")),r.a.createElement("span",null,r.a.createElement(l.b,{to:"/profile/".concat(n.user._id)},r.a.createElement("span",{className:"username-footer"},n.user.name)),n.description),this.state.showLikes&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Likes"),r.a.createElement("span",{className:"close-follow",onClick:this.handleShowingVideoLikes}," X "),r.a.createElement("div",{className:"followers-frame"},n.likes.map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.userId)},r.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),r.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),r.a.createElement("hr",null),r.a.createElement("div",null,n.comments.slice(0).reverse(0).map((function(e){return r.a.createElement("div",{key:e._id,className:"profile-footer"},r.a.createElement("div",{className:"profile-footer-container"},r.a.createElement("img",{src:e.user.profileImage}),r.a.createElement("span",{className:"username"},e.user.name)),r.a.createElement("div",{className:"footer-comment-text"},e.text))})))),r.a.createElement("form",{onClick:function(t){e.handleVideoSubmit(t,n._id)}},r.a.createElement("div",{className:"comment-add-container"},r.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:this.state.formData.text,onChange:this.handleChange}),r.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))))):null}}]),a}(r.a.Component),ee="https://api.cloudinary.com/v1_1/djq7pruxd/upload",te=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={formData:{url:"",description:""},isLoading:!1,redirect:!1,error:""},e.portfolioName=e.props.match.params.portfolio,e.isImage=function(){return"images"===e.portfolioName},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a,error:""})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,"images"!==e.props.match.params.portfolio){t.next=7;break}return t.next=5,q(e.state.formData);case 5:t.next=10;break;case 7:if("videos"!==e.props.match.params.portfolio){t.next=10;break}return t.next=10,L(e.state.formData);case 10:e.setState({redirect:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.setState({error:"Invalid Credentials"});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(c.a,{to:"/portfolio"})},e.portfolioType=function(){return"images"===e.portfolioName?"Photo":"videos"===e.portfolioName?"Video":void 0},e.setUrl=function(t){var a=Object(E.a)({},e.state.formData,{url:t});e.setState({formData:a})},e.handleUpload=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","ins6nrmj"),t.next=7,x.a.post(ee,n);case 7:r=t.sent,console.log(r.data),e.setState({isLoading:!1}),e.setUrl(r.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.error;return console.log(t.url),console.log(t),r.a.createElement("section",{className:"add-form-section"},this.renderRedirect(),r.a.createElement("h1",{className:"title"},"Add New ",this.portfolioType()),r.a.createElement("div",{className:"add-form-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"label"},"Choose Your ",this.portfolioType()),r.a.createElement("div",{className:"upload-portfolio"},r.a.createElement("input",{className:"input ".concat(a.url?"is-danger":""),type:"file",onChange:this.handleUpload}),this.isImage()&&r.a.createElement(r.a.Fragment,null,t.url?r.a.createElement("img",{src:t.url,alt:"User's Upload"}):""),!this.isImage()&&r.a.createElement(r.a.Fragment,null,t.url?r.a.createElement("video",{src:t.url,alt:"User's Upload",controls:!0}):"")),a.url&&r.a.createElement("small",{className:"help is-danger"},a.url),r.a.createElement("textarea",{className:"textarea ".concat(a?"is-danger":""),placeholder:"Few Word To Describe It?",rows:"3",cols:"40",name:"description",onChange:this.handleChange,value:t.description}),a&&r.a.createElement("small",{className:"help is-danger"},a),this.state.isLoading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image"})),!this.state.isLoading&&r.a.createElement("button",{type:"submit",className:"button"}," Post It"))))}}]),a}(r.a.Component),ae="https://api.cloudinary.com/v1_1/djq7pruxd/upload",ne=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={formData:{imageUrl:"",titleImageUrl:"",text:"",title:""},isLoading:!1,redirect:!1,error:""},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a,error:""})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,V(e.state.formData);case 4:e.setState({redirect:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({error:"Invalid Credentials"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(c.a,{to:"/portfolio"})},e.setUrl=function(t){var a=Object(E.a)({},e.state.formData,{imageUrl:t});e.setState({formData:a})},e.handleUpload=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","ins6nrmj"),t.next=7,x.a.post(ae,n);case 7:r=t.sent,console.log(r.data),e.setState({isLoading:!1}),e.setUrl(r.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.setBigUrl=function(t){var a=Object(E.a)({},e.state.formData,{titleImageUrl:t});e.setState({formData:a})},e.handleBigUpload=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","ins6nrmj"),t.next=7,x.a.post(ae,n);case 7:r=t.sent,console.log(r.data),e.setState({isLoading:!1}),e.setBigUrl(r.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.error;return console.log(this.state.formData),r.a.createElement("section",{className:"add-article-section"},this.renderRedirect(),r.a.createElement("h1",{className:"title is-2 has-text-centered"},"Add New Article"),r.a.createElement("div",{className:"add-article-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"field"},r.a.createElement("input",{className:"input ".concat(a?"is-danger":""),placeholder:"Article Title",name:"title",onChange:this.handleChange,value:t.title}),a&&r.a.createElement("small",{className:"help is-danger"},a)),r.a.createElement("label",{className:"label"},"Small Image"),r.a.createElement("div",{className:"upload-portfolio"},r.a.createElement("input",{className:"input ".concat(a.imageUrl?"is-danger":""),type:"file",onChange:this.handleUpload}),t.imageUrl?r.a.createElement("img",{src:t.imageUrl,alt:"User's Upload",controls:!0}):""),a.imageUrl&&r.a.createElement("small",{className:"help is-danger"},a.imageUrl),r.a.createElement("label",{className:"label"},"Big Image(not mandatory)"),r.a.createElement("div",{className:"upload-portfolio"},r.a.createElement("input",{className:"input ".concat(a.titleImageUrl?"is-danger":""),type:"file",onChange:this.handleBigUpload}),t.titleImageUrl?r.a.createElement("img",{src:t.titleImageUrl,alt:"User's Upload",controls:!0}):""),a.titleImageUrl&&r.a.createElement("small",{className:"help is-danger"},a.titleImageUrl),r.a.createElement("div",{className:"field"},r.a.createElement("textarea",{className:"textarea ".concat(a?"is-danger":""),rows:"15",cols:"70",placeholder:"Text",name:"text",onChange:this.handleChange,value:t.text}),a&&r.a.createElement("small",{className:"help is-danger"},a)),this.state.isLoading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image"})),!this.state.isLoading&&r.a.createElement("button",{type:"submit",className:"button"}," Post It"))))}}]),a}(r.a.Component),re=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={article:null},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,n=t,x.a.get("/api/articles/".concat(n));case 4:return a=e.sent,e.abrupt("return",this.setState({article:a.data}));case 8:e.prev=8,e.t0=e.catch(0),this.props.history.push("/notfound");case 11:case"end":return e.stop()}var n}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.article)return null;console.log(this.state.article);var e=this.state.article;return r.a.createElement("div",{className:"single-article-container"},r.a.createElement("span",{className:"single-article-author"},r.a.createElement(l.b,{to:"/profile/".concat(e.user._id)},e.user.name)),r.a.createElement("div",{className:"title has-text-centered single-article-title"},e.title),r.a.createElement("hr",null),e.titleImageUrl&&r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.titleImageUrl,")")},className:"article-image-container"}),r.a.createElement("div",{className:"single-article-text"},r.a.createElement("p",null,e.text)))}}]),a}(r.a.Component),se=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{email:"",password:""},redirect:!1,loading:!1,error:""},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a,error:""})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("new version"),a.preventDefault(),t.prev=2,e.setState({loading:!0}),t.next=6,U(e.state.formData);case 6:n=t.sent,o(n.data.token),e.setState({redirect:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({error:"Invalid Credentials",loading:!1});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return window.location.assign("/portfolio")},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.error,n=e.loading;return r.a.createElement("div",{className:"sign-container"},r.a.createElement("div",{className:"sign-card"},this.renderRedirect(),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(a?"is-danger":""),placeholder:"Email",name:"email",onChange:this.handleChange,value:t.email}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"password",className:"input ".concat(a?"is-danger":""),placeholder:"Password",name:"password",onChange:this.handleChange,value:t.password})),a&&r.a.createElement("small",{className:"help is-danger"},a)),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth login-button ".concat(n?"is-loading":"")},"Login")),r.a.createElement(l.b,{to:"/register"},r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"button",className:"button is-fullwidth is-light is-outlined"},"No Account? Sign Up Here"))))))}}]),a}(r.a.Component),ie=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={authenticated:!1},e.componentDidMount=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:if(!t.sent){t.next=5;break}console.log("authenticated"),e.setState({authenticated:!0});case 5:case"end":return t.stop()}}),t)}))),e.renderRedirect=function(){if(e.state.authenticated)return console.log("redirecting"),r.a.createElement(c.a,{to:"/portfolio"})},e}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},this.renderRedirect(),r.a.createElement("div",{className:"logo-navbar-container"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("div",{className:"logo"},"gymIny"),r.a.createElement("div",{className:"slogan"},"VIRTUAL GYM, REAL RESULTS")),r.a.createElement("div",{className:"home-navbar"},r.a.createElement(l.b,{to:"/register"},r.a.createElement("span",{className:"home-navbar-item"},"Join GYMINY")),r.a.createElement(l.b,{to:"/about"},r.a.createElement("span",{className:"home-navbar-item"},"About Us")))),r.a.createElement(se,null))}}]),a}(r.a.Component),le=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:[],isOpen:!1,showSearchBar:!1,allUsers:"",searchUsers:[],startTyping:!1,newNotification:!1,newChat:!1,showNotification:!1},e.notificationFalse=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={type:a},t.next=4,J(n);case 4:return r=t.sent,t.next=7,_();case 7:s=t.sent,"chat"===a?e.setState({newChat:s.data.newChat}):e.setState({newNotification:s.data.newNotification,showNotification:!0!==e.state.showNotification}),console.log(r.data),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){t.preventDefault();var a=e.state.allUsers.filter((function(e){var a=t.target.value.toLowerCase(),n=e.name.toLowerCase();if(n.includes(a))return n}));if(t.target.value.split("").length>0)return e.setState({searchUsers:a,startTyping:!0});e.setState({searchUsers:a,startTyping:!1})},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e.handleSearchBar=function(){e.setState({showSearchBar:1!=e.state.showSearchBar})},e.hideSearch=function(){e.setState({showSearchBar:!1})},e.handleRedirect=function(){e.setState({showSearchBar:1!=e.state.showSearchBar,startTyping:!1})},e.notificationType=function(e,t,a,n,s,i){if("like"===t){if("image"===a)return r.a.createElement("div",{className:"notification-result"},e," liked your image ",r.a.createElement(l.b,{to:"/images/".concat(s)},r.a.createElement("img",{className:"image",src:n})));if("video"===a)return r.a.createElement("div",{className:"notification-result"},e," liked your video ",r.a.createElement(l.b,{to:"/videos/".concat(s)},r.a.createElement("video",{className:"image",src:n})))}else if("comment"===t){if("image"===a)return r.a.createElement("div",{className:"notification-result"},e," commented your image ",r.a.createElement(l.b,{to:"/images/".concat(s)},r.a.createElement("img",{className:"image",src:n})));if("video"===a)return r.a.createElement("div",{className:"notification-result"},e," commented your video ",r.a.createElement(l.b,{to:"/videos/".concat(s)},r.a.createElement("video",{className:"image",src:n})))}else{if("follow"===t)return r.a.createElement("div",{className:"notification-result"},e," started following you");if("training"===t)return r.a.createElement(l.b,{to:"/trainings/".concat(s)},r.a.createElement("div",{className:"notification-result"},e," booked your training ",n,".",i&&r.a.createElement(r.a.Fragment,null," It's fully booked")))}},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:return t=e.sent,e.next=6,x.a.get("/api/users");case 6:a=e.sent,this.setState({user:t.data,allUsers:a.data,newNotification:t.data.newNotification,newChat:t.data.newChat}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;if(!this.state.allUsers)return null;console.log(this.state.user.notifications);this.state.isOpen;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},p()&&r.a.createElement("div",{className:"logo-search"},r.a.createElement(l.b,{to:"/",className:"navbar-item",onClick:this.hideSearch},r.a.createElement("span",{className:"logo-navbar"},"gyminy")),!this.props.location.pathname.includes("/profile/")&&r.a.createElement("div",{className:"search"},!this.state.showSearchBar&&r.a.createElement("img",{onClick:this.handleSearchBar,src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1595291077/iconfinder_icon-111-search_314807_vywlu5.png"}),this.state.showSearchBar&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("input",{type:"search",placeholder:"Search for User ...",onChange:this.onChange})),this.state.startTyping&&0===this.state.searchUsers.length&&r.a.createElement("div",{className:"no-results"},"No results"),this.state.startTyping&&this.state.searchUsers.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-results",onClick:this.handleSearchBar},this.state.searchUsers.map((function(t){return r.a.createElement(l.b,{key:t._id,to:"/profile/".concat(t._id)},r.a.createElement("div",{className:"search-profile",onClick:e.handleRedirect},r.a.createElement("div",{className:"profile-header-comment"},r.a.createElement("img",{className:"profile-image-comment",src:t.profileImage}),t.name)))})))))))),r.a.createElement("div",{className:"navbar-menu is-active"},r.a.createElement("div",{className:"navbar-end"},p()&&r.a.createElement(l.b,{to:"/portfolio",onClick:this.hideSearch},r.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1604865766/iconfinder_Sed-07_2232598_lh3apb.png"})),p()&&r.a.createElement(l.b,{to:"/explore",onClick:this.hideSearch},r.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/home_of6q7k.png"})),p()&&r.a.createElement(l.b,{to:"/trainings",onClick:this.hideSearch},r.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/trainings_sridq6.png"})),p()&&r.a.createElement(l.b,{to:"/chat",onClick:this.hideSearch},r.a.createElement("img",{onClick:function(){e.notificationFalse("chat")},className:"navbar-item",src:!1===this.state.newChat?"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/chat_usiydp.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1605126555/chat_usiydp_fxhab5.png"})),p()&&r.a.createElement("div",{onClick:this.hideSearch},r.a.createElement("img",{onClick:function(){e.notificationFalse("notification")},className:"navbar-item",src:!1===this.state.newNotification?"https://res.cloudinary.com/djq7pruxd/image/upload/v1605049586/iconfinder_notif_notification_info_information_caution_4831016_lxehyb.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1605126556/bell_gefhlq.png"})),this.state.showNotification&&r.a.createElement("div",{className:"notifications-container"},this.state.user.notifications.slice(0).reverse().map((function(t){return r.a.createElement("div",{key:t.userId,className:"profile-footer"},r.a.createElement(l.b,{className:"profile-footer-container",to:"/profile/".concat(t.userId)},r.a.createElement("img",{className:"profile-image",src:t.profileImage})),e.notificationType(t.username,t.notificationType,t.portfolioType,t.url,t.portfolioId,t.isFull))}))),p()&&r.a.createElement(l.b,{to:"/profile",onClick:this.hideSearch},r.a.createElement("img",{className:"navbar-image navbar-item",src:this.state.user.profileImage})),!p()&&r.a.createElement(l.b,{to:"/login",className:"navbar-item"},"Login"),!p()&&r.a.createElement(l.b,{to:"/register",className:"navbar-item"},"Register")))))}}]),a}(r.a.Component),ce=Object(c.g)(le),oe=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={training:null,showBigTraining:!1,studentRedirect:!1,trainingOwnerId:"",trainingOwnerUsername:""},e.closeBig=function(){e.setState({showBigTraining:!1})},e.handleSingleTraining=Object(g.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e.props.singleTraining._id);case 3:a=t.sent,e.setState({training:a.data,showBigTraining:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.handleBooking=function(){var t=Object(g.a)(f.a.mark((function t(a,n,r){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({trainingOwnerId:n,trainingOwnerUsername:r});case 3:return t.next=5,B(a);case 5:s=t.sent,e.setState({studentRedirect:!0}),console.log(s.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a,n){return t.apply(this,arguments)}}(),e.renderRedirect=function(){return e.state.redirect?r.a.createElement(c.a,{to:"/done/training"}):e.state.studentRedirect?r.a.createElement(c.a,{to:"/done/booking/".concat(e.state.trainingOwnerId,"/").concat(e.state.trainingOwnerUsername)}):void 0},e.bookingForm=function(t,a){return 0===a?1===t?r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"}," Individual Training ")):e.state.isStudent?r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"},t," Students "),"Booked: ",r.a.createElement("span",{className:"card-header-title"},a," Students")):r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"},t," Students ")):a>=t?1===t?r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"}," Individual Training "),r.a.createElement("div",null,"Training Is Fully Booked")):r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"},t," Students "),r.a.createElement("div",null,"Training Is Fully Booked")):1===t?r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"}," Individual Training ")):r.a.createElement(r.a.Fragment,null,"Capacity Limit: ",r.a.createElement("span",{className:"card-header-title"},t," Students "),"Booked: ",r.a.createElement("span",{className:"card-header-title"},a," Students"))},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state.training);var t=this.props,a=t.singleTraining,n=t.bookTimeSlot,s=t.trainingPage;return r.a.createElement(r.a.Fragment,null,this.renderRedirect(),r.a.createElement("div",{onClick:this.handleSingleTraining,className:"index-portfolio column column is-one-third-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header-title"},a.name),r.a.createElement("div",null,"Date: ",r.a.createElement("span",{className:"card-header-title"},a.date)),r.a.createElement("div",null,"Time: ",r.a.createElement("span",{className:"card-header-title"},a.time)),r.a.createElement("div",null,"Sport: ",r.a.createElement("span",{className:"card-header-title"},a.sports.map((function(e){return e+", "})))))),this.state.showBigTraining&&r.a.createElement("div",{className:"show-big-training"},r.a.createElement("div",{className:"big-training-card"},r.a.createElement("div",{className:"big-training-side"},r.a.createElement("div",{className:"profile-header-training"},r.a.createElement(l.b,{to:"/profile/".concat(this.state.training.user._id)},r.a.createElement("img",{className:"profile-image-index",src:this.state.training.user.profileImage})),r.a.createElement(l.b,{to:"/profile/".concat(this.state.training.user._id)},this.state.training.user.name)),r.a.createElement("hr",null),r.a.createElement("div",{className:"training-description"},r.a.createElement("h4",{className:"training-title title is-3 has-text-centered"},this.state.training.name),"Date: ",r.a.createElement("span",{className:"card-header-title"},this.state.training.date),"Time: ",r.a.createElement("span",{className:"card-header-title"},this.state.training.time),"Sport: ",r.a.createElement("span",{className:"card-header-title"},this.state.training.sports.map((function(e){return e+", "})))," ",r.a.createElement("br",null),this.bookingForm(this.state.training.limit,this.state.training.bookings),r.a.createElement("div",null,"Description: ",r.a.createElement("span",{className:"card-header-title"},this.state.training.description))),r.a.createElement("hr",null),n&&r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("div",{className:"field"},r.a.createElement("button",{onClick:function(){e.handleBooking(e.state.training._id,e.state.training.user._id,e.state.training.user.name)},className:"button is-fullwidth is-dark"},"Book Time Slot")),!s&&r.a.createElement("div",{className:"field"},r.a.createElement("button",{onClick:function(){e.handleBooking(e.state.training._id,e.state.training.user._id,e.state.training.user.name)},className:"button is-fullwidth is-dark"},"Book Time Slot"))),r.a.createElement("style",null,"            .navbar{              opacity: 0.5;            }            // .big-image{            //   opacity: 2;            // }            .m-scene .image, .index-video, .card{              opacity: 0.5;            }            ")),r.a.createElement("div",{className:"close-training",onClick:this.closeBig}," ",r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})," "))))}}]),a}(r.a.Component),me=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,timeMessage:"",showTrainings:!1,showImages:!1,showArticles:!1,showVideos:!1,showChoices:!0,bookedTraining:!1,isStudent:!1,isAthlete:!1},e.timeOfDay=function(){var t=(new Date).getHours(),a="";console.log("hour: ",t),a=t<12?"Good Morning":t>=12&&t<17?"Good Afternoon":"Good Evening",e.setState({timeMessage:a})},e.clickShow=function(t){e.setState({showChoices:!1}),"training"===t?e.setState({showTrainings:!0,showArticles:!1,showImages:!1,showVideos:!1}):"images"===t?e.setState({showImages:!0,showTrainings:!1,showVideos:!1,showArticles:!1}):"videos"===t?e.setState({showVideos:!0,showTrainings:!1,showImages:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showImages:!1,showTrainings:!1,showVideos:!1})},e.handleBookedTraining=function(e){return e>0||0!==e&&void 0},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e.handleLogout=function(){return u(),window.location.assign("/")},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.timeOfDay(),1===t.data.userType?this.setState({user:t.data,isStudent:!0}):2===t.data.userType&&this.setState({user:t.data,isAthlete:!0}),console.log(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?r.a.createElement("section",{className:"section m-scene"},this.state.showImages&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&r.a.createElement(l.b,{to:this.portfolioUrl},r.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),p()&&r.a.createElement("div",{onClick:this.handleLogout,className:"logout"},r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/logout_vfd7q8.png"})),this.state.showChoices&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title is-2 has-text-centered greeting"},"".concat(this.state.timeMessage," ").concat(this.state.user.name)),r.a.createElement("hr",null)),r.a.createElement("div",{className:"profile-choices-container"},r.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("training")}},this.state.showChoices&&r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/nexttrainings_w7p1yq.png"}),r.a.createElement("span",{className:"".concat(this.state.showTrainings?"selected-menu-choice":"")},"Next Trainings")),r.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("images")}},this.state.showChoices&&r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourphotos_ob9jmp.png"}),r.a.createElement("span",{className:"".concat(this.state.showImages?"selected-menu-choice":"")},"Your Photos")),r.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("videos")}},this.state.showChoices&&r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourvideos_alvfgs.png"}),r.a.createElement("span",{className:"".concat(this.state.showVideos?"selected-menu-choice":"")},"Your Videos")),this.state.isAthlete&&r.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("articles")}},this.state.showChoices&&r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourarticles_lcufmi.png"}),r.a.createElement("span",{className:"".concat(this.state.showArticles?"selected-menu-choice":"")},"Your Articles"))),r.a.createElement("div",{className:"portfolio-container"},this.state.showTrainings&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header"},r.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),r.a.createElement("div",{className:"title is-2"},this.state.user.name," ",r.a.createElement("br",null),r.a.createElement("span",{className:"subtitle is-5"},"Booked Trainings")),"          "),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.isAthlete&&r.a.createElement(r.a.Fragment,null,this.state.user.userTrainings.map((function(t){return r.a.createElement(r.a.Fragment,null,e.handleBookedTraining(t.bookings)&&r.a.createElement(oe,{key:t._id,singleTraining:t}))}))),this.state.isStudent&&r.a.createElement(r.a.Fragment,null,this.state.user.studentTrainings.map((function(t){return r.a.createElement(r.a.Fragment,null,e.handleBookedTraining(t.bookings)&&r.a.createElement(oe,{key:t._id,singleTraining:t}))}))))),this.state.showImages&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header"},r.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),r.a.createElement("div",{className:"title is-2"},this.state.user.name," ",r.a.createElement("br",null),r.a.createElement("span",{className:"subtitle is-5"},"Photos")),"            "),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userImages.map((function(t){return r.a.createElement(z,{key:t._id,user:e.state.user,id:t._id,url:t.url})})))),this.state.showVideos&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header"},r.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),r.a.createElement("div",{className:"title is-2"},this.state.user.name," ",r.a.createElement("br",null),r.a.createElement("span",{className:"subtitle is-5"},"Videos")),"            "),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userVideos.slice(0).reverse().map((function(t){return r.a.createElement(H,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))))),this.state.showArticles&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header"},r.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),r.a.createElement("div",{className:"title is-2"},this.state.user.name," ",r.a.createElement("br",null),r.a.createElement("span",{className:"subtitle is-5"},"Articles"))),r.a.createElement("div",{className:"article-container"},this.state.user.userArticles.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("div",{className:"card-article"},r.a.createElement(l.b,{to:"/articles/".concat(e._id)},r.a.createElement("img",{className:"image-article",src:e.imageUrl,alt:e.title})),r.a.createElement("div",{className:"article-text"},r.a.createElement(l.b,{to:"/articles/".concat(e._id)},r.a.createElement("div",{className:"article-title"},e.title),r.a.createElement("div",{className:"article-border"})),r.a.createElement("div",{className:"subtitle-article"},e.text))))}))),r.a.createElement("hr",null))):null}}]),a}(r.a.Component),ue=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},showFollowers:!1,showFollowedAthletes:!1,user:null,currentUser:null,showChat:!1,showTrainings:!1,showImages:!0,showArticles:!1,showVideos:!1,isStudent:!1,isAthlete:!1,trainingOwnerId:"",trainingOwnerUsername:""},e.alreadyFollowed=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("hej"),e.state.currentUser.following.map((function(t){t.followedUserId==e.state.user._id&&e.setState({alreadyFollowed:!0})}))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)}))),e.handleShowingFollowers=function(){e.setState({showFollowers:!e.state.showFollowers})},e.handleShowingFollowedAthletes=function(){e.setState({showFollowedAthletes:!e.state.showFollowedAthletes})},e.handleChange=function(t){var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=e.props.match.params.id,t.next=5,M(e.state.formData,n);case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 11:e.setState({showChat:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleFollow=Object(g.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.match.params.id,t.next=4,X(a);case 4:return t.sent,n=e.props.match.params.id,t.next=8,T(n);case 8:r=t.sent,e.setState({user:r.data,alreadyFollowed:!e.state.alreadyFollowed,showUnfollow:!1}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.handleUnfollow=function(){e.setState({showUnfollow:!e.state.showUnfollow})},e.handleChat=function(){e.setState({showChat:!1===e.state.showChat})},e.clickShow=function(t){"training"===t?e.setState({showTrainings:!0,showArticles:!1,showImages:!1,showVideos:!1}):"images"===t?e.setState({showImages:!0,showTrainings:!1,showVideos:!1,showArticles:!1}):"videos"===t?e.setState({showVideos:!0,showTrainings:!1,showImages:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showImages:!1,showTrainings:!1,showVideos:!1})},e.handleBookedTraining=function(e){return e>0||0!=e&&void 0},e.availableTraining=function(t){if(t.students.length>0){var a=0;return t.students.map((function(t){e.state.currentUser._id===t.userId&&a++})),!(a>0)||(console.log(a),!1)}return!0},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,T(t);case 4:return a=e.sent,e.next=7,_();case 7:n=e.sent,1===a.data.userType?this.setState({user:a.data,isStudent:!0,currentUser:n.data}):2===a.data.userType&&this.setState({user:a.data,isAthlete:!0,currentUser:n.data}),this.alreadyFollowed(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?r.a.createElement("section",{className:"public-profile-container"},r.a.createElement("div",{className:"profile-header-container"},r.a.createElement("div",{className:"profile-header"},r.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),r.a.createElement("div",{className:"greeting-public"},r.a.createElement("span",{className:"title is-2"},this.state.user.name,this.state.isStudent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:this.handleShowingFollowedAthletes,className:"followed-title"},"Followed Athletes (",this.state.user.following.length,")"),this.state.showFollowedAthletes&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Athletes"),r.a.createElement("span",{className:"close-follow",onClick:this.handleShowingFollowedAthletes}," X "),r.a.createElement("div",{className:"followers-frame"},this.state.user.following.map((function(e){return r.a.createElement("div",{key:e.followedUserId,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.followedUserId)},r.a.createElement("img",{className:"profile-image-follow",src:e.followedUserProfileImage})),r.a.createElement("a",{href:"/profile/".concat(e.followedUserId)},e.followedUserName))}))))),this.state.isAthlete&&r.a.createElement(r.a.Fragment,null,this.state.alreadyFollowed?r.a.createElement("span",{onClick:this.handleUnfollow,className:"already-followed-title"},"Following"):r.a.createElement("span",{onClick:this.handleFollow,className:"follow"}," +Follow Athlete"),this.state.showUnfollow&&r.a.createElement("div",{className:"unfollow"},"Do you want Unfollow ",this.state.user.name,"?",r.a.createElement("br",null),r.a.createElement("span",{className:"unfollow-option"}," ",r.a.createElement("span",{onClick:this.handleFollow,className:"unfollow-yes"},"Yes")," ",r.a.createElement("span",{onClick:this.handleUnfollow},"No")," ")))),r.a.createElement("div",{className:"user-type"},this.state.isStudent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png"}),"Student |"),this.state.isAthlete&&r.a.createElement("div",{className:"followers-title",onClick:this.handleShowingFollowers},r.a.createElement("span",{onClick:this.handleShowingFollowers,className:"followers-title"}),"Followers (",this.state.user.followers.length,")"),this.state.showFollowers&&r.a.createElement("div",{className:"followers-container"},r.a.createElement("span",{className:"follower-title"},"Followers"),r.a.createElement("span",{className:"close-follow",onClick:this.handleShowingFollowers}," X "),r.a.createElement("div",{className:"followers-frame"},this.state.user.followers.map((function(e){return r.a.createElement("div",{key:e.userId,className:"profile-follow"},r.a.createElement("a",{href:"/profile/".concat(e.userId)},r.a.createElement("img",{className:"profile-image-follow",src:e.userProfileImage})),r.a.createElement("a",{href:"/profile/".concat(e.userId)},e.userName))})))),r.a.createElement("div",{className:"message"},r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/message_ffjyj2.png",onClick:this.handleChat}),this.state.showChat&&r.a.createElement("div",{className:"chat-profile-form"},r.a.createElement("div",{className:"profile-header-chat"},r.a.createElement("img",{className:"profile-image-index",src:this.state.user.profileImage}),this.state.user.name,"  ",r.a.createElement("span",{className:"close-message",onClick:this.handleChat}," X ")),r.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement("input",{className:"input",name:"text",onChange:this.handleChange}),r.a.createElement("button",{className:"comment-button"},"Send"))))))),r.a.createElement("div",{className:"profile-choices-container"},r.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),r.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),this.state.isAthlete&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles"),r.a.createElement("span",{onClick:function(){e.clickShow("training")},className:"small-profile-choices ".concat(this.state.showTrainings?"selected-menu-choice":"")},"Trainings")))),r.a.createElement("div",{className:"portfolio-container"},this.state.showTrainings&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return r.a.createElement(r.a.Fragment,null,!t.isFull&&r.a.createElement(r.a.Fragment,null,e.availableTraining(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{key:t._id,singleTraining:t,bookTimeSlot:!0,trainingPage:!1}))))})))),this.state.showImages&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userImages.slice(0).reverse().map((function(t){return r.a.createElement(z,{key:t._id,user:e.state.currentUser,id:t._id,url:t.url})})))),this.state.showVideos&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userVideos.slice(0).reverse().map((function(t){return r.a.createElement(H,{key:t._id,user:e.state.currentUser,id:t._id,url:t.url})})))),this.state.showArticles&&r.a.createElement(r.a.Fragment,null))):null}}]),a}(r.a.Component),de=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={sports:null},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/sports/");case 3:t=e.sent,this.setState({sports:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.sports?r.a.createElement("div",{className:"select is-multiple"},r.a.createElement("select",{multiple:!0,size:"3",onClick:this.props.handleSelect,name:"sports"},r.a.createElement("option",null,"Aerobic"),r.a.createElement("option",null,"Yoga"),r.a.createElement("option",null,"Strength and Conditioning"),r.a.createElement("option",null,"Combat Sports"),r.a.createElement("option",null,"Powerlifting"),r.a.createElement("option",null,"Weightlifting"),r.a.createElement("option",null,"Breathing Exercises"))):null}}]),a}(r.a.Component),pe=function(e){var t=e.renderRedirect,a=e.handleChange,n=e.handleSelect,s=e.handleSubmit,i=(e.handleErrors,e.error),l=e.formData;return r.a.createElement("div",{className:"register-container"},t(),r.a.createElement("div",{className:"register-section add-training"},r.a.createElement("form",{onSubmit:s},r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Training Name:"),r.a.createElement("input",{className:"input ".concat(i.name?"is-danger":""),placeholder:"Name of the training",name:"name",onChange:a,value:l.name}),i.name?r.a.createElement("small",{className:"help is-danger"},i.name):""),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Date:"),r.a.createElement("input",{type:"date",className:"input ".concat(i.date?"is-danger":""),placeholder:"Date Of The Training",name:"date",onChange:a,value:l.date}),i.date?r.a.createElement("small",{className:"help is-danger"},i.date):"")),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Time:"),r.a.createElement("input",{type:"time",className:"input ".concat(i.time?"is-danger":""),placeholder:"Training Time",name:"time",onChange:a,value:l.time}),i.time&&r.a.createElement("small",{className:"help is-danger"},i.time)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Students Capacity Limit:"),r.a.createElement("input",{type:"number",className:"input",placeholder:"Training Capacity Limit",name:"limit",onChange:a,value:l.limit}))),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Description:"),r.a.createElement("input",{className:"input ".concat(i.description?"is-danger":""),placeholder:"Describe Your Training",name:"description",onChange:a,value:l.description}),i.description&&r.a.createElement("small",{className:"help is-danger"},i.description)),r.a.createElement("div",{className:"register-forms field category"},r.a.createElement("label",{className:"label"},"Training Category"),r.a.createElement(de,{handleSelect:n}),i.sports&&r.a.createElement("small",{className:"help is-danger"},i.sports))),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button"},"Add Training")))))},he=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null,trainings:[],formData:{name:"",date:"",time:"",description:"",limit:1,sports:[]},showAdd:!1,showBookedTrainings:!0,showNotBookedTrainings:!1,redirect:!1,studentRedirect:!1,isStudent:!1,isAthlete:!1,isGroupTraining:!1,trainingOwnerId:"",trainingOwnerUsername:"",errors:{name:"",date:"",time:"",description:"",sports:""}},e.handleChange=function(t){console.log("change event: ",t.target.name);var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value)),n=Object(E.a)({},e.state.errors,Object(v.a)({},t.target.name,""));e.setState({formData:a,errors:n})},e.handleSelect=function(t){var a=e.state.formData.sports.concat(t.target.value),n=Object(E.a)({},e.state.formData,{sports:a});e.setState({formData:n})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,F(e.state.formData);case 4:if(201===(n=t.sent).status&&e.setState({redirect:!0}),422!==n.status){t.next=8;break}throw new Error;case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("response: ",t.t0.response.data),e.handleErrors(t.t0.response.data);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.clickShow=function(t){"requests"===t?e.setState({showRequests:!0,showAdd:!1,showBookedTrainings:!1,showNotBookedTrainings:!1}):"add"===t?e.setState({showAdd:!0,showRequests:!1,showBookedTrainings:!1,showNotBookedTrainings:!1}):"booked"===t?e.setState({showBookedTrainings:!0,showRequests:!1,showAdd:!1,showNotBookedTrainings:!1}):"not"===t&&e.setState({showNotBookedTrainings:!0,showRequests:!1,showBookedTrainings:!1,showAdd:!1})},e.handleErrors=function(t){var a="",n="",r="",s="",i="";t.name&&(a="Training Name Is Required"),t.date&&(n="Training Date Is Required"),t.time&&(r="Training Time Is Required"),t.description&&(s="Describe Your Training Please"),t.sports&&(i="Choose Training Categories Please."),e.setState({errors:{name:a,date:n,time:r,description:s,sports:i}})},e.renderRedirect=function(){return e.state.redirect?r.a.createElement(c.a,{to:"/done/training"}):e.state.studentRedirect?r.a.createElement(c.a,{to:"/done/booking/".concat(e.state.trainingOwnerId,"/").concat(e.state.trainingOwnerUsername)}):void 0},e.handleBookedTraining=function(e){return e>0||0!==e&&void 0},e.availableTraining=function(t){if(t.students.length>0){var a=0;return t.students.map((function(t){e.state.user._id===t.userId&&a++})),!(a>0)||(console.log(a),!1)}return!0},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:if(1!==(t=e.sent).data.userType){e.next=11;break}return e.next=7,x.a.get("/api/trainings/");case 7:a=e.sent,this.setState({user:t.data,trainings:a.data,isStudent:!0}),e.next=12;break;case 11:2===t.data.userType&&this.setState({user:t.data,isAthlete:!0});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.formData,n=t.errors;return r.a.createElement(r.a.Fragment,null,this.renderRedirect(),r.a.createElement("section",{className:"section m-scene"},this.state.isAthlete&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-choices-container index"},r.a.createElement("span",{onClick:function(){e.clickShow("booked")},className:"small-profile-choices ".concat(this.state.showBookedTrainings?"selected-menu-choice":"")},"Booked Trainings"),r.a.createElement("span",{onClick:function(){e.clickShow("not")},className:"small-profile-choices ".concat(this.state.showNotBookedTrainings?"selected-menu-choice":"")},"Not Booked Yet"),r.a.createElement("span",{onClick:function(){e.clickShow("add")},className:"small-profile-choices ".concat(this.state.showAdd?"selected-menu-choice":"")},"Add New Training Slots")),this.state.showBookedTrainings&&r.a.createElement("div",{className:"portfolio-container"},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"Your Next Trainings"),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return r.a.createElement(r.a.Fragment,null,e.handleBookedTraining(t.bookings)&&r.a.createElement(oe,{key:t._id,singleTraining:t}))})))),this.state.showNotBookedTrainings&&r.a.createElement("div",{className:"portfolio-container"},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"Your Trainings Without Booking"),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return r.a.createElement(r.a.Fragment,null,!e.handleBookedTraining(t.bookings)&&r.a.createElement(oe,{key:t._id,singleTraining:t}))})))),this.state.showAdd&&r.a.createElement(pe,{renderRedirect:this.renderRedirect,handleChange:this.handleChange,handleSelect:this.handleSelect,handleSubmit:this.handleSubmit,handleErrors:this.handleErrors,formData:a,error:n})),this.state.isStudent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-choices-container index"},r.a.createElement("span",{onClick:function(){e.clickShow("booked")},className:"small-profile-choices ".concat(this.state.showBookedTrainings?"selected-menu-choice":"")},"Find New Trainings"),r.a.createElement("span",{onClick:function(){e.clickShow("not")},className:"small-profile-choices ".concat(this.state.showNotBookedTrainings?"selected-menu-choice":"")},"My Next Trainings")),this.state.showNotBookedTrainings&&r.a.createElement("div",{className:"portfolio-container"},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"My Next Trainings"),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.studentTrainings.map((function(e){return r.a.createElement(oe,{key:e._id,singleTraining:e})})))),this.state.showBookedTrainings&&r.a.createElement("div",{className:"portfolio-container"},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"All Available Trainings"),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.trainings.map((function(t){return r.a.createElement(r.a.Fragment,null,e.availableTraining(t)&&r.a.createElement(r.a.Fragment,null,!t.isFull&&r.a.createElement(oe,{key:t._id,singleTraining:t,bookTimeSlot:!0,trainingPage:!0})))})))))))}}]),a}(r.a.Component),fe=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formData:{text:""},user:null,showMessages:!1,chats:null,profileImage:"",username:"",userId:"",isStudent:!1},e.handleChange=function(t){console.log("change event: ",t.target.name);var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a,n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,M(e.state.formData,n);case 4:r=t.sent,s=Object(E.a)({},e.state.formData,{text:""}),e.setState({formData:s}),console.log(r.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 13:e.getData(e.state.chats._id);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}(),e.getMessages=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(a);case 3:return n=t.sent,t.next=6,e.setState({chats:n.data,showMessages:!0});case 6:return t.next=8,e.getUser();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.getUser=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0,e.state.chats.senderId!==e.state.user._id?e.setState({profileImage:e.state.chats.senderProfileImage,username:e.state.chats.senderName,userId:e.state.chats.senderId}):e.state.chats.receiverId!==e.state.user._id&&e.setState({profileImage:e.state.chats.receiverProfileImage,username:e.state.chats.receiverName,userId:e.state.chats.receiverId});case 2:case"end":return t.stop()}}),t)}))),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.setState({user:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:return a=e.sent,e.next=6,this.setState({chats:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?(console.log(this.state.userId),r.a.createElement("div",{className:"chat-profile-container"},r.a.createElement("div",{className:"chat-profile-side"},this.state.user.userChats.slice(0).reverse().map((function(t){return t.receiverId!==e.state.user._id?r.a.createElement("div",{onClick:function(){e.getMessages(t._id)},key:t.receiverId,className:"profile-header-chat-page"},r.a.createElement("img",{className:"profile-image-index",src:t.receiverProfileImage}),t.receiverName):t.senderId!==e.state.user._id?r.a.createElement("div",{onClick:function(){e.getMessages(t._id)},key:t.senderId,className:"profile-header-chat-page"},r.a.createElement("img",{className:"profile-image-index",src:t.senderProfileImage}),t.senderName):void 0}))),0===this.state.user.userChats.length&&r.a.createElement("div",{className:"no-messages"},r.a.createElement("h1",{className:"title is-2"},"You Have No Messages Yet")),this.state.showMessages&&r.a.createElement("div",{className:"messages-section"},r.a.createElement(l.b,{to:"/profile/".concat(this.state.userId)},r.a.createElement("div",{className:"profile-header profile-messages"},r.a.createElement("img",{className:"profile-image",src:this.state.profileImage}),r.a.createElement("div",{className:"greeting-public"},r.a.createElement("span",{className:"title is-2"},this.state.username),r.a.createElement("div",{className:"user-type"},r.a.createElement("img",{src:"".concat(this.state.isStudent?"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/athlete_gwre8y.png")}),this.state.user.userType.name)))),r.a.createElement("div",{className:"chat-history-container"},r.a.createElement("div",{className:"chat-history"},this.state.chats.subChat.slice(0).reverse().map((function(t){return e.state.user._id===t.senderId?r.a.createElement("div",{key:t._id,className:"one-message-container"},r.a.createElement("span",{className:"one-message"},t.text)):r.a.createElement("div",{key:t._id,className:"one-message-container-other"},r.a.createElement("span",{className:"one-message-other"},t.text))})))),r.a.createElement("div",{className:"messages-form-container"},r.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t,e.state.userId)}},r.a.createElement("input",{className:"input",name:"text",onChange:this.handleChange,value:this.state.formData.text}),r.a.createElement("button",{className:"comment-button"},"Send")))))):null}}]),a}(r.a.Component),ge=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={formData:{name:"",email:"",password:"",passwordConfirmation:"",sports:[],userType:"",bio:"",profileImage:"https://d1nhio0ox7pgb.cloudfront.net/_img/o_collection_png/green_dark_grey/512x512/plain/user.png"},redirect:!1,isLoading:!1,errors:{name:"",email:"",password:"",passwordConfirmation:"",sports:"",userType:""}},e.handleChange=function(t){console.log("change evet: ",t.target.name);var a=Object(E.a)({},e.state.formData,Object(v.a)({},t.target.name,t.target.value)),n=Object(E.a)({},e.state.errors,Object(v.a)({},t.target.name,""));e.setState({formData:a,errors:n})},e.handleSelect=function(t){var a=e.state.formData.sports.concat(t.target.value),n=Object(E.a)({},e.state.formData,{sports:a});e.setState({formData:n})},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,e.setState({loading:!0}),t.next=5,D(e.state.formData);case 5:if(201!==(n=t.sent).status){t.next=12;break}return t.next=9,U(e.state.formData);case 9:r=t.sent,o(r.data.token),e.setState({redirect:!0});case 12:if(422!==n.status){t.next=14;break}throw new Error;case 14:t.next=21;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("response: ",t.t0.response.data),e.handleErrors(t.t0.response.data),e.setState({loading:!1});case 21:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}(),e.handleErrors=function(t){var a="",n="",r="",s="",i="",l=1;t.name&&(a="Your Username Is Required"),t.email&&(n=t.email),t.password&&(r="Password is required"),t.passwordConfirmation&&(s="Password confirmation does not match"),t.sports&&(i="Please choose your sports"),t.userType&&(l="Are you looking for trainings or offering trainings? Please choose"),e.setState({errors:{name:a,email:n,password:r,passwordConfirmation:s,sports:i,userType:l}})},e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(c.a,{to:"/done/register"})},e.setUrl=function(t){var a=Object(E.a)({},e.state.formData,{profileImage:t});e.setState({formData:a})},e.handleUpload=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","ins6nrmj"),t.next=7,x.a.post("https://api.cloudinary.com/v1_1/djq7pruxd/upload",n);case 7:r=t.sent,console.log(r.data),e.setState({isLoading:!1}),e.setUrl(r.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.errors;return console.log(this.state.formData),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/",className:"navbar-item"},r.a.createElement("span",{className:"logo-navbar"},"gyminy")),r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"register-section"},this.renderRedirect(),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"has-text-centered title register-title"},"Join Our Virtual Gym"),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Username:"),r.a.createElement("input",{className:"input ".concat(a.name?"is-danger":""),placeholder:"name",name:"name",onChange:this.handleChange,value:t.name}),a.name?r.a.createElement("small",{className:"help is-danger"},a.name):""),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email:"),r.a.createElement("input",{className:"input ".concat(a.email?"is-danger":""),placeholder:"Email",name:"email",onChange:this.handleChange,value:t.email}),this.state.errors.email?r.a.createElement("small",{className:"help is-danger"},a.email):"")),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password:"),r.a.createElement("input",{className:"input ".concat(a.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:t.password}),a.password&&r.a.createElement("small",{className:"help is-danger"},a.password)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password Confirmation:"),r.a.createElement("input",{type:"password",className:"input ".concat(a.passwordConfirmation?"is-danger":""),placeholder:"Password Confirmation",name:"passwordConfirmation",onChange:this.handleChange,value:t.passwordConfirmation}),a.passwordConfirmation&&r.a.createElement("small",{className:"help is-danger"},a.passwordConfirmation))),r.a.createElement("div",{className:"register-forms-container field"},r.a.createElement("div",{className:"register-forms"},r.a.createElement("label",{className:"label"},"What are you interested in?"),r.a.createElement(de,{handleSelect:this.handleSelect}),a.sports&&r.a.createElement("small",{className:"help is-danger"},a.sports)),r.a.createElement("div",{className:"register-forms register-type"},r.a.createElement("label",{className:"label"},"Do You Wanna Offer Trainings(Athlete) Or Find Trainings(Student)"),r.a.createElement("label",{className:"radio"},r.a.createElement("input",{type:"radio",name:"userType",value:1,onChange:this.handleChange}),r.a.createElement("span",{className:"register-forms-span"},"Student")),r.a.createElement("label",{className:"radio"},r.a.createElement("input",{type:"radio",name:"userType",value:2,onChange:this.handleChange}),r.a.createElement("span",{className:"register-forms-span"},"Athlete"))),a.userType&&r.a.createElement("small",{className:"help is-danger"},a.userType)),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Bio:"),r.a.createElement("textarea",{className:"textarea",rows:"4",cols:"40",placeholder:"Your Bio",name:"bio",onChange:this.handleChange,value:t.bio})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Upload Your Profile Picture"),r.a.createElement("div",{className:"upload-portfolio-register"},r.a.createElement("input",{className:"input",type:"file",onChange:this.handleUpload}),r.a.createElement("div",null,t.profileImage?r.a.createElement("img",{src:t.profileImage,alt:"User's Upload"}):"")))),this.state.isLoading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image-register"})),!this.state.isLoading&&r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth register-button ".concat(this.state.loading?"is-loading":"")},"Register")))))))}}]),a}(r.a.Component),ve=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:!1,progress:100},e.progressReducer=function(t){if(e.state.progress>0){var a=t-1;e.setState({progress:a})}},e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(c.a,{to:"/"})},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState({redirect:!0})}),5e3),setInterval((function(){return e.progressReducer(e.state.progress)}),50)}},{key:"render",value:function(){return r.a.createElement("section",{className:"hero is-dark is-fullheight-with-navbar"},this.renderRedirect(),r.a.createElement("div",{className:"hero-body done"},r.a.createElement("div",null,r.a.createElement("h1",{className:"title is-1"},"Error 404"),r.a.createElement("h2",{className:"subtitle"},"Page Not Found")),r.a.createElement("progress",{className:"progress is-large is-link",value:this.state.progress,max:"100"})))}}]),a}(r.a.Component),Ee=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:!1,progress:100,timeBeforeRedirect:3e3,finishBooking:!1,isTrainingOwner:!1,isYou:!1},e.progressReducer=function(t){if(e.state.progress>0){var a=t-1;e.setState({progress:a})}},e.renderRedirect=function(){if(e.state.redirect){if("training"===e.props.match.params.type)return r.a.createElement(c.a,{to:"/profile"});if("register"===e.props.match.params.type)return window.location.assign("/portfolio");if("booking"===e.props.match.params.type){if(e.state.isTrainingOwner)return window.location.assign("/profile/".concat(e.props.match.params.id));if(e.state.isYou)return window.location.assign("/profile")}}},e.handleType=function(){return"training"===e.props.match.params.type?"Training Slot Was Successfully Created":"register"===e.props.match.params.type?"Welcome, Your Account Was Successfully Created":void 0},e.finishBooking=function(){var t=Object(g.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("trainingOwner"!==a){t.next=6;break}return t.next=3,e.setState({finishBooking:!0,timeBeforeRedirect:700,isTrainingOwner:!0});case 3:e.componentDidMount(),t.next=10;break;case 6:if("you"!==a){t.next=10;break}return t.next=9,e.setState({finishBooking:!0,timeBeforeRedirect:700,isYou:!0});case 9:e.componentDidMount();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("register"===this.props.match.params.type||"training"===this.props.match.params.type||this.state.finishBooking)return setTimeout((function(){return e.setState({redirect:!0})}),this.state.timeBeforeRedirect),setInterval((function(){return e.progressReducer(e.state.progress)}),this.state.timeBeforeRedirect/100)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"hero is-light is-fullheight-with-navbar"},this.renderRedirect(),r.a.createElement("div",{className:"hero-body done"},r.a.createElement("h1",{className:"title is-1"},this.handleType()),"booking"===this.props.match.params.type&&r.a.createElement("div",{className:"done-subtitle-wrap"},r.a.createElement("div",{className:"subtitle done-booking"},"Training Slot Was Succesfully Booked, Instructor Will Send You Zoom Invitation Link 15 Minutes Before Training Started"),r.a.createElement("div",{className:"done-button"},r.a.createElement("button",{className:"button",onClick:function(){e.finishBooking("trainingOwner")}},"Go To ",this.props.match.params.username," Profile"),r.a.createElement("button",{className:"button",onClick:function(){e.finishBooking("you")}},"Go To Your Profile"))),r.a.createElement("progress",{className:"progress is-large is-link",value:this.state.progress,max:"100"})))}}]),a}(r.a.Component),we=a(32),Ne=function(e){var t=e.component,a=Object(we.a)(e,["component"]);return p()?r.a.createElement(c.b,Object.assign({},a,{component:t})):(u(),r.a.createElement(c.a,{to:"/"}))},be=function(){return r.a.createElement(l.a,null,p()&&r.a.createElement(ce,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:ie}),r.a.createElement(c.b,{path:"/videos/:id",component:$}),r.a.createElement(c.b,{path:"/images/:id",component:$}),r.a.createElement(c.b,{path:"/articles/:id",component:re}),r.a.createElement(c.b,{path:"/portfolio/",component:K}),r.a.createElement(c.b,{path:"/explore",component:Q}),r.a.createElement(c.b,{path:"/register/",component:ge}),r.a.createElement(c.b,{path:"/login/",component:se}),r.a.createElement(c.b,{path:"/profile/:id",component:ue}),r.a.createElement(Ne,{path:"/profile/",component:me}),r.a.createElement(Ne,{path:"/trainings/",component:he}),r.a.createElement(Ne,{path:"/chat/",component:fe}),r.a.createElement(Ne,{path:"/done/:type/:id/:username/",component:Ee}),r.a.createElement(Ne,{path:"/done/:type/",component:Ee}),r.a.createElement(Ne,{path:"/add/:portfolio/",component:te}),r.a.createElement(Ne,{path:"/newarticle/",component:ne}),r.a.createElement(c.b,{path:"/*",component:ve})))};i.a.render(r.a.createElement(be,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4f35626c.chunk.js.map