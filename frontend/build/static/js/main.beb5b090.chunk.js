/*! For license information please see main.beb5b090.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,r){e.exports=r(61)},38:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(30),i=r.n(o),c=(r(38),r(1)),s=r(10),l=function(e){window.localStorage.setItem("token",e)},u=function(){return window.localStorage.getItem("token")},h=function(){localStorage.removeItem("token")},f=function(){var e=u();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))},m=function(){var e=f();return!!e&&Math.round(Date.now()/1e3)<e.exp},p=r(3),d=r(9),v=r(2),g=r(4),y=r(5),w=r(7),E=r(6),b=r(8),x=r.n(b),N=function(){return{headers:{Authorization:"Bearer ".concat(u())}}},L=function(){return x.a.get("/api/images/")},k=function(e){return x.a.get("/api/images/".concat(e))},O=function(){return x.a.get("/api/videos/")},j=function(e){return x.a.get("/api/videos/".concat(e))},_=function(){return x.a.get("/api/profile/",N())},S=function(e){return x.a.get("/api/profile/".concat(e))},T=function(e){return x.a.post("/api/register/",e)},I=function(e){return x.a.post("/api/login/",e)},C=function(e){return x.a.get("/api/trainings/".concat(e),N())},F=function(e){return x.a.post("/api/trainings/",e,N())},P=function(e){return x.a.put("/api/trainings/".concat(e),{},N())},G=function(e){return x.a.post("/api/images/",e,N())},A=function(e){return x.a.post("/api/videos/",e,N())},D=function(e){return x.a.post("/api/articles/",e,N())},U=function(e,t){return x.a.post("/api/images/".concat(t,"/comments"),e,N())},B=function(e,t){return x.a.post("/api/videos/".concat(t,"/comments"),e,N())},Y=function(e,t){return x.a.post("/api/chats/".concat(t),e,N())},q=function(e){return x.a.get("/api/chats/".concat(e),N())},V=function(e){return x.a.post("/api/likes",e,N())},R=function(e){return x.a.post("/api/videolikes",e,N())},M=function(e,t){return x.a.post("/api/follow/".concat(e),t,N())},W=function(e){return x.a.post("/api/notifications",e,N())};function H(){H=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var X=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},likeData:{image:""},image:!1,showBigImage:!1,showBigPortfolio:!1},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(H().mark((function t(r,n){var a,o,i;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,U(a,n);case 5:return t.sent,t.next=8,k(n);case 8:o=t.sent,i=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({image:o.data,formData:i}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),e.closeImage=function(){e.setState({showBigPortfolio:!1})},e.bigImage=Object(p.a)(H().mark((function t(){var r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.props.id);case 2:r=t.sent,e.setState({image:r.data,showBigPortfolio:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(y.a)(r,[{key:"likeImage",value:function(){var e=Object(p.a)(H().mark((function e(t){var r,n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={imageId:t},e.next=4,V(r);case 4:return e.sent,e.next=7,k(t);case 7:n=e.sent,this.setState({image:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0,r=this.props,n=r.title,o=r.url,i=r.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onClick:this.bigImage,className:"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},a.a.createElement("figure",{className:"image is-1by1"},a.a.createElement("img",{src:o,alt:n}))),this.state.showBigPortfolio&&a.a.createElement("div",{className:"show-big-image"},a.a.createElement("div",{className:"big-image-card"},a.a.createElement("img",{className:"big-image",src:this.state.image.url}),a.a.createElement("div",{className:"big-image-side"},a.a.createElement("div",{className:"profile-header-index"},a.a.createElement(c.b,{to:"/profile/".concat(this.state.image.user._id),className:"portfolio-header-part"},a.a.createElement("img",{className:"profile-image-index",src:this.state.image.user.profileImage}),this.state.image.user.name),a.a.createElement("div",{className:"like-img"},this.state.image.likes.map((function(e){e.userId==i._id&&t++})),a.a.createElement("img",{className:"small-like-img",src:0==t?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(e.state.image._id)}}),a.a.createElement("span",{className:"like-counter"},this.state.image.likes.length)),a.a.createElement("div",{className:"portfolio-header-part"})),a.a.createElement("hr",{className:"hr-comment"}),a.a.createElement("div",{className:"description-and-comments"},a.a.createElement("div",{className:"big-image-description"},this.state.image.description),a.a.createElement("hr",{className:"hr-comment"}),a.a.createElement("div",{className:"show-comments"},this.state.image.comments.slice(0).reverse().map((function(e){return a.a.createElement("div",{className:"single-comment",key:e._id},a.a.createElement("div",{className:"profile-header-comment"},a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},a.a.createElement("img",{className:"profile-image-comment",src:e.user.profileImage})),a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},e.user.name))," ",e.text)})))),a.a.createElement("form",{className:"comment-add-container",onSubmit:function(t){e.handleSubmit(t,e.state.image._id)}},a.a.createElement("input",{className:"input",placeholder:"...",name:"text",value:this.state.formData.text,onChange:this.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post")),a.a.createElement("style",null,"              .navbar{                opacity: 0.5;              }              .m-scene .image, .index-video{                opacity: 0.5;              }              ")),a.a.createElement("div",{onClick:this.closeImage,className:"close"},a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})))))}}]),r}(a.a.Component);function J(){J=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var z=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},likeData:{video:""},video:!1,showBigVideo:!1,showBigPortfolio:!1},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(J().mark((function t(r,n){var a,o,i;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,B(a,n);case 5:return t.sent,t.next=8,j(n);case 8:o=t.sent,i=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({video:o.data,formData:i}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),e.closeImage=function(){e.setState({showBigPortfolio:!1})},e.bigVideo=Object(p.a)(J().mark((function t(){var r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e.props.id);case 2:r=t.sent,e.setState({video:r.data,showBigPortfolio:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(y.a)(r,[{key:"likeVideo",value:function(){var e=Object(p.a)(J().mark((function e(t){var r,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={videoId:t},e.next=4,R(r);case 4:return e.sent,e.next=7,j(t);case 7:n=e.sent,this.setState({video:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0,r=this.props,n=r.title,o=r.url,i=r.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onClick:this.bigVideo,className:"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},a.a.createElement("video",{className:"index-video",src:o,alt:n})),this.state.showBigPortfolio&&a.a.createElement("div",{className:"show-big-image"},a.a.createElement("div",{className:"big-image-card"},a.a.createElement("video",{className:"big-image",src:this.state.video.url,controls:!0}),a.a.createElement("div",{className:"big-image-side"},a.a.createElement("div",{className:"profile-header-index"},a.a.createElement(c.b,{to:"/profile/".concat(this.state.video.user._id),className:"portfolio-header-part"},a.a.createElement("img",{className:"profile-image-index",src:this.state.video.user.profileImage}),this.state.video.user.name),a.a.createElement("div",{className:"like-img"},this.state.video.likes.map((function(e){e.userId==i._id&&t++})),a.a.createElement("img",{className:"small-like-img",src:0==t?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(e.state.video._id)}}),a.a.createElement("span",{className:"like-counter"},this.state.video.likes.length)),a.a.createElement("div",{className:"portfolio-header-part"})),a.a.createElement("hr",{className:"hr-comment"}),a.a.createElement("div",{className:"description-and-comments"},a.a.createElement("div",{className:"big-image-description"},this.state.video.description),a.a.createElement("hr",{className:"hr-comment"}),a.a.createElement("div",{className:"show-comments"},this.state.video.comments.slice(0).reverse().map((function(e){return a.a.createElement("div",{className:"single-comment",key:e._id},a.a.createElement("div",{className:"profile-header-comment"},a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},a.a.createElement("img",{className:"profile-image-comment",src:e.user.profileImage})),a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},e.user.name))," ",e.text)})))),a.a.createElement("div",{className:"post-comment"},a.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t,e.state.video._id)}},a.a.createElement("div",{className:"comment-add-container"},a.a.createElement("input",{className:"input",placeholder:"...",name:"text",value:this.state.formData.text,onChange:this.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))),a.a.createElement("style",null,"              .navbar{                opacity: 0.5;              }              .m-scene .image, .index-video{                opacity: 0.5;              }              ")),a.a.createElement("div",{onClick:this.closeImage,className:"close"},a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})))))}}]),r}(a.a.Component);function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Z=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={articles:[]},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(K().mark((function e(){var t;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/articles/");case 3:t=e.sent,this.setState({articles:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.articles),a.a.createElement("div",{className:"article-container"},0===this.state.articles.length&&a.a.createElement("h1",null,"Media Of Your Followed Athletes Will Appear Here"),this.state.articles.slice(0).reverse().map((function(e){return a.a.createElement("div",{key:e._id},a.a.createElement("div",{className:"card-article"},a.a.createElement(c.b,{to:"/articles/".concat(e._id)},a.a.createElement("img",{className:"image-article",src:e.imageUrl,alt:e.title})),a.a.createElement("span",{className:"article-author"},a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},e.user.name)),a.a.createElement("div",{className:"article-text"},a.a.createElement(c.b,{to:"/articles/".concat(e._id)},a.a.createElement("div",{className:"article-title"},e.title),a.a.createElement("div",{className:"article-border"})),a.a.createElement("div",{className:"subtitle-article"},e.text))))})))}}]),r}(a.a.Component);function Q(){Q=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var $=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},user:null,images:[],videos:[],showImages:!0,showVideos:!1,showArticles:!1,imageId:!1,videoId:!1,showLikes:!1,image:null,video:null},e.handleShowingLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,image:t})},e.handleShowingVideoLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,video:t})},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(Q().mark((function t(r,n){var a,o,i,c,s;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,U(a,n);case 5:return t.sent,t.next=8,L();case 8:o=t.sent,i=o.data,c=i.filter((function(t){var r=0;if(e.state.user.following.map((function(e){t.user._id==e.followedUserId&&r++})),r>0)return t})),s=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),console.log(c),e.setState({formData:s,images:c}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,r){return t.apply(this,arguments)}}(),e.handleVideoSubmit=function(){var t=Object(p.a)(Q().mark((function t(r,n){var a,o,i,c,s;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,B(a,n);case 5:return t.sent,t.next=8,O();case 8:o=t.sent,i=o.data,c=i.filter((function(t){var r=0;if(e.state.user.following.map((function(e){t.user._id==e.followedUserId&&r++})),r>0)return t})),s=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({formData:s,videos:c}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}(),e.clickShow=function(t){"videos"===t?e.setState({showVideos:!0,showImages:!1,showArticles:!1}):"images"===t?e.setState({showImages:!0,showVideos:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showVideos:!1,showImages:!1})},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(Q().mark((function e(){var t,r,n,a,o,i,c;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:return t=e.sent,e.next=6,O();case 6:return r=e.sent,n=r.data,e.next=10,L();case 10:a=e.sent,o=a.data,i=o.filter((function(e){var r=0;if(t.data.following.map((function(t){e.user._id==t.followedUserId&&r++})),r>0)return e})),console.log(o),c=n.filter((function(e){var r=0;if(t.data.following.map((function(t){e.user._id==t.followedUserId&&r++})),r>0)return e})),this.setState({user:t.data,images:i,videos:c}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"likeImage",value:function(){var e=Object(p.a)(Q().mark((function e(t){var r,n,a,o,i=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={imageId:t},e.next=4,V(r);case 4:return e.sent,e.next=7,L();case 7:n=e.sent,a=n.data,o=a.filter((function(e){var t=0;if(i.state.user.following.map((function(r){e.user._id==r.followedUserId&&t++})),t>0)return e})),this.setState({images:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"likeVideo",value:function(){var e=Object(p.a)(Q().mark((function e(t){var r,n,a,o,i=this;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={videoId:t},e.next=4,R(r);case 4:return e.sent,e.next=7,O();case 7:n=e.sent,a=n.data,o=a.filter((function(e){var t=0;if(i.state.user.following.map((function(r){e.user._id==r.followedUserId&&t++})),t>0)return e})),this.setState({videos:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"m-scene"},this.state.showImages&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),a.a.createElement("div",{className:"profile-choices-container index"},a.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),a.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),a.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles")),a.a.createElement("div",{className:"portfolio-container"},this.state.showImages&&a.a.createElement("div",{className:"images-container"},0===this.state.images.length&&a.a.createElement("h1",null,"Media Of Your Followed Athletes Will Appear Here"),this.state.images.slice(0).reverse().map((function(t){var r=0;return a.a.createElement("div",{key:t._id,className:"small-image"},a.a.createElement("div",{className:"small-image-header"},a.a.createElement(c.b,{to:"/profile/".concat(t.user._id)},a.a.createElement("div",{className:"small-image-profile"},a.a.createElement("img",{src:t.user.profileImage}),t.user.name))),a.a.createElement("figure",{className:"image is-1by1"},a.a.createElement("img",{src:t.url,alt:t.title})),a.a.createElement("div",{className:"small-image-footer"},a.a.createElement("div",null,t.likes.map((function(t){t.userId==e.state.user._id&&r++})),a.a.createElement("img",{className:"small-like-img",src:0==r?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(t._id)}}),a.a.createElement("span",{onClick:function(){e.handleShowingLikes(t)},className:"like-counter"},t.likes.length," Likes")),a.a.createElement("span",null,a.a.createElement(c.b,{to:"/profile/".concat(t.user._id)},a.a.createElement("span",{className:"username-footer"},t.user.name)),t.description),e.state.showLikes&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Likes"),a.a.createElement("span",{className:"close-follow",onClick:e.handleShowingLikes}," X "),a.a.createElement("div",{className:"followers-frame"},e.state.image.likes.map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.userId)},a.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),a.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),a.a.createElement("hr",null),a.a.createElement("div",null,t.comments.slice(0).reverse(0).map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-footer"},a.a.createElement("div",{className:"profile-footer-container"},a.a.createElement("img",{src:e.user.profileImage}),a.a.createElement("span",{className:"username"},e.user.name)),a.a.createElement("div",{className:"footer-comment-text"},e.text))})))),a.a.createElement("form",{onClick:function(r){e.handleSubmit(r,t._id)}},a.a.createElement("div",{className:"comment-add-container"},a.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:e.state.formData.text,onChange:e.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post"))))}))),this.state.showVideos&&a.a.createElement("div",{className:"images-container"},0===this.state.videos.length&&a.a.createElement("h1",null,"Media Of Your Followed Athletes Will Appear Here"),this.state.videos.slice(0).reverse().map((function(t){var r=0;return a.a.createElement("div",{key:t._id,className:"small-image"},a.a.createElement("div",{className:"small-image-header"},a.a.createElement(c.b,{to:"/profile/".concat(t.user._id)},a.a.createElement("div",{className:"small-image-profile"},a.a.createElement("img",{src:t.user.profileImage}),t.user.name))),a.a.createElement("video",{className:"videoStyle",src:t.url,alt:t.title,controls:!0}),a.a.createElement("div",{className:"small-image-footer"},a.a.createElement("div",null,t.likes.map((function(t){t.userId==e.state.user._id&&r++})),a.a.createElement("img",{className:"small-like-img",src:0==r?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(t._id)}}),a.a.createElement("span",{onClick:function(){e.handleShowingVideoLikes(t)},className:"like-counter"},t.likes.length," Likes")),a.a.createElement("span",null,a.a.createElement(c.b,{to:"/profile/".concat(t.user._id)},a.a.createElement("span",{className:"username-footer"},t.user.name)),t.description),e.state.showLikes&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Likes"),a.a.createElement("span",{className:"close-follow",onClick:e.handleShowingVideoLikes}," X "),a.a.createElement("div",{className:"followers-frame"},e.state.video.likes.map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.userId)},a.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),a.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),a.a.createElement("hr",null),a.a.createElement("div",null,t.comments.slice(0).reverse(0).map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-footer"},a.a.createElement("div",{className:"profile-footer-container"},a.a.createElement("img",{src:e.user.profileImage}),a.a.createElement("span",{className:"username"},e.user.name)),a.a.createElement("div",{className:"footer-comment-text"},e.text))})))),a.a.createElement("form",{onClick:function(r){e.handleVideoSubmit(r,t._id)}},a.a.createElement("div",{className:"comment-add-container"},a.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:e.state.formData.text,onChange:e.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post"))))}))))),this.state.showArticles&&a.a.createElement(Z,null))}}]),r}(a.a.Component);function ee(){ee=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var te=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={images:[],videos:[],user:null,showImages:!0,showVideos:!1,showArticles:!1,showBigPortfolio:!1,displayPhotoUrl:"",displayTitle:"",displayUsername:"",displayLikes:"",displayUserId:"",displayProfileUrl:"",displayDescription:"",displayComments:[],displayPortfolioId:"",newComments:!1},e.clickShow=function(t){"videos"===t?e.setState({showVideos:!0,showImages:!1,showArticles:!1}):"images"===t?e.setState({showImages:!0,showVideos:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showVideos:!1,showImages:!1})},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(ee().mark((function e(){var t,r,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:return t=e.sent,e.next=6,O();case 6:return r=e.sent,e.next=9,_();case 9:n=e.sent,this.setState({images:t.data,videos:r.data,user:n.data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.images),a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"m-scene"},this.state.showImages&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),a.a.createElement("div",{className:"profile-choices-container index"},a.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),a.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),a.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles")),a.a.createElement("div",{className:"portfolio-container"},this.state.showImages&&a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.images.slice(0).reverse().map((function(t){return a.a.createElement(X,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))),this.state.showVideos&&a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.videos.slice(0).reverse().map((function(t){return a.a.createElement(z,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))))),this.state.showArticles&&a.a.createElement(Z,null))}}]),r}(a.a.Component);function re(){re=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var ne=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},user:null,imageId:!1,videoId:!1,showLikes:!1,image:null,video:null,showImage:!1,showVideo:!1},e.handleShowingLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,image:t})},e.handleShowingVideoLikes=function(t){e.setState({showLikes:!0!==e.state.showLikes,video:t})},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(re().mark((function t(r,n){var a,o,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,U(a,n);case 5:return t.sent,t.next=8,k(n);case 8:o=t.sent,i=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({formData:i,image:o.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),e.handleVideoSubmit=function(){var t=Object(p.a)(re().mark((function t(r,n){var a,o,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a=Object(v.a)({},e.state.formData),t.next=5,B(a,n);case 5:return t.sent,t.next=8,j(n);case 8:o=t.sent,i=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({formData:i,video:o.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(re().mark((function e(){var t,r,n,a,o,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.match.path.includes("videos")){e.next=12;break}return t=this.props.match.params.id,e.next=5,j(t);case 5:return r=e.sent,e.next=8,_();case 8:return n=e.sent,e.abrupt("return",this.setState({video:r.data,user:n.data,showVideo:!0}));case 12:return a=this.props.match.params.id,e.next=15,k(a);case 15:return o=e.sent,e.next=18,_();case 18:return i=e.sent,e.abrupt("return",this.setState({image:o.data,user:i.data,showImage:!0}));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),this.props.history.push("/notfound");case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"likeImage",value:function(){var e=Object(p.a)(re().mark((function e(t){var r,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={imageId:t},e.next=4,V(r);case 4:return e.sent,e.next=7,k(t);case 7:n=e.sent,this.setState({image:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"likeVideo",value:function(){var e=Object(p.a)(re().mark((function e(t){var r,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={videoId:t},e.next=4,R(r);case 4:return e.sent,e.next=7,j(t);case 7:n=e.sent,this.setState({video:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,r=t.image,n=t.video,o=0;return r||n?a.a.createElement("section",{className:"m-scene"},a.a.createElement("div",{className:"single"},this.state.showImage&&a.a.createElement("div",{className:"small-image"},a.a.createElement("div",{className:"small-image-header"},a.a.createElement(c.b,{to:"/profile/".concat(r.user._id)},a.a.createElement("div",{className:"small-image-profile"},a.a.createElement("img",{src:r.user.profileImage}),r.user.name))),a.a.createElement("figure",{className:"image is-1by1"},a.a.createElement("img",{src:r.url,alt:r.title})),a.a.createElement("div",{className:"small-image-footer"},a.a.createElement("div",null,r.likes.map((function(t){t.userId==e.state.user._id&&o++})),a.a.createElement("img",{className:"small-like-img",src:0==o?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeImage(r._id)}}),a.a.createElement("span",{onClick:function(){e.handleShowingLikes(r)},className:"like-counter"},r.likes.length," Likes")),a.a.createElement("span",null,a.a.createElement(c.b,{to:"/profile/".concat(r.user._id)},a.a.createElement("span",{className:"username-footer"},r.user.name)),r.description),this.state.showLikes&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Likes"),a.a.createElement("span",{className:"close-follow",onClick:this.handleShowingLikes}," X "),a.a.createElement("div",{className:"followers-frame"},r.likes.map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.userId)},a.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),a.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),a.a.createElement("hr",null),a.a.createElement("div",null,r.comments.slice(0).reverse(0).map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-footer"},a.a.createElement("div",{className:"profile-footer-container"},a.a.createElement("img",{src:e.user.profileImage}),a.a.createElement("span",{className:"username"},e.user.name)),a.a.createElement("div",{className:"footer-comment-text"},e.text))})))),a.a.createElement("form",{onClick:function(t){e.handleSubmit(t,r._id)}},a.a.createElement("div",{className:"comment-add-container"},a.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:this.state.formData.text,onChange:this.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))),this.state.showVideo&&a.a.createElement("div",{className:"small-image"},a.a.createElement("div",{className:"small-image-header"},a.a.createElement(c.b,{to:"/profile/".concat(n.user._id)},a.a.createElement("div",{className:"small-image-profile"},a.a.createElement("img",{src:n.user.profileImage}),n.user.name))),a.a.createElement("figure",{className:"image is-1by1"},a.a.createElement("video",{className:"video",src:n.url,alt:n.title,controls:!0})),a.a.createElement("div",{className:"small-image-footer"},a.a.createElement("div",null,n.likes.map((function(t){t.userId==e.state.user._id&&o++})),a.a.createElement("img",{className:"small-like-img",src:0==o?"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png",onClick:function(){e.likeVideo(n._id)}}),a.a.createElement("span",{onClick:function(){e.handleShowingVideoLikes(n)},className:"like-counter"},n.likes.length," Likes")),a.a.createElement("span",null,a.a.createElement(c.b,{to:"/profile/".concat(n.user._id)},a.a.createElement("span",{className:"username-footer"},n.user.name)),n.description),this.state.showLikes&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Likes"),a.a.createElement("span",{className:"close-follow",onClick:this.handleShowingVideoLikes}," X "),a.a.createElement("div",{className:"followers-frame"},n.likes.map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.userId)},a.a.createElement("img",{className:"profile-image-follow",src:e.profileImage})),a.a.createElement("a",{href:"/profile/".concat(e.userId)},e.username))})))),a.a.createElement("hr",null),a.a.createElement("div",null,n.comments.slice(0).reverse(0).map((function(e){return a.a.createElement("div",{key:e._id,className:"profile-footer"},a.a.createElement("div",{className:"profile-footer-container"},a.a.createElement("img",{src:e.user.profileImage}),a.a.createElement("span",{className:"username"},e.user.name)),a.a.createElement("div",{className:"footer-comment-text"},e.text))})))),a.a.createElement("form",{onClick:function(t){e.handleVideoSubmit(t,n._id)}},a.a.createElement("div",{className:"comment-add-container"},a.a.createElement("input",{className:"input",name:"text",placeholder:"...",value:this.state.formData.text,onChange:this.handleChange}),a.a.createElement("button",{className:"comment-button",type:"submit"},"Post")))))):null}}]),r}(a.a.Component);function ae(){ae=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var oe="https://api.cloudinary.com/v1_1/gyminy/upload",ie=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={formData:{url:"",description:""},isLoading:!1,redirect:!1,error:""},e.portfolioName=e.props.match.params.portfolio,e.isImage=function(){return"images"===e.portfolioName},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r,error:""})},e.handleSubmit=function(){var t=Object(p.a)(ae().mark((function t(r){return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,"images"!==e.props.match.params.portfolio){t.next=7;break}return t.next=5,G(e.state.formData);case 5:t.next=10;break;case 7:if("videos"!==e.props.match.params.portfolio){t.next=10;break}return t.next=10,A(e.state.formData);case 10:e.setState({redirect:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.setState({error:"Invalid Credentials"});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return a.a.createElement(s.a,{to:"/portfolio"})},e.portfolioType=function(){return"images"===e.portfolioName?"Photo":"videos"===e.portfolioName?"Video":void 0},e.setUrl=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},{url:t});e.setState({formData:r})},e.handleUpload=function(){var t=Object(p.a)(ae().mark((function t(r){var n,a;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",r.target.files[0]),"images"===e.portfolioName?n.append("upload_preset","893724"):"videos"===e.portfolioName&&n.append("upload_preset","evgroxyf"),t.next=7,x.a.post(oe,n);case 7:a=t.sent,console.log(a.data),e.setState({isLoading:!1}),e.setUrl(a.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(r,[{key:"render",value:function(){var e=this.state,t=e.formData,r=e.error;return console.log(t.url),console.log(t),a.a.createElement("section",{className:"add-form-section"},this.renderRedirect(),a.a.createElement("h1",{className:"title"},"Add New ",this.portfolioType()),a.a.createElement("div",{className:"add-form-container"},a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("label",{className:"label"},"Choose Your ",this.portfolioType()),a.a.createElement("div",{className:"upload-portfolio"},a.a.createElement("input",{className:"input ".concat(r.url?"is-danger":""),type:"file",onChange:this.handleUpload}),this.isImage()&&a.a.createElement(a.a.Fragment,null,t.url?a.a.createElement("img",{src:t.url,alt:"User's Upload"}):""),!this.isImage()&&a.a.createElement(a.a.Fragment,null,t.url?a.a.createElement("video",{src:t.url,alt:"User's Upload",controls:!0}):"")),r.url&&a.a.createElement("small",{className:"help is-danger"},r.url),a.a.createElement("textarea",{className:"textarea ".concat(r?"is-danger":""),placeholder:"Few Word To Describe It?",rows:"3",cols:"40",name:"description",onChange:this.handleChange,value:t.description}),r&&a.a.createElement("small",{className:"help is-danger"},r),this.state.isLoading&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image"})),!this.state.isLoading&&a.a.createElement("button",{type:"submit",className:"button"}," Post It"))))}}]),r}(a.a.Component);function ce(){ce=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var se="https://api.cloudinary.com/v1_1/gyminy/upload",le=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={formData:{imageUrl:"",titleImageUrl:"",text:"",title:""},isLoading:!1,redirect:!1,error:""},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r,error:""})},e.handleSubmit=function(){var t=Object(p.a)(ce().mark((function t(r){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,D(e.state.formData);case 4:e.setState({redirect:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({error:"Invalid Credentials"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return a.a.createElement(s.a,{to:"/portfolio"})},e.setUrl=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},{imageUrl:t});e.setState({formData:r})},e.handleUpload=function(){var t=Object(p.a)(ce().mark((function t(r){var n,a;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",r.target.files[0]),n.append("upload_preset","893724"),t.next=7,x.a.post(se,n);case 7:a=t.sent,console.log(a.data),e.setState({isLoading:!1}),e.setUrl(a.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.setBigUrl=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},{titleImageUrl:t});e.setState({formData:r})},e.handleBigUpload=function(){var t=Object(p.a)(ce().mark((function t(r){var n,a;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",r.target.files[0]),n.append("upload_preset","893724"),t.next=7,x.a.post(se,n);case 7:a=t.sent,console.log(a.data),e.setState({isLoading:!1}),e.setBigUrl(a.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(r,[{key:"render",value:function(){var e=this.state,t=e.formData,r=e.error;return console.log(this.state.formData),a.a.createElement("section",{className:"add-article-section"},this.renderRedirect(),a.a.createElement("h1",{className:"title is-2 has-text-centered"},"Add New Article"),a.a.createElement("div",{className:"add-article-container"},a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("label",{className:"label"},"Title"),a.a.createElement("div",{className:"field"},a.a.createElement("input",{className:"input ".concat(r?"is-danger":""),placeholder:"Article Title",name:"title",onChange:this.handleChange,value:t.title}),r&&a.a.createElement("small",{className:"help is-danger"},r)),a.a.createElement("label",{className:"label"},"Small Image"),a.a.createElement("div",{className:"upload-portfolio"},a.a.createElement("input",{className:"input ".concat(r.imageUrl?"is-danger":""),type:"file",onChange:this.handleUpload}),t.imageUrl?a.a.createElement("img",{src:t.imageUrl,alt:"User's Upload",controls:!0}):""),r.imageUrl&&a.a.createElement("small",{className:"help is-danger"},r.imageUrl),a.a.createElement("label",{className:"label"},"Big Image(not mandatory)"),a.a.createElement("div",{className:"upload-portfolio"},a.a.createElement("input",{className:"input ".concat(r.titleImageUrl?"is-danger":""),type:"file",onChange:this.handleBigUpload}),t.titleImageUrl?a.a.createElement("img",{src:t.titleImageUrl,alt:"User's Upload",controls:!0}):""),r.titleImageUrl&&a.a.createElement("small",{className:"help is-danger"},r.titleImageUrl),a.a.createElement("div",{className:"field"},a.a.createElement("textarea",{className:"textarea ".concat(r?"is-danger":""),rows:"15",cols:"70",placeholder:"Text",name:"text",onChange:this.handleChange,value:t.text}),r&&a.a.createElement("small",{className:"help is-danger"},r)),this.state.isLoading&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image"})),!this.state.isLoading&&a.a.createElement("button",{type:"submit",className:"button"}," Post It"))))}}]),r}(a.a.Component);function ue(){ue=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var he=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={article:null},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(ue().mark((function e(){var t,r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,n=t,x.a.get("/api/articles/".concat(n));case 4:return r=e.sent,e.abrupt("return",this.setState({article:r.data}));case 8:e.prev=8,e.t0=e.catch(0),this.props.history.push("/notfound");case 11:case"end":return e.stop()}var n}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.article)return null;console.log(this.state.article);var e=this.state.article;return a.a.createElement("div",{className:"single-article-container"},a.a.createElement("span",{className:"single-article-author"},a.a.createElement(c.b,{to:"/profile/".concat(e.user._id)},e.user.name)),a.a.createElement("div",{className:"title has-text-centered single-article-title"},e.title),a.a.createElement("hr",null),e.titleImageUrl&&a.a.createElement("div",{style:{backgroundImage:"url(".concat(e.titleImageUrl,")")},className:"article-image-container"}),a.a.createElement("div",{className:"single-article-text"},a.a.createElement("p",null,e.text)))}}]),r}(a.a.Component);function fe(){fe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var me=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{email:"",password:""},redirect:!1,loading:!1,error:""},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r,error:""})},e.handleSubmit=function(){var t=Object(p.a)(fe().mark((function t(r){var n;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("new version"),r.preventDefault(),t.prev=2,e.setState({loading:!0}),t.next=6,I(e.state.formData);case 6:n=t.sent,l(n.data.token),e.setState({redirect:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({error:"Invalid Credentials",loading:!1});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return window.location.assign("/portfolio")},e}return Object(y.a)(r,[{key:"render",value:function(){var e=this.state,t=e.formData,r=e.error,n=e.loading;return a.a.createElement("div",{className:"sign-container"},a.a.createElement("div",{className:"sign-card"},this.renderRedirect(),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{className:"field"},a.a.createElement("div",{className:"control"},a.a.createElement("input",{className:"input ".concat(r?"is-danger":""),placeholder:"Email",name:"email",onChange:this.handleChange,value:t.email}))),a.a.createElement("div",{className:"field"},a.a.createElement("div",{className:"control"},a.a.createElement("input",{type:"password",className:"input ".concat(r?"is-danger":""),placeholder:"Password",name:"password",onChange:this.handleChange,value:t.password})),r&&a.a.createElement("small",{className:"help is-danger"},r)),a.a.createElement("div",{className:"field"},a.a.createElement("button",{type:"submit",className:"button is-fullwidth login-button ".concat(n?"is-loading":"")},"Login")),a.a.createElement(c.b,{to:"/register"},a.a.createElement("div",{className:"field"},a.a.createElement("button",{type:"button",className:"button is-fullwidth is-light is-outlined"},"No Account? Sign Up Here"))))))}}]),r}(a.a.Component);function pe(){pe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var de=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={authenticated:!1},e.componentDidMount=Object(p.a)(pe().mark((function t(){return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:if(!t.sent){t.next=5;break}console.log("authenticated"),e.setState({authenticated:!0});case 5:case"end":return t.stop()}}),t)}))),e.renderRedirect=function(){if(e.state.authenticated)return console.log("redirecting"),a.a.createElement(s.a,{to:"/portfolio"})},e}return Object(y.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"home-container"},this.renderRedirect(),a.a.createElement("div",{className:"logo-navbar-container"},a.a.createElement("div",{className:"logo-container"},a.a.createElement("div",{className:"logo"},"gymIny"),a.a.createElement("div",{className:"slogan"},"VIRTUAL GYM, REAL RESULTS")),a.a.createElement("div",{className:"home-navbar"},a.a.createElement(c.b,{to:"/register"},a.a.createElement("span",{className:"home-navbar-item"},"Join GYMINY")),a.a.createElement(c.b,{to:"/about"},a.a.createElement("span",{className:"home-navbar-item"},"About Us")))),a.a.createElement(me,null))}}]),r}(a.a.Component);function ve(){ve=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var ge=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={user:[],isOpen:!1,showSearchBar:!1,allUsers:"",searchUsers:[],startTyping:!1,newNotification:!1,newChat:!1,showNotification:!1},e.notificationFalse=function(){var t=Object(p.a)(ve().mark((function t(r){var n,a,o;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={type:r},t.next=4,W(n);case 4:return a=t.sent,t.next=7,_();case 7:o=t.sent,"chat"===r?e.setState({newChat:o.data.newChat}):e.setState({newNotification:o.data.newNotification,showNotification:!0!==e.state.showNotification}),console.log(a.data),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){t.preventDefault();var r=e.state.allUsers.filter((function(e){var r=t.target.value.toLowerCase(),n=e.name.toLowerCase();if(n.includes(r))return n}));if(t.target.value.split("").length>0)return e.setState({searchUsers:r,startTyping:!0});e.setState({searchUsers:r,startTyping:!1})},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e.handleSearchBar=function(){e.setState({showSearchBar:1!=e.state.showSearchBar})},e.hideSearch=function(){e.setState({showSearchBar:!1})},e.handleRedirect=function(){e.setState({showSearchBar:1!=e.state.showSearchBar,startTyping:!1})},e.notificationType=function(e,t,r,n,o,i){if("like"===t){if("image"===r)return a.a.createElement("div",{className:"notification-result"},e," liked your image ",a.a.createElement(c.b,{to:"/images/".concat(o)},a.a.createElement("img",{className:"image",src:n})));if("video"===r)return a.a.createElement("div",{className:"notification-result"},e," liked your video ",a.a.createElement(c.b,{to:"/videos/".concat(o)},a.a.createElement("video",{className:"image",src:n})))}else if("comment"===t){if("image"===r)return a.a.createElement("div",{className:"notification-result"},e," commented your image ",a.a.createElement(c.b,{to:"/images/".concat(o)},a.a.createElement("img",{className:"image",src:n})));if("video"===r)return a.a.createElement("div",{className:"notification-result"},e," commented your video ",a.a.createElement(c.b,{to:"/videos/".concat(o)},a.a.createElement("video",{className:"image",src:n})))}else{if("follow"===t)return a.a.createElement("div",{className:"notification-result"},e," started following you");if("training"===t)return a.a.createElement(c.b,{to:"/trainings/".concat(o)},a.a.createElement("div",{className:"notification-result"},e," booked your training ",n,".",i&&a.a.createElement(a.a.Fragment,null," It's fully booked")))}},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(ve().mark((function e(){var t,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:return t=e.sent,e.next=6,x.a.get("/api/users");case 6:r=e.sent,this.setState({user:t.data,allUsers:r.data,newNotification:t.data.newNotification,newChat:t.data.newChat}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;if(!this.state.allUsers)return null;console.log(this.state.user.notifications);this.state.isOpen;return a.a.createElement("nav",{className:"navbar"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"navbar-brand"},m()&&a.a.createElement("div",{className:"logo-search"},a.a.createElement(c.b,{to:"/",className:"navbar-item",onClick:this.hideSearch},a.a.createElement("span",{className:"logo-navbar"},"gyminy")),!this.props.location.pathname.includes("/profile/")&&a.a.createElement("div",{className:"search"},!this.state.showSearchBar&&a.a.createElement("img",{onClick:this.handleSearchBar,src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1595291077/iconfinder_icon-111-search_314807_vywlu5.png"}),this.state.showSearchBar&&a.a.createElement(a.a.Fragment,null,a.a.createElement("form",null,a.a.createElement("input",{type:"search",placeholder:"Search for User ...",onChange:this.onChange})),this.state.startTyping&&0===this.state.searchUsers.length&&a.a.createElement("div",{className:"no-results"},"No results"),this.state.startTyping&&this.state.searchUsers.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"search-results",onClick:this.handleSearchBar},this.state.searchUsers.map((function(t){return a.a.createElement(c.b,{key:t._id,to:"/profile/".concat(t._id)},a.a.createElement("div",{className:"search-profile",onClick:e.handleRedirect},a.a.createElement("div",{className:"profile-header-comment"},a.a.createElement("img",{className:"profile-image-comment",src:t.profileImage}),t.name)))})))))))),a.a.createElement("div",{className:"navbar-menu is-active"},a.a.createElement("div",{className:"navbar-end"},m()&&a.a.createElement(c.b,{to:"/portfolio",onClick:this.hideSearch},a.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1604865766/iconfinder_Sed-07_2232598_lh3apb.png"})),m()&&a.a.createElement(c.b,{to:"/explore",onClick:this.hideSearch},a.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/home_of6q7k.png"})),m()&&a.a.createElement(c.b,{to:"/trainings",onClick:this.hideSearch},a.a.createElement("img",{className:"navbar-item",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/trainings_sridq6.png"})),m()&&a.a.createElement(c.b,{to:"/chat",onClick:this.hideSearch},a.a.createElement("img",{onClick:function(){e.notificationFalse("chat")},className:"navbar-item",src:!1===this.state.newChat?"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/chat_usiydp.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1605126555/chat_usiydp_fxhab5.png"})),m()&&a.a.createElement("div",{onClick:this.hideSearch},a.a.createElement("img",{onClick:function(){e.notificationFalse("notification")},className:"navbar-item",src:!1===this.state.newNotification?"https://res.cloudinary.com/djq7pruxd/image/upload/v1605049586/iconfinder_notif_notification_info_information_caution_4831016_lxehyb.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1605126556/bell_gefhlq.png"})),this.state.showNotification&&a.a.createElement("div",{className:"notifications-container"},this.state.user.notifications.slice(0).reverse().map((function(t){return a.a.createElement("div",{key:t.userId,className:"profile-footer"},a.a.createElement(c.b,{className:"profile-footer-container",to:"/profile/".concat(t.userId)},a.a.createElement("img",{className:"profile-image",src:t.profileImage})),e.notificationType(t.username,t.notificationType,t.portfolioType,t.url,t.portfolioId,t.isFull))}))),m()&&a.a.createElement(c.b,{to:"/profile",onClick:this.hideSearch},a.a.createElement("img",{className:"navbar-image navbar-item",src:this.state.user.profileImage})),!m()&&a.a.createElement(c.b,{to:"/login",className:"navbar-item"},"Login"),!m()&&a.a.createElement(c.b,{to:"/register",className:"navbar-item"},"Register")))))}}]),r}(a.a.Component),ye=Object(s.g)(ge);function we(){we=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Ee=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={training:null,showBigTraining:!1,studentRedirect:!1,trainingOwnerId:"",trainingOwnerUsername:""},e.closeBig=function(){e.setState({showBigTraining:!1})},e.handleSingleTraining=Object(p.a)(we().mark((function t(){var r;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e.props.singleTraining._id);case 3:r=t.sent,e.setState({training:r.data,showBigTraining:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.handleBooking=function(){var t=Object(p.a)(we().mark((function t(r,n,a){var o;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({trainingOwnerId:n,trainingOwnerUsername:a});case 3:return t.next=5,P(r);case 5:o=t.sent,e.setState({studentRedirect:!0}),console.log(o.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r,n){return t.apply(this,arguments)}}(),e.renderRedirect=function(){return e.state.redirect?a.a.createElement(s.a,{to:"/done/training"}):e.state.studentRedirect?a.a.createElement(s.a,{to:"/done/booking/".concat(e.state.trainingOwnerId,"/").concat(e.state.trainingOwnerUsername)}):void 0},e.bookingForm=function(t,r){return 0===r?1===t?a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"}," Individual Training ")):e.state.isStudent?a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"},t," Students "),"Booked: ",a.a.createElement("span",{className:"card-header-title"},r," Students")):a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"},t," Students ")):r>=t?1===t?a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"}," Individual Training "),a.a.createElement("div",null,"Training Is Fully Booked")):a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"},t," Students "),a.a.createElement("div",null,"Training Is Fully Booked")):1===t?a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"}," Individual Training ")):a.a.createElement(a.a.Fragment,null,"Capacity Limit: ",a.a.createElement("span",{className:"card-header-title"},t," Students "),"Booked: ",a.a.createElement("span",{className:"card-header-title"},r," Students"))},e}return Object(y.a)(r,[{key:"render",value:function(){var e=this;console.log(this.state.training);var t=this.props,r=t.singleTraining,n=t.bookTimeSlot,o=t.trainingPage;return a.a.createElement(a.a.Fragment,null,this.renderRedirect(),a.a.createElement("div",{onClick:this.handleSingleTraining,className:"index-portfolio column column is-one-third-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile"},a.a.createElement("div",{className:"card"},a.a.createElement("h4",{className:"card-header-title"},r.name),a.a.createElement("div",null,"Date: ",a.a.createElement("span",{className:"card-header-title"},r.date)),a.a.createElement("div",null,"Time: ",a.a.createElement("span",{className:"card-header-title"},r.time)),a.a.createElement("div",null,"Sport: ",a.a.createElement("span",{className:"card-header-title"},r.sports.map((function(e){return e+", "})))))),this.state.showBigTraining&&a.a.createElement("div",{className:"show-big-training"},a.a.createElement("div",{className:"big-training-card"},a.a.createElement("div",{className:"big-training-side"},a.a.createElement("div",{className:"profile-header-training"},a.a.createElement(c.b,{to:"/profile/".concat(this.state.training.user._id)},a.a.createElement("img",{className:"profile-image-index",src:this.state.training.user.profileImage})),a.a.createElement(c.b,{to:"/profile/".concat(this.state.training.user._id)},this.state.training.user.name)),a.a.createElement("hr",null),a.a.createElement("div",{className:"training-description"},a.a.createElement("h4",{className:"training-title title is-3 has-text-centered"},this.state.training.name),"Date: ",a.a.createElement("span",{className:"card-header-title"},this.state.training.date),"Time: ",a.a.createElement("span",{className:"card-header-title"},this.state.training.time),"Sport: ",a.a.createElement("span",{className:"card-header-title"},this.state.training.sports.map((function(e){return e+", "})))," ",a.a.createElement("br",null),this.bookingForm(this.state.training.limit,this.state.training.bookings),a.a.createElement("div",null,"Description: ",a.a.createElement("span",{className:"card-header-title"},this.state.training.description))),a.a.createElement("hr",null),n&&a.a.createElement(a.a.Fragment,null,o&&a.a.createElement("div",{className:"field"},a.a.createElement("button",{onClick:function(){e.handleBooking(e.state.training._id,e.state.training.user._id,e.state.training.user.name)},className:"button is-fullwidth is-dark"},"Book Time Slot")),!o&&a.a.createElement("div",{className:"field"},a.a.createElement("button",{onClick:function(){e.handleBooking(e.state.training._id,e.state.training.user._id,e.state.training.user.name)},className:"button is-fullwidth is-dark"},"Book Time Slot"))),a.a.createElement("style",null,"            .navbar{              opacity: 0.5;            }            // .big-image{            //   opacity: 2;            // }            .m-scene .image, .index-video, .card{              opacity: 0.5;            }            ")),a.a.createElement("div",{className:"close-training",onClick:this.closeBig}," ",a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png"})," "))))}}]),r}(a.a.Component);function be(){be=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var xe=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={user:null,timeMessage:"",showTrainings:!1,showImages:!1,showArticles:!1,showVideos:!1,showChoices:!0,bookedTraining:!1,isStudent:!1,isAthlete:!1},e.timeOfDay=function(){var t=(new Date).getHours(),r="";console.log("hour: ",t),r=t<12?"Good Morning":t>=12&&t<17?"Good Afternoon":"Good Evening",e.setState({timeMessage:r})},e.clickShow=function(t){e.setState({showChoices:!1}),"training"===t?e.setState({showTrainings:!0,showArticles:!1,showImages:!1,showVideos:!1}):"images"===t?e.setState({showImages:!0,showTrainings:!1,showVideos:!1,showArticles:!1}):"videos"===t?e.setState({showVideos:!0,showTrainings:!1,showImages:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showImages:!1,showTrainings:!1,showVideos:!1})},e.handleBookedTraining=function(e){return e>0||0!==e&&void 0},e.portfolioUrl=function(){return e.state.showImages?"/add/images":e.state.showVideos?"/add/videos":e.state.showArticles?"/newarticle":void 0},e.handleLogout=function(){return h(),window.location.assign("/")},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.timeOfDay(),1===t.data.userType?this.setState({user:t.data,isStudent:!0}):2===t.data.userType&&this.setState({user:t.data,isAthlete:!0}),console.log(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?a.a.createElement("section",{className:"section m-scene"},this.state.showImages&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png"})),this.state.showVideos&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png"})),this.state.showArticles&&a.a.createElement(c.b,{to:this.portfolioUrl},a.a.createElement("img",{className:"add-portfolio",src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png"})),m()&&a.a.createElement("div",{onClick:this.handleLogout,className:"logout"},a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/logout_vfd7q8.png"})),this.state.showChoices&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"title is-2 has-text-centered greeting"},"".concat(this.state.timeMessage," ").concat(this.state.user.name)),a.a.createElement("hr",null)),a.a.createElement("div",{className:"profile-choices-container"},a.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("training")}},this.state.showChoices&&a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/nexttrainings_w7p1yq.png"}),a.a.createElement("span",{className:"".concat(this.state.showTrainings?"selected-menu-choice":"")},"Next Trainings")),a.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("images")}},this.state.showChoices&&a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourphotos_ob9jmp.png"}),a.a.createElement("span",{className:"".concat(this.state.showImages?"selected-menu-choice":"")},"Your Photos")),a.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("videos")}},this.state.showChoices&&a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourvideos_alvfgs.png"}),a.a.createElement("span",{className:"".concat(this.state.showVideos?"selected-menu-choice":"")},"Your Videos")),this.state.isAthlete&&a.a.createElement("div",{className:"".concat(this.state.showChoices?"profile-choices":"small-profile-choices"),onClick:function(){e.clickShow("articles")}},this.state.showChoices&&a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourarticles_lcufmi.png"}),a.a.createElement("span",{className:"".concat(this.state.showArticles?"selected-menu-choice":"")},"Your Articles"))),a.a.createElement("div",{className:"portfolio-container"},this.state.showTrainings&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-header"},a.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),a.a.createElement("div",{className:"title is-2"},this.state.user.name," ",a.a.createElement("br",null),a.a.createElement("span",{className:"subtitle is-5"},"Booked Trainings")),"          "),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.isAthlete&&a.a.createElement(a.a.Fragment,null,this.state.user.userTrainings.map((function(t){return a.a.createElement(a.a.Fragment,null,e.handleBookedTraining(t.bookings)&&a.a.createElement(Ee,{key:t._id,singleTraining:t}))}))),this.state.isStudent&&a.a.createElement(a.a.Fragment,null,this.state.user.studentTrainings.map((function(t){return a.a.createElement(a.a.Fragment,null,e.handleBookedTraining(t.bookings)&&a.a.createElement(Ee,{key:t._id,singleTraining:t}))}))))),this.state.showImages&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-header"},a.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),a.a.createElement("div",{className:"title is-2"},this.state.user.name," ",a.a.createElement("br",null),a.a.createElement("span",{className:"subtitle is-5"},"Photos")),"            "),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userImages.map((function(t){return a.a.createElement(X,{key:t._id,user:e.state.user,id:t._id,url:t.url})})))),this.state.showVideos&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-header"},a.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),a.a.createElement("div",{className:"title is-2"},this.state.user.name," ",a.a.createElement("br",null),a.a.createElement("span",{className:"subtitle is-5"},"Videos")),"            "),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userVideos.slice(0).reverse().map((function(t){return a.a.createElement(z,{key:t._id,user:e.state.user,id:t._id,url:t.url})}))))),this.state.showArticles&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-header"},a.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),a.a.createElement("div",{className:"title is-2"},this.state.user.name," ",a.a.createElement("br",null),a.a.createElement("span",{className:"subtitle is-5"},"Articles"))),a.a.createElement("div",{className:"article-container"},this.state.user.userArticles.map((function(e){return a.a.createElement("div",{key:e._id},a.a.createElement("div",{className:"card-article"},a.a.createElement(c.b,{to:"/articles/".concat(e._id)},a.a.createElement("img",{className:"image-article",src:e.imageUrl,alt:e.title})),a.a.createElement("div",{className:"article-text"},a.a.createElement(c.b,{to:"/articles/".concat(e._id)},a.a.createElement("div",{className:"article-title"},e.title),a.a.createElement("div",{className:"article-border"})),a.a.createElement("div",{className:"subtitle-article"},e.text))))}))),a.a.createElement("hr",null))):null}}]),r}(a.a.Component);function Ne(){Ne=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Le=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},showFollowers:!1,showFollowedAthletes:!1,user:null,currentUser:null,showChat:!1,showTrainings:!1,showImages:!0,showArticles:!1,showVideos:!1,isStudent:!1,isAthlete:!1,trainingOwnerId:"",trainingOwnerUsername:""},e.alreadyFollowed=Object(p.a)(Ne().mark((function t(){return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("hej"),e.state.currentUser.following.map((function(t){t.followedUserId==e.state.user._id&&e.setState({alreadyFollowed:!0})}))}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)}))),e.handleShowingFollowers=function(){e.setState({showFollowers:!e.state.showFollowers})},e.handleShowingFollowedAthletes=function(){e.setState({showFollowedAthletes:!e.state.showFollowedAthletes})},e.handleChange=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(Ne().mark((function t(r){var n;return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,n=e.props.match.params.id,t.next=5,Y(e.state.formData,n);case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 11:e.setState({showChat:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleFollow=Object(p.a)(Ne().mark((function t(){var r,n,a;return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.props.match.params.id,t.next=4,M(r);case 4:return t.sent,n=e.props.match.params.id,t.next=8,S(n);case 8:a=t.sent,e.setState({user:a.data,alreadyFollowed:!e.state.alreadyFollowed,showUnfollow:!1}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.handleUnfollow=function(){e.setState({showUnfollow:!e.state.showUnfollow})},e.handleChat=function(){e.setState({showChat:!1===e.state.showChat})},e.clickShow=function(t){"training"===t?e.setState({showTrainings:!0,showArticles:!1,showImages:!1,showVideos:!1}):"images"===t?e.setState({showImages:!0,showTrainings:!1,showVideos:!1,showArticles:!1}):"videos"===t?e.setState({showVideos:!0,showTrainings:!1,showImages:!1,showArticles:!1}):"articles"===t&&e.setState({showArticles:!0,showImages:!1,showTrainings:!1,showVideos:!1})},e.handleBookedTraining=function(e){return e>0||0!=e&&void 0},e.availableTraining=function(t){if(t.students.length>0){var r=0;return t.students.map((function(t){e.state.currentUser._id===t.userId&&r++})),!(r>0)||(console.log(r),!1)}return!0},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(Ne().mark((function e(){var t,r,n;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,S(t);case 4:return r=e.sent,e.next=7,_();case 7:n=e.sent,1===r.data.userType?this.setState({user:r.data,isStudent:!0,currentUser:n.data}):2===r.data.userType&&this.setState({user:r.data,isAthlete:!0,currentUser:n.data}),this.alreadyFollowed(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?a.a.createElement("section",{className:"public-profile-container"},a.a.createElement("div",{className:"profile-header-container"},a.a.createElement("div",{className:"profile-header"},a.a.createElement("img",{className:"profile-image",src:this.state.user.profileImage}),a.a.createElement("div",{className:"greeting-public"},a.a.createElement("span",{className:"title is-2"},this.state.user.name,this.state.isStudent&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{onClick:this.handleShowingFollowedAthletes,className:"followed-title"},"Followed Athletes (",this.state.user.following.length,")"),this.state.showFollowedAthletes&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Athletes"),a.a.createElement("span",{className:"close-follow",onClick:this.handleShowingFollowedAthletes}," X "),a.a.createElement("div",{className:"followers-frame"},this.state.user.following.map((function(e){return a.a.createElement("div",{key:e.followedUserId,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.followedUserId)},a.a.createElement("img",{className:"profile-image-follow",src:e.followedUserProfileImage})),a.a.createElement("a",{href:"/profile/".concat(e.followedUserId)},e.followedUserName))}))))),this.state.isAthlete&&a.a.createElement(a.a.Fragment,null,this.state.alreadyFollowed?a.a.createElement("span",{onClick:this.handleUnfollow,className:"already-followed-title"},"Following"):a.a.createElement("span",{onClick:this.handleFollow,className:"follow"}," +Follow Athlete"),this.state.showUnfollow&&a.a.createElement("div",{className:"unfollow"},"Do you want Unfollow ",this.state.user.name,"?",a.a.createElement("br",null),a.a.createElement("span",{className:"unfollow-option"}," ",a.a.createElement("span",{onClick:this.handleFollow,className:"unfollow-yes"},"Yes")," ",a.a.createElement("span",{onClick:this.handleUnfollow},"No")," ")))),a.a.createElement("div",{className:"user-type"},this.state.isStudent&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png"}),"Student |"),this.state.isAthlete&&a.a.createElement("div",{className:"followers-title",onClick:this.handleShowingFollowers},a.a.createElement("span",{onClick:this.handleShowingFollowers,className:"followers-title"}),"Followers (",this.state.user.followers.length,")"),this.state.showFollowers&&a.a.createElement("div",{className:"followers-container"},a.a.createElement("span",{className:"follower-title"},"Followers"),a.a.createElement("span",{className:"close-follow",onClick:this.handleShowingFollowers}," X "),a.a.createElement("div",{className:"followers-frame"},this.state.user.followers.map((function(e){return a.a.createElement("div",{key:e.userId,className:"profile-follow"},a.a.createElement("a",{href:"/profile/".concat(e.userId)},a.a.createElement("img",{className:"profile-image-follow",src:e.userProfileImage})),a.a.createElement("a",{href:"/profile/".concat(e.userId)},e.userName))})))),a.a.createElement("div",{className:"message"},a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/message_ffjyj2.png",onClick:this.handleChat}),this.state.showChat&&a.a.createElement("div",{className:"chat-profile-form"},a.a.createElement("div",{className:"profile-header-chat"},a.a.createElement("img",{className:"profile-image-index",src:this.state.user.profileImage}),this.state.user.name,"  ",a.a.createElement("span",{className:"close-message",onClick:this.handleChat}," X ")),a.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},a.a.createElement("input",{className:"input",name:"text",onChange:this.handleChange}),a.a.createElement("button",{className:"comment-button"},"Send"))))))),a.a.createElement("div",{className:"profile-choices-container"},a.a.createElement("span",{onClick:function(){e.clickShow("images")},className:"small-profile-choices ".concat(this.state.showImages?"selected-menu-choice":"")},"Images"),a.a.createElement("span",{onClick:function(){e.clickShow("videos")},className:"small-profile-choices ".concat(this.state.showVideos?"selected-menu-choice":"")},"Videos"),this.state.isAthlete&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{onClick:function(){e.clickShow("articles")},className:"small-profile-choices ".concat(this.state.showArticles?"selected-menu-choice":"")},"Articles"),a.a.createElement("span",{onClick:function(){e.clickShow("training")},className:"small-profile-choices ".concat(this.state.showTrainings?"selected-menu-choice":"")},"Trainings")))),a.a.createElement("div",{className:"portfolio-container"},this.state.showTrainings&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return a.a.createElement(a.a.Fragment,null,!t.isFull&&a.a.createElement(a.a.Fragment,null,e.availableTraining(t)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{key:t._id,singleTraining:t,bookTimeSlot:!0,trainingPage:!1}))))})))),this.state.showImages&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userImages.slice(0).reverse().map((function(t){return a.a.createElement(X,{key:t._id,user:e.state.currentUser,id:t._id,url:t.url})})))),this.state.showVideos&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userVideos.slice(0).reverse().map((function(t){return a.a.createElement(z,{key:t._id,user:e.state.currentUser,id:t._id,url:t.url})})))),this.state.showArticles&&a.a.createElement(a.a.Fragment,null))):null}}]),r}(a.a.Component);function ke(){ke=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Oe=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={sports:null},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/sports/");case 3:t=e.sent,this.setState({sports:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.sports?a.a.createElement("div",{className:"select is-multiple"},a.a.createElement("select",{multiple:!0,size:"3",onClick:this.props.handleSelect,name:"sports"},a.a.createElement("option",null,"Aerobic"),a.a.createElement("option",null,"Yoga"),a.a.createElement("option",null,"Strength and Conditioning"),a.a.createElement("option",null,"Combat Sports"),a.a.createElement("option",null,"Powerlifting"),a.a.createElement("option",null,"Weightlifting"),a.a.createElement("option",null,"Breathing Exercises"))):null}}]),r}(a.a.Component),je=function(e){var t=e.renderRedirect,r=e.handleChange,n=e.handleSelect,o=e.handleSubmit,i=(e.handleErrors,e.error),c=e.formData;return a.a.createElement("div",{className:"register-container"},t(),a.a.createElement("div",{className:"register-section add-training"},a.a.createElement("form",{onSubmit:o},a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Training Name:"),a.a.createElement("input",{className:"input ".concat(i.name?"is-danger":""),placeholder:"Name of the training",name:"name",onChange:r,value:c.name}),i.name?a.a.createElement("small",{className:"help is-danger"},i.name):""),a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Date:"),a.a.createElement("input",{type:"date",className:"input ".concat(i.date?"is-danger":""),placeholder:"Date Of The Training",name:"date",onChange:r,value:c.date}),i.date?a.a.createElement("small",{className:"help is-danger"},i.date):"")),a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Time:"),a.a.createElement("input",{type:"time",className:"input ".concat(i.time?"is-danger":""),placeholder:"Training Time",name:"time",onChange:r,value:c.time}),i.time&&a.a.createElement("small",{className:"help is-danger"},i.time)),a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Students Capacity Limit:"),a.a.createElement("input",{type:"number",className:"input",placeholder:"Training Capacity Limit",name:"limit",onChange:r,value:c.limit}))),a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Description:"),a.a.createElement("input",{className:"input ".concat(i.description?"is-danger":""),placeholder:"Describe Your Training",name:"description",onChange:r,value:c.description}),i.description&&a.a.createElement("small",{className:"help is-danger"},i.description)),a.a.createElement("div",{className:"register-forms field category"},a.a.createElement("label",{className:"label"},"Training Category"),a.a.createElement(Oe,{handleSelect:n}),i.sports&&a.a.createElement("small",{className:"help is-danger"},i.sports))),a.a.createElement("div",{className:"field"},a.a.createElement("button",{type:"submit",className:"button"},"Add Training")))))};function _e(){_e=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Se=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={user:null,trainings:[],formData:{name:"",date:"",time:"",description:"",limit:1,sports:[]},showAdd:!1,showBookedTrainings:!0,showNotBookedTrainings:!1,redirect:!1,studentRedirect:!1,isStudent:!1,isAthlete:!1,isGroupTraining:!1,trainingOwnerId:"",trainingOwnerUsername:"",errors:{name:"",date:"",time:"",description:"",sports:""}},e.handleChange=function(t){console.log("change event: ",t.target.name);var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value)),n=Object(v.a)(Object(v.a)({},e.state.errors),{},Object(d.a)({},t.target.name,""));e.setState({formData:r,errors:n})},e.handleSelect=function(t){var r=e.state.formData.sports.concat(t.target.value),n=Object(v.a)(Object(v.a)({},e.state.formData),{},{sports:r});e.setState({formData:n})},e.handleSubmit=function(){var t=Object(p.a)(_e().mark((function t(r){var n;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,F(e.state.formData);case 4:if(201===(n=t.sent).status&&e.setState({redirect:!0}),422!==n.status){t.next=8;break}throw new Error;case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("response: ",t.t0.response.data),e.handleErrors(t.t0.response.data);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.clickShow=function(t){"requests"===t?e.setState({showRequests:!0,showAdd:!1,showBookedTrainings:!1,showNotBookedTrainings:!1}):"add"===t?e.setState({showAdd:!0,showRequests:!1,showBookedTrainings:!1,showNotBookedTrainings:!1}):"booked"===t?e.setState({showBookedTrainings:!0,showRequests:!1,showAdd:!1,showNotBookedTrainings:!1}):"not"===t&&e.setState({showNotBookedTrainings:!0,showRequests:!1,showBookedTrainings:!1,showAdd:!1})},e.handleErrors=function(t){var r="",n="",a="",o="",i="";t.name&&(r="Training Name Is Required"),t.date&&(n="Training Date Is Required"),t.time&&(a="Training Time Is Required"),t.description&&(o="Describe Your Training Please"),t.sports&&(i="Choose Training Categories Please."),e.setState({errors:{name:r,date:n,time:a,description:o,sports:i}})},e.renderRedirect=function(){return e.state.redirect?a.a.createElement(s.a,{to:"/done/training"}):e.state.studentRedirect?a.a.createElement(s.a,{to:"/done/booking/".concat(e.state.trainingOwnerId,"/").concat(e.state.trainingOwnerUsername)}):void 0},e.handleBookedTraining=function(e){return e>0||0!==e&&void 0},e.availableTraining=function(t){if(t.students.length>0){var r=0;return t.students.map((function(t){e.state.user._id===t.userId&&r++})),!(r>0)||(console.log(r),!1)}return!0},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(_e().mark((function e(){var t,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:if(1!==(t=e.sent).data.userType){e.next=11;break}return e.next=7,x.a.get("/api/trainings/");case 7:r=e.sent,this.setState({user:t.data,trainings:r.data,isStudent:!0}),e.next=12;break;case 11:2===t.data.userType&&this.setState({user:t.data,isAthlete:!0});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=t.formData,n=t.errors;return a.a.createElement(a.a.Fragment,null,this.renderRedirect(),a.a.createElement("section",{className:"section m-scene"},this.state.isAthlete&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-choices-container index"},a.a.createElement("span",{onClick:function(){e.clickShow("booked")},className:"small-profile-choices ".concat(this.state.showBookedTrainings?"selected-menu-choice":"")},"Booked Trainings"),a.a.createElement("span",{onClick:function(){e.clickShow("not")},className:"small-profile-choices ".concat(this.state.showNotBookedTrainings?"selected-menu-choice":"")},"Not Booked Yet"),a.a.createElement("span",{onClick:function(){e.clickShow("add")},className:"small-profile-choices ".concat(this.state.showAdd?"selected-menu-choice":"")},"Add New Training Slots")),this.state.showBookedTrainings&&a.a.createElement("div",{className:"portfolio-container"},a.a.createElement("h1",{className:"title is-2 has-text-centered"},"Your Next Trainings"),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return a.a.createElement(a.a.Fragment,null,e.handleBookedTraining(t.bookings)&&a.a.createElement(Ee,{key:t._id,singleTraining:t}))})))),this.state.showNotBookedTrainings&&a.a.createElement("div",{className:"portfolio-container"},a.a.createElement("h1",{className:"title is-2 has-text-centered"},"Your Trainings Without Booking"),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.userTrainings.map((function(t){return a.a.createElement(a.a.Fragment,null,!e.handleBookedTraining(t.bookings)&&a.a.createElement(Ee,{key:t._id,singleTraining:t}))})))),this.state.showAdd&&a.a.createElement(je,{renderRedirect:this.renderRedirect,handleChange:this.handleChange,handleSelect:this.handleSelect,handleSubmit:this.handleSubmit,handleErrors:this.handleErrors,formData:r,error:n})),this.state.isStudent&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-choices-container index"},a.a.createElement("span",{onClick:function(){e.clickShow("booked")},className:"small-profile-choices ".concat(this.state.showBookedTrainings?"selected-menu-choice":"")},"Find New Trainings"),a.a.createElement("span",{onClick:function(){e.clickShow("not")},className:"small-profile-choices ".concat(this.state.showNotBookedTrainings?"selected-menu-choice":"")},"My Next Trainings")),this.state.showNotBookedTrainings&&a.a.createElement("div",{className:"portfolio-container"},a.a.createElement("h1",{className:"title is-2 has-text-centered"},"My Next Trainings"),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.user.studentTrainings.map((function(e){return a.a.createElement(Ee,{key:e._id,singleTraining:e})})))),this.state.showBookedTrainings&&a.a.createElement("div",{className:"portfolio-container"},a.a.createElement("h1",{className:"title is-2 has-text-centered"},"All Available Trainings"),a.a.createElement("hr",null),a.a.createElement("div",{className:"columns is-multiline scene_element scene_element--fadein"},this.state.trainings.map((function(t){return a.a.createElement(a.a.Fragment,null,e.availableTraining(t)&&a.a.createElement(a.a.Fragment,null,!t.isFull&&a.a.createElement(Ee,{key:t._id,singleTraining:t,bookTimeSlot:!0,trainingPage:!0})))})))))))}}]),r}(a.a.Component);function Te(){Te=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Ie=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formData:{text:""},user:null,showMessages:!1,chats:null,profileImage:"",username:"",userId:"",isStudent:!1},e.handleChange=function(t){console.log("change event: ",t.target.name);var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value));e.setState({formData:r})},e.handleSubmit=function(){var t=Object(p.a)(Te().mark((function t(r,n){var a,o;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,Y(e.state.formData,n);case 4:a=t.sent,o=Object(v.a)(Object(v.a)({},e.state.formData),{},{text:""}),e.setState({formData:o}),console.log(a.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("response: ",t.t0.response.data);case 13:e.getData(e.state.chats._id);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),e.getMessages=function(){var t=Object(p.a)(Te().mark((function t(r){var n;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(r);case 3:return n=t.sent,t.next=6,e.setState({chats:n.data,showMessages:!0});case 6:return t.next=8,e.getUser();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.getUser=Object(p.a)(Te().mark((function t(){return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0,e.state.chats.senderId!==e.state.user._id?e.setState({profileImage:e.state.chats.senderProfileImage,username:e.state.chats.senderName,userId:e.state.chats.senderId}):e.state.chats.receiverId!==e.state.user._id&&e.setState({profileImage:e.state.chats.receiverProfileImage,username:e.state.chats.receiverName,userId:e.state.chats.receiverId});case 2:case"end":return t.stop()}}),t)}))),e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t=e.sent,this.setState({user:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(p.a)(Te().mark((function e(t){var r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:return r=e.sent,e.next=6,this.setState({chats:r.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?(console.log(this.state.userId),a.a.createElement("div",{className:"chat-profile-container"},a.a.createElement("div",{className:"chat-profile-side"},this.state.user.userChats.slice(0).reverse().map((function(t){return t.receiverId!==e.state.user._id?a.a.createElement("div",{onClick:function(){e.getMessages(t._id)},key:t.receiverId,className:"profile-header-chat-page"},a.a.createElement("img",{className:"profile-image-index",src:t.receiverProfileImage}),t.receiverName):t.senderId!==e.state.user._id?a.a.createElement("div",{onClick:function(){e.getMessages(t._id)},key:t.senderId,className:"profile-header-chat-page"},a.a.createElement("img",{className:"profile-image-index",src:t.senderProfileImage}),t.senderName):void 0}))),0===this.state.user.userChats.length&&a.a.createElement("div",{className:"no-messages"},a.a.createElement("h1",{className:"title is-2"},"You Have No Messages Yet")),this.state.showMessages&&a.a.createElement("div",{className:"messages-section"},a.a.createElement(c.b,{to:"/profile/".concat(this.state.userId)},a.a.createElement("div",{className:"profile-header profile-messages"},a.a.createElement("img",{className:"profile-image",src:this.state.profileImage}),a.a.createElement("div",{className:"greeting-public"},a.a.createElement("span",{className:"title is-2"},this.state.username),a.a.createElement("div",{className:"user-type"},a.a.createElement("img",{src:"".concat(this.state.isStudent?"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png":"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/athlete_gwre8y.png")}),this.state.user.userType.name)))),a.a.createElement("div",{className:"chat-history-container"},a.a.createElement("div",{className:"chat-history"},this.state.chats.subChat.slice(0).reverse().map((function(t){return e.state.user._id===t.senderId?a.a.createElement("div",{key:t._id,className:"one-message-container"},a.a.createElement("span",{className:"one-message"},t.text)):a.a.createElement("div",{key:t._id,className:"one-message-container-other"},a.a.createElement("span",{className:"one-message-other"},t.text))})))),a.a.createElement("div",{className:"messages-form-container"},a.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t,e.state.userId)}},a.a.createElement("input",{className:"input",name:"text",onChange:this.handleChange,value:this.state.formData.text}),a.a.createElement("button",{className:"comment-button"},"Send")))))):null}}]),r}(a.a.Component);function Ce(){Ce=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Fe=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={formData:{name:"",email:"",password:"",passwordConfirmation:"",sports:[],userType:"",bio:"",profileImage:"https://d1nhio0ox7pgb.cloudfront.net/_img/o_collection_png/green_dark_grey/512x512/plain/user.png"},redirect:!1,isLoading:!1,errors:{name:"",email:"",password:"",passwordConfirmation:"",sports:"",userType:""}},e.handleChange=function(t){console.log("change evet: ",t.target.name);var r=Object(v.a)(Object(v.a)({},e.state.formData),{},Object(d.a)({},t.target.name,t.target.value)),n=Object(v.a)(Object(v.a)({},e.state.errors),{},Object(d.a)({},t.target.name,""));e.setState({formData:r,errors:n})},e.handleSelect=function(t){var r=e.state.formData.sports.concat(t.target.value),n=Object(v.a)(Object(v.a)({},e.state.formData),{},{sports:r});e.setState({formData:n})},e.handleSubmit=function(){var t=Object(p.a)(Ce().mark((function t(r){var n,a;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,e.setState({loading:!0}),t.next=5,T(e.state.formData);case 5:if(201!==(n=t.sent).status){t.next=12;break}return t.next=9,I(e.state.formData);case 9:a=t.sent,l(a.data.token),e.setState({redirect:!0});case 12:if(422!==n.status){t.next=14;break}throw new Error;case 14:t.next=21;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("response: ",t.t0.response.data),e.handleErrors(t.t0.response.data),e.setState({isLoading:!1});case 21:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}(),e.handleErrors=function(t){var r="",n="",a="",o="",i="",c=1;t.name&&(r="Your Username Is Required"),t.email&&(n=t.email),t.password&&(a="Password is required"),t.passwordConfirmation&&(o="Password confirmation does not match"),t.sports&&(i="Please choose your sports"),t.userType&&(c="Are you looking for trainings or offering trainings? Please choose"),e.setState({errors:{name:r,email:n,password:a,passwordConfirmation:o,sports:i,userType:c}})},e.renderRedirect=function(){if(e.state.redirect)return a.a.createElement(s.a,{to:"/done/register"})},e.setUrl=function(t){var r=Object(v.a)(Object(v.a)({},e.state.formData),{},{profileImage:t});e.setState({formData:r})},e.handleUpload=function(){var t=Object(p.a)(Ce().mark((function t(r){var n,a;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),(n=new FormData).append("file",r.target.files[0]),n.append("upload_preset","rkx7ycea"),t.next=7,x.a.post("https://api.cloudinary.com/v1_1/gyminy/upload",n);case 7:a=t.sent,console.log(a.data),e.setState({isLoading:!1}),e.setUrl(a.data.url),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("err=",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(r,[{key:"render",value:function(){var e=this.state,t=e.formData,r=e.errors;return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1/gyminy/upload"}).REACT_APP_CLOUDINARY_BUCKET),a.a.createElement(a.a.Fragment,null,a.a.createElement(c.b,{to:"/",className:"navbar-item"},a.a.createElement("span",{className:"logo-navbar"},"gyminy")),a.a.createElement("div",{className:"register-container"},a.a.createElement("div",{className:"register-section"},this.renderRedirect(),a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{className:"has-text-centered title register-title"},"Join Our Virtual Gym"),a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Username:"),a.a.createElement("input",{className:"input ".concat(r.name?"is-danger":""),placeholder:"name",name:"name",onChange:this.handleChange,value:t.name}),r.name?a.a.createElement("small",{className:"help is-danger"},r.name):""),a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Email:"),a.a.createElement("input",{className:"input ".concat(r.email?"is-danger":""),placeholder:"Email",name:"email",onChange:this.handleChange,value:t.email}),this.state.errors.email?a.a.createElement("small",{className:"help is-danger"},r.email):"")),a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Password:"),a.a.createElement("input",{className:"input ".concat(r.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:t.password}),r.password&&a.a.createElement("small",{className:"help is-danger"},r.password)),a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Password Confirmation:"),a.a.createElement("input",{type:"password",className:"input ".concat(r.passwordConfirmation?"is-danger":""),placeholder:"Password Confirmation",name:"passwordConfirmation",onChange:this.handleChange,value:t.passwordConfirmation}),r.passwordConfirmation&&a.a.createElement("small",{className:"help is-danger"},r.passwordConfirmation))),a.a.createElement("div",{className:"register-forms-container field"},a.a.createElement("div",{className:"register-forms"},a.a.createElement("label",{className:"label"},"What are you interested in?"),a.a.createElement(Oe,{handleSelect:this.handleSelect}),r.sports&&a.a.createElement("small",{className:"help is-danger"},r.sports)),a.a.createElement("div",{className:"register-forms register-type"},a.a.createElement("label",{className:"label"},"Do You Wanna Offer Trainings(Athlete) Or Find Trainings(Student)"),a.a.createElement("label",{className:"radio"},a.a.createElement("input",{type:"radio",name:"userType",value:1,onChange:this.handleChange}),a.a.createElement("span",{className:"register-forms-span"},"Student")),a.a.createElement("label",{className:"radio"},a.a.createElement("input",{type:"radio",name:"userType",value:2,onChange:this.handleChange}),a.a.createElement("span",{className:"register-forms-span"},"Athlete"))),r.userType&&a.a.createElement("small",{className:"help is-danger"},r.userType)),a.a.createElement("div",{className:"input-container"},a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Bio:"),a.a.createElement("textarea",{className:"textarea",rows:"4",cols:"40",placeholder:"Your Bio",name:"bio",onChange:this.handleChange,value:t.bio})),a.a.createElement("div",{className:"field"},a.a.createElement("label",{className:"label"},"Upload Your Profile Picture"),a.a.createElement("div",{className:"upload-portfolio-register"},a.a.createElement("input",{className:"input",type:"file",onChange:this.handleUpload}),a.a.createElement("div",null,t.profileImage?a.a.createElement("img",{src:t.profileImage,alt:"User's Upload"}):"")))),this.state.isLoading&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg",className:"loading-image-register"})),!this.state.isLoading&&a.a.createElement("div",{className:"field"},a.a.createElement("button",{type:"submit",className:"button is-fullwidth register-button ".concat(this.state.loading?"is-loading":"")},"Register")))))))}}]),r}(a.a.Component),Pe=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={redirect:!1,progress:100},e.progressReducer=function(t){if(e.state.progress>0){var r=t-1;e.setState({progress:r})}},e.renderRedirect=function(){if(e.state.redirect)return a.a.createElement(s.a,{to:"/"})},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState({redirect:!0})}),5e3),setInterval((function(){return e.progressReducer(e.state.progress)}),50)}},{key:"render",value:function(){return a.a.createElement("section",{className:"hero is-dark is-fullheight-with-navbar"},this.renderRedirect(),a.a.createElement("div",{className:"hero-body done"},a.a.createElement("div",null,a.a.createElement("h1",{className:"title is-1"},"Error 404"),a.a.createElement("h2",{className:"subtitle"},"Page Not Found")),a.a.createElement("progress",{className:"progress is-large is-link",value:this.state.progress,max:"100"})))}}]),r}(a.a.Component);function Ge(){Ge=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new S(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function g(){}function y(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(T([])));b&&b!==r&&n.call(b,i)&&(w=b);var x=y.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(a,o,i,c){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},N(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(x),l(x,s,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var Ae=function(e){Object(w.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={redirect:!1,progress:100,timeBeforeRedirect:3e3,finishBooking:!1,isTrainingOwner:!1,isYou:!1},e.progressReducer=function(t){if(e.state.progress>0){var r=t-1;e.setState({progress:r})}},e.renderRedirect=function(){if(e.state.redirect){if("training"===e.props.match.params.type)return a.a.createElement(s.a,{to:"/profile"});if("register"===e.props.match.params.type)return window.location.assign("/portfolio");if("booking"===e.props.match.params.type){if(e.state.isTrainingOwner)return window.location.assign("/profile/".concat(e.props.match.params.id));if(e.state.isYou)return window.location.assign("/profile")}}},e.handleType=function(){return"training"===e.props.match.params.type?"Training Slot Was Successfully Created":"register"===e.props.match.params.type?"Welcome, Your Account Was Successfully Created":void 0},e.finishBooking=function(){var t=Object(p.a)(Ge().mark((function t(r){return Ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("trainingOwner"!==r){t.next=6;break}return t.next=3,e.setState({finishBooking:!0,timeBeforeRedirect:700,isTrainingOwner:!0});case 3:e.componentDidMount(),t.next=10;break;case 6:if("you"!==r){t.next=10;break}return t.next=9,e.setState({finishBooking:!0,timeBeforeRedirect:700,isYou:!0});case 9:e.componentDidMount();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=this;if("register"===this.props.match.params.type||"training"===this.props.match.params.type||this.state.finishBooking)return setTimeout((function(){return e.setState({redirect:!0})}),this.state.timeBeforeRedirect),setInterval((function(){return e.progressReducer(e.state.progress)}),this.state.timeBeforeRedirect/100)}},{key:"render",value:function(){var e=this;return a.a.createElement("section",{className:"hero is-light is-fullheight-with-navbar"},this.renderRedirect(),a.a.createElement("div",{className:"hero-body done"},a.a.createElement("h1",{className:"title is-1"},this.handleType()),"booking"===this.props.match.params.type&&a.a.createElement("div",{className:"done-subtitle-wrap"},a.a.createElement("div",{className:"subtitle done-booking"},"Training Slot Was Succesfully Booked, Instructor Will Send You Zoom Invitation Link 15 Minutes Before Training Started"),a.a.createElement("div",{className:"done-button"},a.a.createElement("button",{className:"button",onClick:function(){e.finishBooking("trainingOwner")}},"Go To ",this.props.match.params.username," Profile"),a.a.createElement("button",{className:"button",onClick:function(){e.finishBooking("you")}},"Go To Your Profile"))),a.a.createElement("progress",{className:"progress is-large is-link",value:this.state.progress,max:"100"})))}}]),r}(a.a.Component),De=r(32),Ue=["component"],Be=function(e){var t=e.component,r=Object(De.a)(e,Ue);return m()?a.a.createElement(s.b,Object.assign({},r,{component:t})):(h(),a.a.createElement(s.a,{to:"/"}))},Ye=function(){return a.a.createElement(c.a,null,m()&&a.a.createElement(ye,null),a.a.createElement(s.d,null,a.a.createElement(s.b,{exact:!0,path:"/",component:de}),a.a.createElement(s.b,{path:"/videos/:id",component:ne}),a.a.createElement(s.b,{path:"/images/:id",component:ne}),a.a.createElement(s.b,{path:"/articles/:id",component:he}),a.a.createElement(s.b,{path:"/portfolio/",component:$}),a.a.createElement(s.b,{path:"/explore",component:te}),a.a.createElement(s.b,{path:"/register/",component:Fe}),a.a.createElement(s.b,{path:"/login/",component:me}),a.a.createElement(s.b,{path:"/profile/:id",component:Le}),a.a.createElement(Be,{path:"/profile/",component:xe}),a.a.createElement(Be,{path:"/trainings/",component:Se}),a.a.createElement(Be,{path:"/chat/",component:Ie}),a.a.createElement(Be,{path:"/done/:type/:id/:username/",component:Ae}),a.a.createElement(Be,{path:"/done/:type/",component:Ae}),a.a.createElement(Be,{path:"/add/:portfolio/",component:ie}),a.a.createElement(Be,{path:"/newarticle/",component:le}),a.a.createElement(s.b,{path:"/*",component:Pe})))};i.a.render(a.a.createElement(Ye,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.beb5b090.chunk.js.map