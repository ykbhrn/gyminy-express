{"version":3,"sources":["lib/auth.js","lib/api.js","components/common/Images.js","components/common/Videos.js","components/portfolio/Articles.js","components/portfolio/IndexPortfolio.js","components/common/Explore.js","components/portfolio/SinglePortfolio.js","components/portfolio/AddPortfolio.js","components/portfolio/AddArticle.js","components/portfolio/SingleArticle.js","components/auth/Login.js","components/common/Home.js","components/common/Navbar.js","components/common/Trainings.js","components/common/MyProfilePage.js","components/common/PublicProfile.js","components/common/SportSelect.js","components/common/AddTraining.js","components/common/TrainingsPage.js","components/common/Chat.js","components/auth/Register.js","components/common/ErrorPage.js","components/common/AddDone.js","components/common/SecureRoute.js","App.js","index.js"],"names":["setToken","token","window","localStorage","setItem","getToken","getItem","logout","removeItem","getPayload","parts","split","length","JSON","parse","atob","isAuthenticated","payload","Math","round","Date","now","exp","withHeaders","headers","Authorization","getAllImages","axios","get","getSingleImage","id","getAllVideos","getSingleVideo","getPortfolio","getPublicPortfolio","registerUser","formData","post","loginUser","getSingleTraining","addTraining","bookTraining","put","addImages","addVideos","addArticles","postComment","imageId","postVideoComment","videoId","postChat","receiverId","getChat","giveLike","giveVideoLike","follow","turnOffNotifications","Images","state","text","likeData","image","showBigImage","showBigPortfolio","handleChange","event","target","name","value","setState","handleSubmit","a","preventDefault","res","textData","data","console","log","response","closeImage","bigImage","props","resTwo","this","likeCounter","title","url","user","onClick","className","src","alt","to","_id","profileImage","likes","map","like","userId","likeImage","description","comments","slice","reverse","comment","key","onSubmit","placeholder","onChange","type","React","Component","Videos","video","showBigVideo","bigVideo","controls","likeVideo","Articles","articles","article","imageUrl","IndexPortfolio","images","videos","showImages","showVideos","showArticles","showLikes","handleShowingLikes","handleShowingVideoLikes","allImages","filteredImages","filter","followerCounter","following","followedUserId","handleVideoSubmit","allVideos","filteredVideos","clickShow","portfolioUrl","getImages","href","username","displayPhotoUrl","displayTitle","displayUsername","displayLikes","displayUserId","displayProfileUrl","displayDescription","displayComments","displayPortfolioId","newComments","resThree","SinglePortfolio","showImage","showVideo","match","path","includes","params","history","push","uploadUrl","process","AddPortfolio","isLoading","redirect","error","portfolioName","portfolio","isImage","renderRedirect","portfolioType","setUrl","imgUrl","handleUpload","FormData","append","files","rows","cols","AddArticle","titleImageUrl","setBigUrl","handleBigUpload","SingleArticle","articleId","style","backgroundImage","Login","email","password","loading","location","assign","Home","authenticated","componentDidMount","Navbar","isOpen","showSearchBar","allUsers","searchUsers","startTyping","newNotification","newChat","showNotification","notificationFalse","typeDetail","detail","wordSearch","result","searchValue","toLowerCase","userSearch","handleToggle","handleSearchBar","hideSearch","handleRedirect","notificationType","portfolioId","isFull","prevProps","pathname","notifications","notification","withRouter","Trainings","training","showBigTraining","studentRedirect","trainingOwnerId","trainingOwnerUsername","closeBig","handleSingleTraining","singleTraining","handleBooking","ownerId","ownerUsername","bookingForm","limit","bookings","isStudent","bookTimeSlot","trainingPage","date","time","sports","sport","ProfilePage","timeMessage","showTrainings","showChoices","bookedTraining","isAthlete","timeOfDay","hour","getHours","message","handleBookedTraining","booking","handleLogout","userType","userTrainings","studentTrainings","userImages","userVideos","userArticles","PublicProfilePage","showFollowers","showFollowedAthletes","currentUser","showChat","alreadyFollowed","err","handleShowingFollowers","handleShowingFollowedAthletes","handleFollow","showUnfollow","handleUnfollow","handleChat","availableTraining","students","studentCounter","student","followed","followedUserProfileImage","followedUserName","followers","follower","userProfileImage","userName","SportSelect","multiple","size","handleSelect","handleErrors","TrainingsPage","trainings","showAdd","showBookedTrainings","showNotBookedTrainings","isGroupTraining","errors","concat","status","Error","showRequests","AddTraining","Chat","showMessages","chats","getData","getMessages","getUser","senderId","senderProfileImage","senderName","receiverProfileImage","receiverName","chatId","userChats","chat","subChat","Register","passwordConfirmation","bio","loginResponse","NotFound","progress","progressReducer","currentNum","decrementedNumber","setTimeout","setInterval","timeBeforeRedirect","max","AddDone","finishBooking","isTrainingOwner","isYou","handleType","who","SecureRoute","component","rest","App","exact","Explore","MyProfilePage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3668ca49.chunk.js","sourcesContent":["export const setToken = token => {\n  window.localStorage.setItem('token', token)\n}\n\nexport const getToken = () => {\n  return window.localStorage.getItem('token')\n}\n\nexport const logout = () => {\n  localStorage.removeItem('token')\n}\n\nconst getPayload = () => { // * returns the decoded data from the token or false\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3)  return false \n  return JSON.parse(window.atob(parts[1]))\n}\n\nexport const isOwner = id => {\n  const userId = getPayload().sub\n  return userId === id\n}\n\nexport const isAuthenticated = () => {\n  const payload = getPayload()\n  if (!payload) return false\n  const now = Math.round(Date.now() / 1000) // * works out the time RIGHT NOW\n  return now < payload.exp // * is RIGHT NOW earlier than EXPIRY TIME ON TOKEN\n}\n\nexport const getUserId = () => {\n  return getPayload()\n}","import axios from 'axios'\nimport { getToken } from './auth'\n\nconst withHeaders = () => {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\n\nexport const getAllImages = () => {\n  return axios.get('/api/images/')\n}\n\nexport const getSingleImage = id => {\n  return axios.get(`/api/images/${id}`)\n}\n\nexport const getAllVideos = () => {\n  return axios.get('/api/videos/')\n}\n\nexport const getSingleVideo = id => {\n  return axios.get(`/api/videos/${id}`)\n}\n\nexport const getPortfolio = () => {\n  return axios.get('/api/profile/', withHeaders())\n}\n\nexport const getPublicPortfolio = id => {\n  return axios.get(`/api/profile/${id}`)\n}\n\nexport const registerUser = formData => {\n  return axios.post('/api/register', formData)\n}\n\nexport const loginUser = formData => {\n  return axios.post('/api/login', formData)\n}\n\nexport const getAllSports = () => {\n  return axios.get('/api/sports/')\n}\n\nexport const getAllTrainings = () => {\n  return axios.get('/api/trainings/')\n}\n\nexport const getSingleTraining = id => {\n  return axios.get(`/api/trainings/${id}`, withHeaders())\n}\n\nexport const addTraining = formData => {\n  return axios.post('/api/trainings/', formData, withHeaders())\n}\n\nexport const bookTraining = id => {\n  return axios.put(`/api/trainings/${id}`, {}, withHeaders())\n}\n\nexport const addImages = formData => {\n  return axios.post('/api/images/', formData, withHeaders())\n}\n\nexport const addVideos = formData => {\n  return axios.post('/api/videos/', formData, withHeaders())\n}\n\nexport const addArticles = formData => {\n  return axios.post('/api/articles/', formData, withHeaders())\n}\n\nexport const getAllArticles = () => {\n  return axios.get('/api/articles/')\n}\n\nexport const getSingleArticle = id => {\n  return axios.get(`/api/articles/${id}`)\n}\n\nexport const postComment = ( formData, imageId ) => {\n  return axios.post(`/api/images/${imageId}/comments`, formData, withHeaders())\n}\n\nexport const deleteComment = ( imageId, commendId ) => {\n  return axios.delete(`/api/images/${imageId}/comments/${commendId}`, withHeaders())\n}\n\nexport const postVideoComment = ( formData, videoId ) => {\n  return axios.post(`/api/videos/${videoId}/comments`, formData, withHeaders())\n}\n\nexport const deleteVideoComment = ( videoId, commendId ) => {\n  return axios.delete(`/api/videos/${videoId}/comments/${commendId}`, withHeaders())\n}\n\nexport const postChat = (formData, receiverId) => {\n  return axios.post(`/api/chats/${receiverId}`, formData, withHeaders())\n}\n\nexport const getChat = (id) => {\n  return axios.get(`/api/chats/${id}`, withHeaders())\n}\n\nexport const getAllUsers = () => {\n  return axios.get('/api/users')\n}\n\nexport const giveLike = (formData) => {\n  return axios.post('/api/likes', formData,  withHeaders())\n}\n\nexport const giveVideoLike = (formData) => {\n  return axios.post('/api/videolikes', formData,  withHeaders())\n}\n\nexport const follow = (id, formData) => {\n  return axios.post(`/api/follow/${id}`, formData, withHeaders())\n}\n\nexport const turnOffNotifications = (formData) => {\n  return axios.post('/api/notifications', formData, withHeaders())\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { postComment, getSingleImage, giveLike, follow } from '../../lib/api'\n\nclass Images extends React.Component{\n\n  state = {\n    formData: {\n      text: ''\n    },\n    likeData: {\n      image: ''\n    },\n    image: false,\n    showBigImage: false,\n    showBigPortfolio: false\n  }\n\n  // handleFollow = async (userId) => {\n  //   console.log(userId)\n  //   try {\n  //     // const userId = this.props.match.params.id\n  //     const res = await follow(userId)\n  //     console.log(res.data)\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  async likeImage(id) {\n    try {\n      const formData = { imageId: id }\n      const res = await giveLike(formData)\n      const resTwo = await getSingleImage(id)\n      this.setState({ image: resTwo.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event, id) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      const response = await postComment(formData, id)\n      const res = await getSingleImage(id)\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ image: res.data, formData: textData })\n      \n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  closeImage = () => {\n    this.setState({ showBigPortfolio: false })\n  }\n\n  bigImage = async () => {\n    const res = await getSingleImage(this.props.id)\n    this.setState({ image: res.data, showBigPortfolio: true })\n  }\n\n  render ( ) {   \n    let likeCounter = 0\n    const { title, url, user } = this.props\n    return (\n      <>\n        <div onClick={this.bigImage} className = \"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile\" >\n          <figure className=\"image is-1by1\">\n            <img src={url} alt={title} />\n          </figure>\n        </div>\n        {this.state.showBigPortfolio &&    \n      <div className=\"show-big-image\">\n        <div className=\"big-image-card\">\n          <img className=\"big-image\" src={this.state.image.url} />\n          {/* side of big image container */}\n          <div className='big-image-side'>\n            <div className=\"profile-header-index\">        \n              <Link to={`/profile/${this.state.image.user._id}`} className=\"portfolio-header-part\">\n                <img className='profile-image-index' src={this.state.image.user.profileImage}/>{this.state.image.user.name}</Link>\n              <div className=\"like-img\">\n                        \n                {this.state.image.likes.map( like => {\n                  if (like.userId == user._id) {\n                    likeCounter++\n                  }\n                })}\n                <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                  : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n                onClick={() => { \n                  this.likeImage(this.state.image._id)\n                }}\n                />\n                <span className=\"like-counter\">\n                  {this.state.image.likes.length}\n                </span>\n              </div>\n              <div className=\"portfolio-header-part\">            \n              </div>\n            </div>\n            <hr className=\"hr-comment\"/>\n            <div className=\"description-and-comments\">\n              <div className=\"big-image-description\">\n                {this.state.image.description} \n              </div>\n              <hr className=\"hr-comment\"/>\n  \n              <div className=\"show-comments\">\n                {this.state.image.comments.slice(0).reverse().map( comment => (\n                  <div className='single-comment' key={comment._id}> \n                    <div className=\"profile-header-comment\">        \n                      <Link to={`/profile/${comment.user._id}`}>\n                        <img className='profile-image-comment' src={comment.user.profileImage}/></Link>\n                      <Link to={`/profile/${comment.user._id}`}>{comment.user.name}</Link>\n                    </div> {comment.text} \n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* <div onClick={() => {\n                this.handleFollow(displayUserId)\n              }}\n              className=\"small-follow\"> +Follow</div>  */}\n              \n            <div className=\"post-comment\">\n              <form onSubmit={(event) => {\n                this.handleSubmit(event, this.state.image._id)\n              }}>\n                <div className=\"comment-add-container\">\n                  <input className=\"input\"\n                    placeholder=\"...\"\n                    name=\"text\"\n                    value={this.state.formData.text}\n                    onChange={this.handleChange}\n                  />\n                  <button className=\"comment-button\" type=\"submit\">Post</button>\n                </div>\n              </form>\n\n            </div>\n  \n            <style>\n              {'\\\n              .navbar{\\\n                opacity: 0.5;\\\n              }\\\n              .m-scene .image, .index-video{\\\n                opacity: 0.5;\\\n              }\\\n              '}\n            </style>\n  \n          </div>\n          <div onClick={this.closeImage} className='close'>\n            <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png' /> \n          </div>\n        </div>\n      </div>\n        }\n      </>\n    )\n  }\n  \n}\nexport default Images\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { postVideoComment, getSingleVideo, giveVideoLike, follow } from '../../lib/api'\n\nclass Videos extends React.Component{\n\n  state = {\n    formData: {\n      text: ''\n    },\n    likeData: {\n      video: ''\n    },\n    video: false,\n    showBigVideo: false,\n    showBigPortfolio: false\n  }\n\n  // handleFollow = async (userId) => {\n  //   console.log(userId)\n  //   try {\n  //     // const userId = this.props.match.params.id\n  //     const res = await follow(userId)\n  //     console.log(res.data)\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  async likeVideo(id) {\n    try {\n      const formData = { videoId: id }\n      const res = await giveVideoLike(formData)\n      const resTwo = await getSingleVideo(id)\n      this.setState({ video: resTwo.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event, id) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      const response = await postVideoComment(formData, id)\n      const res = await getSingleVideo(id)\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ video: res.data, formData: textData })\n      \n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  closeImage = () => {\n    this.setState({ showBigPortfolio: false })\n  }\n\n  bigVideo = async () => {\n    const res = await getSingleVideo(this.props.id)\n    this.setState({ video: res.data, showBigPortfolio: true })\n  }\n\n  render ( ) {   \n    let likeCounter = 0\n    const { title, url, user } = this.props\n    return (\n      <>\n        <div onClick={this.bigVideo} className = \"index-portfolio column is-one-quarter-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile\" >\n          <video className=\"index-video\" src={url} alt={title} />\n        </div>\n        {this.state.showBigPortfolio &&    \n      <div className=\"show-big-image\">\n        <div className=\"big-image-card\">\n          <video className=\"big-image\" src={this.state.video.url} controls/>\n          {/* side of big image container */}\n          <div className='big-image-side'>\n            <div className=\"profile-header-index\">        \n              <Link to={`/profile/${this.state.video.user._id}`} className=\"portfolio-header-part\">\n                <img className='profile-image-index' src={this.state.video.user.profileImage}/>{this.state.video.user.name}</Link>\n              <div className=\"like-img\">\n                        \n                {this.state.video.likes.map( like => {\n                  if (like.userId == user._id) {\n                    likeCounter++\n                  }\n                })}\n                <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                  : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n                onClick={() => { \n                  this.likeVideo(this.state.video._id)\n                }}\n                />\n                <span className=\"like-counter\">\n                  {this.state.video.likes.length}\n                </span>\n              </div>\n              <div className=\"portfolio-header-part\">            \n              </div>\n            </div>\n            <hr className=\"hr-comment\"/>\n            <div className=\"description-and-comments\">\n              <div className=\"big-image-description\">\n                {this.state.video.description} \n              </div>\n              <hr className=\"hr-comment\"/>\n  \n              <div className=\"show-comments\">\n                {this.state.video.comments.slice(0).reverse().map( comment => (\n                  <div className='single-comment' key={comment._id}> \n                    <div className=\"profile-header-comment\">        \n                      <Link to={`/profile/${comment.user._id}`}>\n                        <img className='profile-image-comment' src={comment.user.profileImage}/></Link>\n                      <Link to={`/profile/${comment.user._id}`}>{comment.user.name}</Link>\n                    </div> {comment.text} \n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* <div onClick={() => {\n                this.handleFollow(displayUserId)\n              }}\n              className=\"small-follow\"> +Follow</div>  */}\n              \n            <div className=\"post-comment\">\n              <form onSubmit={(event) => {\n                this.handleSubmit(event, this.state.video._id)\n              }}>\n                <div className=\"comment-add-container\">\n                  <input className=\"input\"\n                    placeholder=\"...\"\n                    name=\"text\"\n                    value={this.state.formData.text}\n                    onChange={this.handleChange}\n                  />\n                  <button className=\"comment-button\" type=\"submit\">Post</button>\n                </div>\n              </form>\n\n            </div>\n  \n            <style>\n              {'\\\n              .navbar{\\\n                opacity: 0.5;\\\n              }\\\n              .m-scene .image, .index-video{\\\n                opacity: 0.5;\\\n              }\\\n              '}\n            </style>\n  \n          </div>\n          <div onClick={this.closeImage} className='close'>\n            <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png' /> \n          </div>\n        </div>\n      </div>\n        }\n      </>\n    )\n  }\n  \n}\nexport default Videos\n\n","import React from 'react'\nimport { getAllArticles } from '../../lib/api'\nimport { Link } from 'react-router-dom'\n\nclass Articles extends React.Component {\n  state = {\n    articles: []\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getAllArticles()\n      this.setState({ articles: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    // if (!this.state.images) return null\n    console.log(this.state.articles)\n    return (\n      <div className=\"article-container\">\n        {this.state.articles.slice(0).reverse().map( article => (\n          <div key={article._id}>\n            <div className=\"card-article\">\n\n              < Link to = {`/articles/${article._id}`}> \n                <img className='image-article' src={article.imageUrl} alt={article.title} />\n              </Link >    \n              <span className='article-author'>\n                <Link to={`/profile/${article.user._id}`}>{article.user.name}</Link>\n              </span>\n              <div className='article-text'>\n                < Link to = {`/articles/${article._id}`}> \n                  <div className=\"article-title\">{article.title}</div>\n                  <div className='article-border'></div>\n                </ Link>\n                <div className=\"subtitle-article\">{article.text}</div>\n              </div>\n\n            </div>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n}\nexport default Articles","import React from 'react'\nimport { getAllImages, getAllVideos, getSingleImage, getSingleVideo, getPortfolio, giveLike, giveVideoLike, postComment, postVideoComment } from '../../lib/api'\nimport { Link } from 'react-router-dom'\nimport Images from '../common/Images'\nimport Videos from '../common/Videos'\nimport Articles from '../portfolio/Articles'\n\nclass IndexPortfolio extends React.Component {\n  state = {\n    formData: {\n      text: ''\n    },\n    user: null,\n    images: [],\n    videos: [],\n    showImages: true,\n    showVideos: false,\n    showArticles: false,\n    imageId: false,\n    videoId: false,\n    showLikes: false,\n    image: null,\n    video: null\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getPortfolio()\n      this.setState({ user: res.data })\n      this.getImages()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async getImages() {\n    try {\n      const resTwo = await getAllVideos()\n      const allVideos = resTwo.data\n      const res = await getAllImages()\n      const allImages = res.data\n\n      const filteredImages = allImages.filter(image => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          if (image.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return image\n        } \n      })\n\n      const filteredVideos = allVideos.filter(video => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          // console.log(video)\n          if (video.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return video\n        } \n      })\n      \n      this.setState({ images: filteredImages, videos: filteredVideos })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleShowingLikes = (image) => {\n    this.setState({ showLikes: this.state.showLikes === true ? false : true, image: image })\n  }\n\n  handleShowingVideoLikes = (video) => {\n    this.setState({ showLikes: this.state.showLikes === true ? false : true, video: video })\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event, imageId) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      // await this.setState({ formData })\n      const response = await postComment(formData, imageId)\n      const res = await getAllImages()\n      const allImages = res.data\n\n      const filteredImages = allImages.filter(image => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          if (image.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return image\n        } \n      })\n      //reset formdata text ....it need to be in this way because there is two \"text\" in state and if i put just \"text\" than it reset wrong one\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ formData: textData, images: filteredImages })\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  handleVideoSubmit = async (event, videoId) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      // await this.setState({ formData })\n      const response = await postVideoComment(formData, videoId)\n      const resTwo = await getAllVideos()\n      const allVideos = resTwo.data\n\n      const filteredVideos = allVideos.filter(video => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          // console.log(video)\n          if (video.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return video\n        } \n      })\n      //reset formdata text ....it need to be in this way because there is two \"text\" in state and if i put just \"text\" than it reset wrong one\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ formData: textData, videos: filteredVideos })\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  async likeImage(id) {\n    try {\n      const formData = { imageId: id }\n      const res = await giveLike(formData)\n      const resTwo = await getAllImages()\n      const allImages = resTwo.data\n\n      const filteredImages = allImages.filter(image => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          if (image.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return image\n        } \n      })\n      this.setState({ images: filteredImages })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async likeVideo(id) {\n    try {\n      const formData = { videoId: id }\n      const res = await giveVideoLike(formData)\n      const resTwo = await getAllVideos()\n      const allVideos = resTwo.data\n\n      const filteredVideos = allVideos.filter(video => {\n        let followerCounter = 0\n        this.state.user.following.map( user => {\n          // console.log(video)\n          if (video.user._id == user.followedUserId) {\n            followerCounter++\n          }\n        })  \n        if (followerCounter > 0) {\n          return video\n        } \n      })\n      this.setState({ videos: filteredVideos })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  clickShow = (type) => {\n    if (type === 'videos'){\n      this.setState({ showVideos: true, showImages: false, showArticles: false })\n    } else if (type === 'images'){\n      this.setState({ showImages: true, showVideos: false, showArticles: false })\n    } else if (type === 'articles'){\n      this.setState({ showArticles: true, showVideos: false, showImages: false })\n    }\n  }\n\n  portfolioUrl = () => {\n    let portfolioUrl\n    if (this.state.showImages) {\n      return portfolioUrl = '/add/images'\n    } else if (this.state.showVideos) {\n      return portfolioUrl = '/add/videos'\n    } else if (this.state.showArticles) {\n      return portfolioUrl = '/newarticle'\n    }\n  }\n\n  render() {\n    console.log(this.state.videos)\n    // if (!this.state.images) return null\n    return (\n      <>\n        <section className=\"m-scene\">\n\n          {this.state.showImages &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png'></img>\n        </Link>\n          }\n          {this.state.showVideos &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png'></img>\n        </Link>\n          }\n          {this.state.showArticles &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png'></img>\n        </Link>\n          }\n\n          <div className=\"profile-choices-container index\">\n            <span onClick={() => {\n              this.clickShow('images')\n            }} className={`small-profile-choices ${this.state.showImages ? 'selected-menu-choice' : ''}`}>Images</span>\n\n            <span onClick={() => {\n              this.clickShow('videos')\n            }} className={`small-profile-choices ${this.state.showVideos ? 'selected-menu-choice' : ''}`}>Videos</span>\n      \n            <span onClick={() => {\n              this.clickShow('articles')\n            }} className={`small-profile-choices ${this.state.showArticles ? 'selected-menu-choice' : ''}`}>Articles</span>\n\n          </div>\n\n          <div className=\"portfolio-container\">\n\n            {this.state.showImages &&\n              <div className=\"images-container\">\n                {this.state.images.slice(0).reverse().map(image => {\n                  let likeCounter = 0\n                  return <div\n                    key={image._id}\n                    className=\"small-image\">\n                    <div className=\"small-image-header\">\n                      <Link to={`/profile/${image.user._id}`}>\n                        <div className=\"small-image-profile\">\n                          <img src={image.user.profileImage}/>\n                          {image.user.name}\n                        </div>\n                      </Link>\n                    </div>\n                    <figure className=\"image is-1by1\">\n                      <img src={image.url} alt={image.title} />\n                    </figure>\n                    <div className=\"small-image-footer\">\n                      <div>\n                        {image.likes.map( like => {\n                          if (like.userId == this.state.user._id) {\n                            likeCounter++\n                          }\n                        })}\n                        \n                        <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                          : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n                        onClick={() => { \n                          this.likeImage(image._id)\n                        }}\n                        />\n                        <span onClick={ () => {\n                          this.handleShowingLikes(image)\n                        }}\n                        className=\"like-counter\">\n                          {image.likes.length} Likes\n                        </span>\n                      </div>\n                      <span>\n                        <Link to={`/profile/${image.user._id}`}>\n                          <span className=\"username-footer\">{image.user.name}</span>\n                        </Link>\n                        {image.description}\n                      </span>\n                      {this.state.showLikes &&\n                      <div className='followers-container'>\n                        <span className=\"follower-title\">Likes</span>\n                        <span className='close-follow' onClick={this.handleShowingLikes}> X </span>\n                        <div className=\"followers-frame\">\n                          {this.state.image.likes.map( like => {\n                            return <div key={like._id} className=\"profile-follow\">      \n                              <a href={`/profile/${like.userId}`}>\n                                <img className='profile-image-follow' src={like.profileImage}/></a>\n                              <a href={`/profile/${like.userId}`}>{like.username}</a>\n                            </div>\n                          })}\n                        </div>\n                      </div>\n                      }\n                      <hr />\n                      <div>\n\n                        {image.comments.slice(0).reverse(0).map(comment => {\n                          return <div key={comment._id} className=\"profile-footer\">\n                            <div className=\"profile-footer-container\">\n                              <img src={comment.user.profileImage} />\n                              <span className=\"username\">{comment.user.name}</span>\n                            </div>\n                            <div className=\"footer-comment-text\">\n                              {comment.text}\n                            </div> \n                          </div>\n                        })}\n                       \n                      </div>\n\n                    </div>\n                    <form onClick={(event) => {\n                      this.handleSubmit(event, image._id)\n                    }}>\n                      <div className=\"comment-add-container\">\n                        <input \n                          className=\"input\"\n                          name=\"text\"\n                          placeholder=\"...\"\n                          value={this.state.formData.text}\n                          onChange={this.handleChange}\n                        />\n                        <button className=\"comment-button\" type=\"submit\">Post</button>\n                      </div>\n                    </form>\n                  </div>\n                })}\n              </div>\n            }\n\n            {this.state.showVideos &&\n              <div className=\"images-container\">\n                {this.state.videos.slice(0).reverse().map(video => {\n                  let likeCounter = 0\n                  return <div\n                    key={video._id}\n                    className=\"small-image\">\n                    <div className=\"small-image-header\">\n                      <Link to={`/profile/${video.user._id}`}>\n                        <div className=\"small-image-profile\">\n                          <img src={video.user.profileImage}/>\n                          {video.user.name}\n                        </div>\n                      </Link>\n                    </div>\n                    <video className=\"videoStyle\" src={video.url} alt={video.title} controls/>\n                    <div className=\"small-image-footer\">\n                      <div>\n                        {video.likes.map( like => {\n                          if (like.userId == this.state.user._id) {\n                            likeCounter++\n                          }\n                        })}\n                      \n                        <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                          : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n                        onClick={() => { \n                          this.likeVideo(video._id)\n                        }}\n                        />\n                        <span onClick={ () => {\n                          this.handleShowingVideoLikes(video)\n                        }}\n                        className=\"like-counter\">\n                          {video.likes.length} Likes\n                        </span>\n                      </div>\n                      <span>\n                        <Link to={`/profile/${video.user._id}`}>\n                          <span className=\"username-footer\">{video.user.name}</span>\n                        </Link>\n                        {video.description}\n                      </span>\n                      {this.state.showLikes &&\n                    <div className='followers-container'>\n                      <span className=\"follower-title\">Likes</span>\n                      <span className='close-follow' onClick={this.handleShowingVideoLikes}> X </span>\n                      <div className=\"followers-frame\">\n                        {this.state.video.likes.map( like => {\n                          return <div key={like._id} className=\"profile-follow\">      \n                            <a href={`/profile/${like.userId}`}>\n                              <img className='profile-image-follow' src={like.profileImage}/></a>\n                            <a href={`/profile/${like.userId}`}>{like.username}</a>\n                          </div>\n                        })}\n                      </div>\n                    </div>\n                      }\n                      <hr />\n                      <div>\n\n                        {video.comments.slice(0).reverse(0).map(comment => {\n                          return <div key={comment._id} className=\"profile-footer\">\n                            <div className=\"profile-footer-container\">\n                              <img src={comment.user.profileImage} />\n                              <span className=\"username\">{comment.user.name}</span>\n                            </div>\n                            <div className=\"footer-comment-text\">\n                              {comment.text}\n                            </div> \n                          </div>\n                        })}\n                     \n                      </div>\n\n                    </div>\n                    <form onClick={(event) => {\n                      this.handleVideoSubmit(event, video._id)\n                    }}>\n                      <div className=\"comment-add-container\">\n                        <input \n                          className=\"input\"\n                          name=\"text\"\n                          placeholder=\"...\"\n                          value={this.state.formData.text}\n                          onChange={this.handleChange}\n                        />\n                        <button className=\"comment-button\" type=\"submit\">Post</button>\n                      </div>\n                    </form>\n                  </div>\n                })}\n              </div>\n            }\n              \n          </div>\n        </section>\n        {this.state.showArticles &&\n        <Articles />\n        }\n      </>\n    )\n  }\n\n}\nexport default IndexPortfolio","import React from 'react'\nimport { getAllImages, getAllVideos, getPortfolio } from '../../lib/api'\nimport { Link } from 'react-router-dom'\nimport Images from '../common/Images'\nimport Videos from '../common/Videos'\nimport Articles from '../portfolio/Articles'\n\nclass IndexPortfolio extends React.Component {\n  state = {\n    images: [],\n    videos: [],\n    user: null,\n    showImages: true,\n    showVideos: false,\n    showArticles: false,\n    showBigPortfolio: false,\n    displayPhotoUrl: '',\n    displayTitle: '',\n    displayUsername: '',\n    displayLikes: '',\n    displayUserId: '',\n    displayProfileUrl: '',\n    displayDescription: '',\n    displayComments: [],\n    displayPortfolioId: '',\n    newComments: false\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getAllImages()\n      const resTwo = await getAllVideos()\n      const resThree = await getPortfolio()\n      this.setState({ images: res.data, videos: resTwo.data, user: resThree.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  clickShow = (type) => {\n    if (type === 'videos'){\n      this.setState({ showVideos: true, showImages: false, showArticles: false })\n    } else if (type === 'images'){\n      this.setState({ showImages: true, showVideos: false, showArticles: false })\n    } else if (type === 'articles'){\n      this.setState({ showArticles: true, showVideos: false, showImages: false })\n    }\n  }\n\n  portfolioUrl = () => {\n    let portfolioUrl\n    if (this.state.showImages) {\n      return portfolioUrl = '/add/images'\n    } else if (this.state.showVideos) {\n      return portfolioUrl = '/add/videos'\n    } else if (this.state.showArticles) {\n      return portfolioUrl = '/newarticle'\n    }\n  }\n\n  render() {\n    // if (!this.state.images) return null\n    console.log(this.state.images)\n    return (\n      <>\n        <section className=\"m-scene\">\n\n          {this.state.showImages &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png'></img>\n        </Link>\n          }\n          {this.state.showVideos &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png'></img>\n        </Link>\n          }\n          {this.state.showArticles &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png'></img>\n        </Link>\n          }\n\n          <div className=\"profile-choices-container index\">\n            <span onClick={() => {\n              this.clickShow('images')\n            }} className={`small-profile-choices ${this.state.showImages ? 'selected-menu-choice' : ''}`}>Images</span>\n\n            <span onClick={() => {\n              this.clickShow('videos')\n            }} className={`small-profile-choices ${this.state.showVideos ? 'selected-menu-choice' : ''}`}>Videos</span>\n      \n            <span onClick={() => {\n              this.clickShow('articles')\n            }} className={`small-profile-choices ${this.state.showArticles ? 'selected-menu-choice' : ''}`}>Articles</span>\n\n          </div>\n\n          <div className=\"portfolio-container\">\n\n            {this.state.showImages &&\n              <div className=\"columns is-multiline scene_element scene_element--fadein\">\n                {this.state.images.slice(0).reverse().map(image => (\n                  <Images\n                    key={image._id}\n                    user={this.state.user}\n                    id={image._id}\n                    url={image.url}\n                  />\n                ))}\n              </div>\n            }\n\n            {this.state.showVideos &&\n              <div className=\"columns is-multiline scene_element scene_element--fadein\">\n                {this.state.videos.slice(0).reverse().map(video => (\n                  <Videos\n                    key={video._id}\n                    user={this.state.user}\n                    id={video._id}\n                    url={video.url}\n                  />\n                ))}\n              </div>\n            }\n              \n          </div>\n        </section>\n        {this.state.showArticles &&\n        <Articles />\n        }\n      </>\n    )\n  }\n\n}\nexport default IndexPortfolio","\nimport React from 'react'\n// import { Link } from 'react-router-dom' \nimport { getSingleImage, getSingleVideo, getPortfolio, giveLike, giveVideoLike, postComment, postVideoComment } from '../../lib/api'\nimport { Link } from 'react-router-dom'\n\n\nclass SinglePortfolio extends React.Component {\n  state = {\n    formData: {\n      text: ''\n    },\n    user: null,\n    imageId: false,\n    videoId: false,\n    showLikes: false,\n    image: null,\n    video: null,\n    showImage: false,\n    showVideo: false\n  }\n\n  async componentDidMount() {\n    try {\n      if (this.props.match.path.includes('videos')) {\n        const videoId = this.props.match.params.id\n        const res = await getSingleVideo(videoId)\n        const resTwo = await getPortfolio()\n        return this.setState({ video: res.data, user: resTwo.data, showVideo: true }) \n      } else {\n        const imageId = this.props.match.params.id\n        const res = await getSingleImage(imageId)\n        const resTwo = await getPortfolio()\n        return this.setState({ image: res.data, user: resTwo.data, showImage: true })       \n      }\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  \n  handleShowingLikes = (image) => {\n    this.setState({ showLikes: this.state.showLikes === true ? false : true, image: image })\n  }\n\n  handleShowingVideoLikes = (video) => {\n    this.setState({ showLikes: this.state.showLikes === true ? false : true, video: video })\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event, imageId) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      // await this.setState({ formData })\n      const response = await postComment(formData, imageId)\n      const res = await getSingleImage(imageId)\n\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ formData: textData, image: res.data })\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  handleVideoSubmit = async (event, videoId) => {\n    event.preventDefault()\n    try {\n      const formData = {\n        ...this.state.formData\n      }\n      // await this.setState({ formData })\n      const response = await postVideoComment(formData, videoId)\n      const res = await getSingleVideo(videoId)\n\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ formData: textData, video: res.data })\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n  }\n\n  async likeImage(id) {\n    try {\n      const formData = { imageId: id }\n      const res = await giveLike(formData)\n      const resTwo = await getSingleImage(id)\n\n      this.setState({ image: resTwo.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async likeVideo(id) {\n    try {\n      const formData = { videoId: id }\n      const res = await giveVideoLike(formData)\n      const resTwo = await getSingleVideo(id)\n\n      this.setState({ video: resTwo.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    console.log(this.state)\n    const { image, video } = this.state\n    let likeCounter = 0\n    if (!image && !video) return null\n    return (\n      <section className=\"m-scene\">\n        <div className=\"single\">\n          {this.state.showImage &&\n        <div className=\"small-image\">\n          <div className=\"small-image-header\">\n            <Link to={`/profile/${image.user._id}`}>\n              <div className=\"small-image-profile\">\n                <img src={image.user.profileImage}/>\n                {image.user.name}\n              </div>\n            </Link>\n          </div>\n          <figure className=\"image is-1by1\">\n            <img src={image.url} alt={image.title} />\n          </figure>\n          <div className=\"small-image-footer\">\n            <div>\n              {image.likes.map( like => {\n                if (like.userId == this.state.user._id) {\n                  likeCounter++\n                }\n              })}\n                        \n              <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n              onClick={() => { \n                this.likeImage(image._id)\n              }}\n              />\n              <span onClick={ () => {\n                this.handleShowingLikes(image)\n              }}\n              className=\"like-counter\">\n                {image.likes.length} Likes\n              </span>\n            </div>\n            <span>\n              <Link to={`/profile/${image.user._id}`}>\n                <span className=\"username-footer\">{image.user.name}</span>\n              </Link>\n              {image.description}\n            </span>\n            {this.state.showLikes &&\n                      <div className='followers-container'>\n                        <span className=\"follower-title\">Likes</span>\n                        <span className='close-follow' onClick={this.handleShowingLikes}> X </span>\n                        <div className=\"followers-frame\">\n                          {image.likes.map( like => {\n                            return <div key={like._id} className=\"profile-follow\">      \n                              <a href={`/profile/${like.userId}`}>\n                                <img className='profile-image-follow' src={like.profileImage}/></a>\n                              <a href={`/profile/${like.userId}`}>{like.username}</a>\n                            </div>\n                          })}\n                        </div>\n                      </div>\n            }\n            <hr />\n            <div>\n\n              {image.comments.slice(0).reverse(0).map(comment => {\n                return <div key={comment._id} className=\"profile-footer\">\n                  <div className=\"profile-footer-container\">\n                    <img src={comment.user.profileImage} />\n                    <span className=\"username\">{comment.user.name}</span>\n                  </div>\n                  <div className=\"footer-comment-text\">\n                    {comment.text}\n                  </div> \n                </div>\n              })}\n                       \n            </div>\n\n          </div>\n          <form onClick={(event) => {\n            this.handleSubmit(event, image._id)\n          }}>\n            <div className=\"comment-add-container\">\n              <input \n                className=\"input\"\n                name=\"text\"\n                placeholder=\"...\"\n                value={this.state.formData.text}\n                onChange={this.handleChange}\n              />\n              <button className=\"comment-button\" type=\"submit\">Post</button>\n            </div>\n          </form>\n        </div>\n          }\n\n          {this.state.showVideo &&\n          <div className=\"small-image\">\n            <div className=\"small-image-header\">\n              <Link to={`/profile/${video.user._id}`}>\n                <div className=\"small-image-profile\">\n                  <img src={video.user.profileImage}/>\n                  {video.user.name}\n                </div>\n              </Link>\n            </div>\n            <figure className=\"image is-1by1\">\n              <video className=\"video\" src={video.url} alt={video.title} controls/>\n            </figure>\n            <div className=\"small-image-footer\">\n              <div>\n                {video.likes.map( like => {\n                  if (like.userId == this.state.user._id) {\n                    likeCounter++\n                  }\n                })}\n                        \n                <img className=\"small-like-img\" src={likeCounter == 0 ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238327/muscle_l4iwm8.png' \n                  : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1604238630/muscle1_qefxuo.png'} \n                onClick={() => { \n                  this.likeVideo(video._id)\n                }}\n                />\n                <span onClick={ () => {\n                  this.handleShowingVideoLikes(video)\n                }}\n                className=\"like-counter\">\n                  {video.likes.length} Likes\n                </span>\n              </div>\n              <span>\n                <Link to={`/profile/${video.user._id}`}>\n                  <span className=\"username-footer\">{video.user.name}</span>\n                </Link>\n                {video.description}\n              </span>\n              {this.state.showLikes &&\n                      <div className='followers-container'>\n                        <span className=\"follower-title\">Likes</span>\n                        <span className='close-follow' onClick={this.handleShowingVideoLikes}> X </span>\n                        <div className=\"followers-frame\">\n                          {video.likes.map( like => {\n                            return <div key={like._id} className=\"profile-follow\">      \n                              <a href={`/profile/${like.userId}`}>\n                                <img className='profile-image-follow' src={like.profileImage}/></a>\n                              <a href={`/profile/${like.userId}`}>{like.username}</a>\n                            </div>\n                          })}\n                        </div>\n                      </div>\n              }\n              <hr />\n              <div>\n\n                {video.comments.slice(0).reverse(0).map(comment => {\n                  return <div key={comment._id} className=\"profile-footer\">\n                    <div className=\"profile-footer-container\">\n                      <img src={comment.user.profileImage} />\n                      <span className=\"username\">{comment.user.name}</span>\n                    </div>\n                    <div className=\"footer-comment-text\">\n                      {comment.text}\n                    </div> \n                  </div>\n                })}\n                       \n              </div>\n\n            </div>\n            <form onClick={(event) => {\n              this.handleVideoSubmit(event, video._id)\n            }}>\n              <div className=\"comment-add-container\">\n                <input \n                  className=\"input\"\n                  name=\"text\"\n                  placeholder=\"...\"\n                  value={this.state.formData.text}\n                  onChange={this.handleChange}\n                />\n                <button className=\"comment-button\" type=\"submit\">Post</button>\n              </div>\n            </form>\n          </div>\n          }\n        </div>\n      </section>\n    )\n  }\n\n}\n\nexport default SinglePortfolio","import React from 'react'\nimport { addImages, addVideos } from '../../lib/api'\nimport { Redirect, Link } from 'react-router-dom'\nimport axios from 'axios'\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_BUCKET\n\nclass AddPortfolio extends React.Component {\n  state = {\n    formData: {\n      url: '',\n      description: ''\n    },\n    isLoading: false,\n    redirect: false,\n    error: ''\n  }\n  portfolioName = this.props.match.params.portfolio\n\n  isImage = () => {\n    if (this.portfolioName === 'images') {\n      return true\n    }\n    return false\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData, error: '' })\n  }\n\nhandleSubmit = async event => {\n  event.preventDefault()\n  try {\n    if (this.props.match.params.portfolio === 'images') {\n      await addImages(this.state.formData) \n    } else if (this.props.match.params.portfolio === 'videos') {\n      await addVideos(this.state.formData) \n    }\n    this.setState({ redirect: true })    \n  } catch (err) {\n    this.setState({ error: 'Invalid Credentials' })\n  }\n}\n\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/portfolio\" />\n    }\n  }\n\n  portfolioType = () => {\n    let result\n    if (this.portfolioName === 'images') {\n      return result = 'Photo'\n    } else if (this.portfolioName === 'videos') {\n      return result = 'Video'\n    }\n  }\n\n  setUrl = imgUrl => {\n    const formData = { ...this.state.formData, url: imgUrl }\n    this.setState({ formData })\n  }\n\n  handleUpload = async event => {\n    try {\n      this.setState({ isLoading: true })\n      const data = new FormData()\n      data.append('file', event.target.files[0])\n      data.append('upload_preset', uploadPreset)\n      const res = await axios.post(uploadUrl, data)\n      console.log(res.data)\n      this.setState({ isLoading: false })\n      this.setUrl(res.data.url)\n    } catch (err) {\n      console.log('err=', err)\n    }\n  }\n\n  render() {\n    const { formData, error } = this.state\n    console.log(formData.url)\n    console.log(formData)\n    return (\n      <section className=\"add-form-section\">\n        {this.renderRedirect()}\n        <h1 className=\"title\">Add New {this.portfolioType()}</h1>\n\n        <div className=\"add-form-container\">\n          <form onSubmit={this.handleSubmit}>\n\n            <label className=\"label\">Choose Your {this.portfolioType()}</label>\n            <div className=\"upload-portfolio\">\n              <input\n                className={`input ${error.url ? 'is-danger' : ''}`}\n                type=\"file\"\n                onChange={this.handleUpload}\n              />\n              {this.isImage() && \n              <>\n                {formData.url ? <img src={formData.url} alt=\"User's Upload\" /> : ''}\n              </>\n              }\n\n              {!this.isImage() && \n              <>\n                {formData.url ? <video src={formData.url} alt=\"User's Upload\" controls/> : ''}\n              </>\n              }\n            </div>\n            {error.url && <small className=\"help is-danger\">{error.url}</small>}\n\n            <textarea\n              className={`textarea ${error ? 'is-danger' : ''}`}\n              placeholder={'Few Word To Describe It?'}\n              rows=\"3\"\n              cols=\"40\"\n              name=\"description\"\n              onChange={this.handleChange}\n              value={formData.description}\n            />\n            {error && <small className=\"help is-danger\">{error}</small>}\n\n            {this.state.isLoading && <>\n              <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg' className='loading-image' />\n            </>\n            }\n            {!this.state.isLoading && \n                  <button type=\"submit\" className='button'> Post It \n                  </button>\n            }    \n  \n          </form>\n        </div>\n      </section >\n    )\n  }\n}\n\nexport default AddPortfolio\n","import React from 'react'\nimport { addArticles } from '../../lib/api'\nimport { Redirect, Link } from 'react-router-dom'\nimport axios from 'axios'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_BUCKET\n\nclass AddArticle extends React.Component {\n  state = {\n    formData: {\n      imageUrl: '',\n      titleImageUrl: '',\n      text: '',\n      title: ''\n    },\n    isLoading: false,\n    redirect: false,\n    error: ''\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData, error: '' })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      await addArticles(this.state.formData)\n      this.setState({ redirect: true })\n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/portfolio\" />\n    }\n  }\n\n  setUrl = imgUrl => {\n    const formData = { ...this.state.formData, imageUrl: imgUrl }\n    this.setState({ formData })\n  }\n\n  handleUpload = async event => {\n    try {\n      this.setState({ isLoading: true })\n      const data = new FormData()\n      data.append('file', event.target.files[0])\n      data.append('upload_preset', uploadPreset)\n      const res = await axios.post(uploadUrl, data)\n      console.log(res.data)\n      this.setState({ isLoading: false })\n      this.setUrl(res.data.url)\n    } catch (err) {\n      console.log('err=', err)\n    }\n  }\n\n  setBigUrl = imgUrl => {\n    const formData = { ...this.state.formData, titleImageUrl: imgUrl }\n    this.setState({ formData })\n  }\n\n  handleBigUpload = async event => {\n    try {\n      this.setState({ isLoading: true })\n      const data = new FormData()\n      data.append('file', event.target.files[0])\n      data.append('upload_preset', uploadPreset)\n      const res = await axios.post(uploadUrl, data)\n      console.log(res.data)\n      this.setState({ isLoading: false })\n      this.setBigUrl(res.data.url)\n    } catch (err) {\n      console.log('err=', err)\n    }\n  }\n\n\n  render() {\n    const { formData, error } = this.state\n    console.log(this.state.formData)\n    return (\n      <section className=\"add-article-section\">\n        {this.renderRedirect()}\n        <h1 className=\"title is-2 has-text-centered\">Add New Article</h1>\n\n        <div className=\"add-article-container\">\n          <form onSubmit={this.handleSubmit}>\n            <label className=\"label\">Title</label>\n            <div className=\"field\">\n              <input\n                className={`input ${error ? 'is-danger' : ''}`}\n                placeholder='Article Title'\n                name=\"title\"\n                onChange={this.handleChange}\n                value={formData.title}\n              />\n              {error && <small className=\"help is-danger\">{error}</small>}\n            </div>\n\n            <label className=\"label\">Small Image</label>\n            <div className=\"upload-portfolio\">\n              <input\n                className={`input ${error.imageUrl ? 'is-danger' : ''}`}\n                type=\"file\"\n                onChange={this.handleUpload}\n              />\n              {formData.imageUrl ? <img src={formData.imageUrl} alt=\"User's Upload\" controls /> : ''}\n            </div>\n            {error.imageUrl && <small className=\"help is-danger\">{error.imageUrl}</small>}\n\n            <label className=\"label\">Big Image(not mandatory)</label>\n            <div className=\"upload-portfolio\">\n              <input\n                className={`input ${error.titleImageUrl ? 'is-danger' : ''}`}\n                type=\"file\"\n                onChange={this.handleBigUpload}\n              />\n              {formData.titleImageUrl ? <img src={formData.titleImageUrl} alt=\"User's Upload\" controls /> : ''}\n            </div>\n            {error.titleImageUrl && <small className=\"help is-danger\">{error.titleImageUrl}</small>}\n\n            <div className=\"field\">\n              <textarea\n                className={`textarea ${error ? 'is-danger' : ''}`}\n                rows='15'\n                cols='70'\n                placeholder='Text'\n                name=\"text\"\n                onChange={this.handleChange}\n                value={formData.text}\n              />\n              {error && <small className=\"help is-danger\">{error}</small>}\n            </div>\n\n            {this.state.isLoading && <>\n              <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg' className='loading-image' />\n            </>\n            }\n            {!this.state.isLoading &&\n              <button type=\"submit\" className='button'> Post It\n              </button>\n            }\n\n          </form>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default AddArticle","\nimport React from 'react'\n// import { Link } from 'react-router-dom' \nimport { getSingleArticle } from '../../lib/api'\nimport { Link } from 'react-router-dom'\n\n\nclass SingleArticle extends React.Component {\n  state = {\n    article: null\n  }\n\n  async componentDidMount() {\n    try {\n      const articleId = this.props.match.params.id\n      const res = await getSingleArticle(articleId)\n      return this.setState({ article: res.data }) \n      \n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n  \n\n\n  render() {\n    if (!this.state.article) return null \n    console.log(this.state.article)\n    const { article } = this.state\n    return (\n      <div className=\"single-article-container\">\n        <span className='single-article-author'>\n          <Link to={`/profile/${article.user._id}`}>{article.user.name}</Link>\n        </span>\n        <div className=\"title has-text-centered single-article-title\">{article.title}</div>\n        <hr />\n        {article.titleImageUrl &&\n        <div style={{ backgroundImage: `url(${article.titleImageUrl})` }} className=\"article-image-container\">\n        </div>\n        }\n\n        <div className=\"single-article-text\">\n          <p>{article.text}</p>\n        </div>\n\n      </div>\n    )\n  }\n\n}\n\nexport default SingleArticle","import React from 'react'\nimport { loginUser } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\nimport { Redirect, Link } from 'react-router-dom'\n\nclass Login extends React.Component {\n  state = {\n    formData: {\n      email: '',\n      password: ''\n    },\n    redirect: false,\n    loading: false,\n    error: ''\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData, error: '' })\n  }\n\n  handleSubmit = async event => {\n    console.log('new version')\n    \n    event.preventDefault()\n\n    try {\n      this.setState({ loading: true })\n      const res = await loginUser(this.state.formData)\n      setToken(res.data.token)      \n      this.setState({ redirect: true })\n      \n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials', loading: false })\n    }\n  }\n\n\n  renderRedirect = () => {\n    if (this.state.redirect){  \n      return  window.location.assign('/portfolio')\n    }\n  }\n\n  render() {\n    const { formData, error, loading } = this.state\n    return (\n      <div className=\"sign-container\">\n        <div className=\"sign-card\">\n          {this.renderRedirect()}\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"field\">\n              {/* <label className=\"label\">Email</label> */}\n              <div className=\"control\">\n                <input\n                  className={`input ${error ? 'is-danger' : '' }`}\n                  placeholder=\"Email\"\n                  name=\"email\"\n                  onChange={this.handleChange}\n                  value={formData.email}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              {/* <label className=\"label\">Password</label> */}\n              <div className=\"control\">\n                <input\n                  type=\"password\"\n                  className={`input ${error ? 'is-danger' : ''}`}\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  onChange={this.handleChange}\n                  value={formData.password}\n                />\n              </div>\n              {error && <small className=\"help is-danger\">{error}</small>}\n            </div>\n            <div className=\"field\">\n              <button type=\"submit\"  className={`button is-fullwidth login-button ${loading ? 'is-loading' : ''}`}>Login</button>\n            </div>\n            <Link to='/register'>\n              <div className=\"field\">\n                <button type=\"button\"  className=\"button is-fullwidth is-light is-outlined\">No Account? Sign Up Here</button>\n              </div>\n            </Link>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport Login from '../auth/Login'\nimport { isAuthenticated } from '../../lib/auth'\nimport { Redirect, Link } from 'react-router-dom'\n\nclass Home extends React.Component {\nstate = {\n  authenticated: false\n}\n\ncomponentDidMount = async () => {\n  if (await isAuthenticated()){\n    console.log('authenticated')\n    this.setState({ authenticated: true })\n  }\n}\n\nrenderRedirect = () => {\n  if (this.state.authenticated){\n    console.log('redirecting')\n    return <Redirect to=\"/portfolio\" />\n  }\n}\n\nrender() {\n  return (\n    <div className='home-container'>\n      {this.renderRedirect()}\n      <div className='logo-navbar-container'>\n        <div className=\"logo-container\">\n          <div className=\"logo\">\n          gymIny\n          </div>\n          <div className=\"slogan\">\n        VIRTUAL GYM, REAL RESULTS\n          </div>   \n        </div>\n        <div className='home-navbar'>\n          <Link to=\"/register\"><span className=\"home-navbar-item\">Join GYMINY</span></Link>\n          <Link to=\"/about\"><span className=\"home-navbar-item\">About Us</span></Link>\n        </div>\n      </div>\n      <Login />          \n    </div>\n  )\n}\n}\n\nexport default Home","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { isAuthenticated } from '../../lib/auth'\nimport { getPortfolio, getAllUsers, turnOffNotifications } from '../../lib/api'\nclass Navbar extends React.Component{\n  state = { \n    user: [],\n    isOpen: false,\n    showSearchBar: false,\n    allUsers: '',\n    searchUsers: [],\n    startTyping: false,\n    newNotification: false,\n    newChat: false,\n    showNotification: false\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getPortfolio()\n      const resTwo = await getAllUsers()\n      this.setState( { user: res.data, allUsers: resTwo.data, newNotification: res.data.newNotification, newChat: res.data.newChat } )\n      // if (res.data.user_type === 1) {\n      //   this.setState({ user: res.data, isStudent: true })\n      // } else if (res.data.user_type === 2) {\n      //   this.setState({ user: res.data, isAthlete: true })\n      // }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  notificationFalse = async (typeDetail) => {\n    try {\n      const detail = { type: typeDetail }\n      const resTwo = await turnOffNotifications(detail)\n      const res = await getPortfolio()\n      if (typeDetail === 'chat') {\n        this.setState({ newChat: res.data.newChat })\n      } else {\n        this.setState({ newNotification: res.data.newNotification, \n          showNotification: this.state.showNotification === true ? false : true })\n      }\n      console.log(resTwo.data)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  onChange = (event) => {\n    event.preventDefault()\n    const wordSearch = this.state.allUsers.filter(result => {\n      const searchValue = event.target.value.toLowerCase()\n      const userSearch = result.name.toLowerCase()\n      if (userSearch.includes(searchValue)){\n        return userSearch \n      }\n    })\n    const searchArray = event.target.value.split('')\n    if (searchArray.length > 0) {\n      return  this.setState({ searchUsers: wordSearch, startTyping: true })\n    } else {\n      this.setState({ searchUsers: wordSearch, startTyping: false })\n    }\n  }\n\n  handleToggle = () => {\n    this.setState({ isOpen: !this.state.isOpen })\n  }\n\n  handleSearchBar = () => {\n    this.setState({ showSearchBar: this.state.showSearchBar == true ? false : true })\n  }\n\n  hideSearch = () => {\n    this.setState({ showSearchBar: false })\n  }\n\n  handleRedirect = () => {\n    this.setState({ showSearchBar: this.state.showSearchBar == true ? false : true, startTyping: false })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ isOpen: false })\n    }\n  }\n\nnotificationType = (username, notificationType, portfolioType, url, portfolioId, isFull) => {\n  if (notificationType === 'like') {\n    if (portfolioType === 'image') {\n      return <div className=\"notification-result\">{username} liked your image <Link to={`/images/${portfolioId}`}><img className=\"image\" src={url} /></Link>\n      </div>\n    } else if (portfolioType === 'video') {\n      return <div className=\"notification-result\">{username} liked your video <Link to={`/videos/${portfolioId}`}><video className=\"image\" src={url} /></Link>\n      </div>\n    }\n  } else if (notificationType === 'comment') {\n    if (portfolioType === 'image') {\n      return <div className=\"notification-result\">{username} commented your image <Link to={`/images/${portfolioId}`}><img className=\"image\" src={url} /></Link>\n      </div>\n    } else if (portfolioType === 'video') {\n      return <div className=\"notification-result\">{username} commented your video <Link to={`/videos/${portfolioId}`}><video className=\"image\" src={url} /></Link>\n      </div>\n    }\n  } else if (notificationType === 'follow') {\n    return <div className=\"notification-result\">{username} started following you</div>\n  } else if (notificationType === 'training') {\n    return  <Link to={`/trainings/${portfolioId}`}><div className=\"notification-result\">{username} booked your training {url}.\n      {isFull &&  <> It's fully booked</>}\n    </div></Link>\n  }\n}\n\nrender() {\n  if (!this.state.allUsers) return null\n  console.log(this.state.user.notifications)\n  const { isOpen } = this.state\n  return (\n    <nav className=\"navbar\">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n\n          {isAuthenticated() && \n            <div className=\"logo-search\">\n              <Link to=\"/\" className=\"navbar-item\" onClick={this.hideSearch}>\n                <span className=\"logo-navbar\">gyminy</span>\n              </Link>\n              {!this.props.location.pathname.includes('/profile/') &&\n            <div className=\"search\">\n              {!this.state.showSearchBar &&\n                <img onClick={this.handleSearchBar} src=\"https://res.cloudinary.com/djq7pruxd/image/upload/v1595291077/iconfinder_icon-111-search_314807_vywlu5.png\" />\n              }\n              {this.state.showSearchBar &&\n              <>\n                <form>\n                  <input\n                    type=\"search\"\n                    placeholder=\"Search for User ...\"\n                    onChange={this.onChange}\n                  />\n                </form>\n                {this.state.startTyping && this.state.searchUsers.length === 0 &&\n                <div className=\"no-results\">\n                No results\n                </div>\n                } \n                {this.state.startTyping && this.state.searchUsers.length > 0 &&\n              <>\n                <div className=\"search-results\" onClick={this.handleSearchBar}>\n                  {this.state.searchUsers.map(user => {\n                    return <Link key={user._id} to={`/profile/${user._id}`}>\n                      <div className=\"search-profile\" onClick={this.handleRedirect}> \n                        <div className=\"profile-header-comment\">        \n                          <img className='profile-image-comment' src={user.profileImage}/>{user.name}\n                        </div> \n                      </div>\n                    </Link>\n                  })}\n                </div>\n              </>\n                }\n              </>\n              }\n            </div>\n              } \n            </div>\n          }\n\n          <span onClick={this.handleToggle} className={`navbar-burger ${isOpen ? 'is-active' : ''}`}>\n            <span></span>\n            <span></span>\n            <span></span>\n          </span>\n        </div>\n        <div className={`navbar-menu ${isOpen ? 'is-active' : ''}`}>\n          <div className=\"navbar-end\">\n            {isAuthenticated() && <Link to=\"/portfolio\" onClick={this.hideSearch}>\n              <img className='navbar-item' src=\"https://res.cloudinary.com/djq7pruxd/image/upload/v1604865766/iconfinder_Sed-07_2232598_lh3apb.png\" />\n            </Link>}\n            {isAuthenticated() && <Link to=\"/explore\" onClick={this.hideSearch}>\n              <img className='navbar-item' src=\"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/home_of6q7k.png\" />\n            </Link>}\n            {isAuthenticated() && <Link to=\"/trainings\" onClick={this.hideSearch}>\n              <img className='navbar-item' src=\"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/trainings_sridq6.png\" />\n            </Link>}\n            {isAuthenticated() && <Link to=\"/chat\" onClick={this.hideSearch}>\n              <img onClick={() => {\n                this.notificationFalse('chat')\n              }} className='navbar-item' src={this.state.newChat === false ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/chat_usiydp.png' : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1605126555/chat_usiydp_fxhab5.png'}/>\n            </Link>}\n            {isAuthenticated() && <div onClick={this.hideSearch}>\n              <img onClick={() => {\n                this.notificationFalse('notification')\n              }} className='navbar-item' src={this.state.newNotification === false ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1605049586/iconfinder_notif_notification_info_information_caution_4831016_lxehyb.png' : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1605126556/bell_gefhlq.png'} />\n            </div>}\n            {this.state.showNotification && \n            <div className=\"notifications-container\">\n              {this.state.user.notifications.slice(0).reverse().map( notification => {\n                return <div key={notification.userId} className=\"profile-footer\">\n                  <Link className=\"profile-footer-container\" to={`/profile/${notification.userId}`}> \n                    <img className=\"profile-image\" src={notification.profileImage} />\n                  </Link>\n                  {this.notificationType(notification.username, notification.notificationType, notification.portfolioType, notification.url, notification.portfolioId, notification.isFull)}\n                </div>\n              })}\n            </div>\n            }\n\n            {isAuthenticated() && <Link to=\"/profile\" onClick={this.hideSearch}>\n              <img className='navbar-image navbar-item' src={this.state.user.profileImage} />\n            </Link>}\n            {!isAuthenticated() && <Link to=\"/login\" className=\"navbar-item\">\n              Login\n            </Link>}\n            {!isAuthenticated() && <Link to=\"/register\" className=\"navbar-item\">\n              Register\n            </Link>}\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n}\nexport default withRouter(Navbar)","import React from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { getAllTrainings, getSingleTraining, bookTraining } from '../../lib/api'\n\nclass Trainings extends React.Component{\n\n  state = {\n    training: null,\n    showBigTraining: false,\n    studentRedirect: false,\n    trainingOwnerId: '',\n    trainingOwnerUsername: ''\n  }\n\n  closeBig = () => {\n    this.setState({ showBigTraining: false })\n  }\n\n  handleSingleTraining = async () => {\n    try {\n      const res = await getSingleTraining(this.props.singleTraining._id)\n      this.setState({ training: res.data, showBigTraining: true })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleBooking = async (id, ownerId, ownerUsername) => {\n    try {\n      await this.setState({ trainingOwnerId: ownerId, trainingOwnerUsername: ownerUsername })\n      const res = await bookTraining(id)\n      this.setState({ studentRedirect: true })\n      console.log(res.data)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/done/training\" />\n    }\n    if (this.state.studentRedirect) {\n      return <Redirect to={`/done/booking/${this.state.trainingOwnerId}/${this.state.trainingOwnerUsername}`} />\n    }\n  }\n\n  bookingForm = (limit, bookings) => {\n    let capacity\n\n    if (bookings === 0) {\n      if (limit === 1) {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\"> Individual Training </span>\n        </>\n      } else if (this.state.isStudent) {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\">{limit} Students </span>\n          Booked: <span className=\"card-header-title\">{bookings} Students</span>\n        </>\n      } else {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\">{limit} Students </span>\n        </>\n      }\n    } else if (bookings >= limit) {\n      if (limit === 1) {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\"> Individual Training </span>\n          <div>\n            Training Is Fully Booked\n          </div>\n        </>\n      } else {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\">{limit} Students </span>\n          <div>\n            Training Is Fully Booked\n          </div>\n        </>\n      }\n    } else {\n      if (limit === 1) {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\"> Individual Training </span>\n        </>\n      } else {\n        return <>\n          Capacity Limit: <span className=\"card-header-title\">{limit} Students </span>\n          Booked: <span className=\"card-header-title\">{bookings} Students</span>\n        </>\n      }\n    }\n  }\n\n\n\n  render() {\n    console.log(this.state.training)\n    const { singleTraining, bookTimeSlot, trainingPage } = this.props \n    return (\n      <>\n        {this.renderRedirect()}\n        <div onClick={this.handleSingleTraining}\n          className=\"index-portfolio column column is-one-third-desktop is-one-third-tablet is-8-mobile is-offset-2-mobile\" >\n          <div className=\"card\">\n            <h4 className=\"card-header-title\">{singleTraining.name}</h4>\n            <div>Date: <span className=\"card-header-title\">{singleTraining.date}</span></div>\n            <div>Time: <span className=\"card-header-title\">{singleTraining.time}</span></div>\n            <div>Sport: <span className=\"card-header-title\">{singleTraining.sports.map( sport => ( sport + ', '))}</span></div>\n          </div>\n        </div >\n        {this.state.showBigTraining &&    \n    <div className=\"show-big-training\">\n      <div className=\"big-training-card\">\n        <div className='big-training-side'>\n          <div className=\"profile-header-training\">        \n            <Link to={`/profile/${this.state.training.user._id}`}>\n              <img className='profile-image-index' src={this.state.training.user.profileImage}/></Link>\n            <Link to={`/profile/${this.state.training.user._id}`}>{this.state.training.user.name}</Link>\n          </div>\n          <hr/>\n          <div className=\"training-description\">\n            <h4 className=\"training-title title is-3 has-text-centered\">{this.state.training.name}</h4>\n            Date: <span className=\"card-header-title\">{this.state.training.date}</span>\n            Time: <span className=\"card-header-title\">{this.state.training.time}</span>\n            Sport: <span className=\"card-header-title\">{this.state.training.sports.map(sport => ( sport + ', ' ))}</span> <br />\n            {this.bookingForm(this.state.training.limit, this.state.training.bookings)} \n            <div>Description: <span className=\"card-header-title\">{this.state.training.description}</span></div>     \n          </div>\n          <hr />\n          {bookTimeSlot &&\n          <>\n            {trainingPage && \n            <div className=\"field\">\n              <button\n                onClick={() => {\n                  this.handleBooking(this.state.training._id, this.state.training.user._id, this.state.training.user.name)\n                }}\n                className='button is-fullwidth is-dark'>Book Time Slot</button>\n            </div>\n            }\n            {!trainingPage && \n            <div className=\"field\">\n              <button\n                onClick={() => {\n                  this.handleBooking(this.state.training._id, this.state.training.user._id, this.state.training.user.name)\n                }}\n                className='button is-fullwidth is-dark'>Book Time Slot</button>\n            </div>\n            }\n          </>\n          }\n\n          <style>\n            {'\\\n            .navbar{\\\n              opacity: 0.5;\\\n            }\\\n            // .big-image{\\\n            //   opacity: 2;\\\n            // }\\\n            .m-scene .image, .index-video, .card{\\\n              opacity: 0.5;\\\n            }\\\n            '}\n          </style>\n          \n\n        </div>\n\n        <div className='close-training' onClick={this.closeBig}> <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/close_eo3yn4.png' /> </div>\n      </div>\n    </div>\n        }\n      </>\n    )\n  }\n}\nexport default Trainings","import React from 'react'\nimport { getPortfolio } from '../../lib/api'\nimport { isAuthenticated, logout } from '../../lib/auth'\nimport { Link } from 'react-router-dom'\nimport Trainings from './Trainings'\nimport Images from './Images'\nimport Videos from './Videos'\nimport Articles from '../portfolio/Articles'\n\nclass ProfilePage extends React.Component {\n\n  state = {\n    user: null,\n    timeMessage: '',\n    showTrainings: false,\n    showImages: false,\n    showArticles: false,\n    showVideos: false,\n    showChoices: true,\n    bookedTraining: false,\n    isStudent: false,\n    isAthlete: false\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getPortfolio()\n      this.timeOfDay()\n      if (res.data.userType === 1) {\n        this.setState({ user: res.data, isStudent: true })\n      } else if (res.data.userType === 2) {\n        this.setState({ user: res.data, isAthlete: true })\n      }\n      console.log(res.data)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  timeOfDay = () => {\n    const date = new Date()\n    const hour = date.getHours()\n    let message = ''\n    console.log('hour: ', hour)\n    if (hour < 12) {\n      message = 'Good Morning'\n    } else if (hour >= 12 && hour < 17) {\n      message = 'Good Afternoon'\n    } else {\n      message = 'Good Evening'\n    }\n    this.setState({ timeMessage: message })\n  }\n\n  clickShow = (type) => {\n    this.setState({ showChoices: false })\n    if (type === 'training') {\n      this.setState({ showTrainings: true, showArticles: false, showImages: false, showVideos: false })\n    } else if (type === 'images') {\n      this.setState({ showImages: true, showTrainings: false, showVideos: false, showArticles: false })\n    } else if (type === 'videos') {\n      this.setState({ showVideos: true, showTrainings: false, showImages: false, showArticles: false })\n    } else if (type === 'articles') {\n      this.setState({ showArticles: true, showImages: false, showTrainings: false, showVideos: false })\n    }\n  }\n\n  handleBookedTraining = (booking) => {\n    if (booking > 0) {\n      return true\n    } else if (booking === 0) {\n      return false\n    }\n  }\n\n\n  portfolioUrl = () => {\n    let portfolioUrl\n    if (this.state.showImages) {\n      return portfolioUrl = '/add/images'\n    } else if (this.state.showVideos) {\n      return portfolioUrl = '/add/videos'\n    } else if (this.state.showArticles) {\n      return portfolioUrl = '/newarticle'\n    }\n  }\n\n  handleLogout = () => {\n    logout()\n    return  window.location.assign('/')\n  }\n\n  render() {\n    if (!this.state.user) return null\n    return (\n      <section className=\"section m-scene\">\n\n        {this.state.showImages &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addimage_nqxehf.png' />\n        </Link>\n        }\n        {this.state.showVideos &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addvideo_oufawy.png' />\n        </Link>\n        }\n        {this.state.showArticles &&\n        <Link to={this.portfolioUrl}>\n          <img className='add-portfolio' src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484109/addarticle_f8vkg3.png' />\n        </Link>\n        }\n\n        {isAuthenticated() && <div onClick={this.handleLogout} className=\"logout\">\n          <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/logout_vfd7q8.png' />\n        </div>}\n\n        {this.state.showChoices &&\n          <>\n            <h1 className=\"title is-2 has-text-centered greeting\">{`${this.state.timeMessage} ${this.state.user.name}`}</h1>\n            <hr />\n          </>\n        }\n        <div className=\"profile-choices-container\">\n          <div className={`${this.state.showChoices ? 'profile-choices' : 'small-profile-choices'}`}\n            onClick={() => {\n              this.clickShow('training')\n            }}\n          > \n            {this.state.showChoices && <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/nexttrainings_w7p1yq.png' />}\n            <span className={`${this.state.showTrainings ? 'selected-menu-choice' : ''}`}>Next Trainings</span>\n          </div>\n\n          <div className={`${this.state.showChoices ? 'profile-choices' : 'small-profile-choices'}`}\n            onClick={() => {\n              this.clickShow('images')\n            }}\n          >\n            {this.state.showChoices && <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourphotos_ob9jmp.png' /> }\n            <span className={`${this.state.showImages ? 'selected-menu-choice' : ''}`}>Your Photos</span>\n          </div>\n\n          <div className={`${this.state.showChoices ? 'profile-choices' : 'small-profile-choices'}`}\n            onClick={() => {\n              this.clickShow('videos')\n            }}\n          > \n            {this.state.showChoices && <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourvideos_alvfgs.png' />}\n            <span className={`${this.state.showVideos ? 'selected-menu-choice' : ''}`}>Your Videos</span>\n          </div>\n\n          {this.state.isAthlete &&\n          <div className={`${this.state.showChoices ? 'profile-choices' : 'small-profile-choices'}`}\n            onClick={() => {\n              this.clickShow('articles')\n            }}\n          > \n            {this.state.showChoices && <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484111/yourarticles_lcufmi.png' /> }\n            <span className={`${this.state.showArticles ? 'selected-menu-choice' : ''}`}>Your Articles</span>\n          </div>\n          }\n\n        </div>\n      \n        <div className='portfolio-container'>\n          {this.state.showTrainings &&\n        <>\n          <div className=\"profile-header\">\n           \n            <img className='profile-image' src={this.state.user.profileImage} />\n            \n            <div className=\"title is-2\">{this.state.user.name} <br /><span className=\"subtitle is-5\">Booked Trainings</span></div>          </div>\n          <hr />\n          <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n            {this.state.isAthlete &&\n            <>\n              {this.state.user.userTrainings.map(training => (\n                <>\n                  {this.handleBookedTraining(training.bookings) &&\n                    <Trainings\n                      key={training._id}\n                      singleTraining={training}\n                    />\n                  }\n                </>\n              ))}\n            </>\n            }\n\n            {this.state.isStudent &&\n            <>\n              {this.state.user.studentTrainings.map(training => (\n                <>\n                  {this.handleBookedTraining(training.bookings) &&\n                    <Trainings\n                      key={training._id}\n                      singleTraining={training}\n                    />\n                  }\n                </>\n              ))}\n            </>\n            }\n          </div>\n        </>\n          }\n          \n          {this.state.showImages &&\n          <>\n            <div className=\"profile-header\">\n              <img className='profile-image' src={this.state.user.profileImage} />            \n              <div className=\"title is-2\">{this.state.user.name} <br /><span className=\"subtitle is-5\">Photos</span></div>            </div>\n            <hr />\n            <div className=\"columns is-multiline scene_element scene_element--fadein\">\n              {this.state.user.userImages.map(image => (\n                <Images\n                  key={image._id}\n                  user={this.state.user}\n                  id={image._id}\n                  url={image.url}\n                />\n              ))}\n            </div>\n          </>\n          }\n\n          {this.state.showVideos &&\n          <>\n            <div className=\"profile-header\">           \n              <img className='profile-image' src={this.state.user.profileImage} />\n              <div className=\"title is-2\">{this.state.user.name} <br /><span className=\"subtitle is-5\">Videos</span></div>            </div>\n            <hr />\n            <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n              {this.state.user.userVideos.slice(0).reverse().map(video => (\n                <Videos\n                  key={video._id}\n                  user={this.state.user}\n                  id={video._id}\n                  url={video.url}\n                />\n              ))}\n\n            </div>\n          </>\n          }\n        </div>\n\n        {this.state.showArticles &&\n          <>\n            <div className=\"profile-header\">       \n              <img className='profile-image' src={this.state.user.profileImage} />\n              <div className=\"title is-2\">{this.state.user.name} <br /><span className=\"subtitle is-5\">Articles</span></div>\n            </div>\n            <div className=\"article-container\">\n              {this.state.user.userArticles.map( article => (\n                <div key={article._id}>\n                  <div className=\"card-article\">\n\n                    < Link to = {`/articles/${article._id}`}> \n                      <img className='image-article' src={article.imageUrl} alt={article.title} />\n                    </Link >    \n                    \n                    <div className='article-text'>\n                      < Link to = {`/articles/${article._id}`}> \n                        <div className=\"article-title\">{article.title}</div>\n                        <div className='article-border'></div>\n                      </ Link>\n                      <div className=\"subtitle-article\">{article.text}</div>\n                    </div>\n\n                  </div>\n                </div>\n              ))}\n            </div>\n            <hr />\n          </>\n        }\n\n      </section>\n    )\n  }\n\n}\nexport default ProfilePage","import React from 'react'\nimport { getPublicPortfolio, getPortfolio, postChat, follow } from '../../lib/api'\nimport { Redirect , Link } from 'react-router-dom'\nimport Trainings from './Trainings'\nimport Images from './Images'\nimport Videos from './Videos'\nimport Articles from '../portfolio/Articles'\n\nclass PublicProfilePage extends React.Component {\n\n  state = {\n    formData: {\n      text: ''\n    },\n    showFollowers: false,\n    showFollowedAthletes: false,\n    user: null,\n    currentUser: null,\n    showChat: false,\n    showTrainings: false,\n    showImages: true,\n    showArticles: false,\n    showVideos: false,\n    isStudent: false,\n    isAthlete: false,\n    trainingOwnerId: '',\n    trainingOwnerUsername: ''\n  }\n\n  async componentDidMount() {\n    try {\n      const userId = this.props.match.params.id\n      const res = await getPublicPortfolio(userId)\n      const resTwo = await getPortfolio()\n      if (res.data.userType === 1) {\n        this.setState({ user: res.data, isStudent: true, currentUser: resTwo.data })\n      } else if (res.data.userType === 2) {\n        this.setState({ user: res.data, isAthlete: true, currentUser: resTwo.data })\n      }\n      this.alreadyFollowed()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  alreadyFollowed = async () => {\n    try {\n      console.log('hej')\n      this.state.currentUser.following.map( user => {\n        if (user.followedUserId == this.state.user._id) {\n          this.setState({ alreadyFollowed: true })\n        }\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleShowingFollowers = () => {\n    this.setState({ showFollowers: this.state.showFollowers ? false : true })\n  }\n\n  handleShowingFollowedAthletes = () => {\n    this.setState({ showFollowedAthletes: this.state.showFollowedAthletes ? false : true })\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const userId = this.props.match.params.id\n      const response = await postChat(this.state.formData, userId)\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n    this.setState({ showChat: false })\n  }\n\n  handleFollow = async () => {\n    try {\n      const id = this.props.match.params.id\n      const res = await follow(id)\n      const userId = this.props.match.params.id\n      const resTwo = await getPublicPortfolio(userId)    \n      this.setState({ user: resTwo.data, alreadyFollowed: this.state.alreadyFollowed ? false : true, showUnfollow: false })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleUnfollow = () => {\n    this.setState({ showUnfollow: this.state.showUnfollow ? false : true })\n  }\n\n  handleChat = () => {\n    this.setState({ showChat: this.state.showChat === false ? true : false })\n  }\n\n  clickShow = (type) => {\n    if (type === 'training') {\n      this.setState({ showTrainings: true, showArticles: false, showImages: false, showVideos: false })\n    } else if (type === 'images') {\n      this.setState({ showImages: true, showTrainings: false, showVideos: false, showArticles: false })\n    } else if (type === 'videos') {\n      this.setState({ showVideos: true, showTrainings: false, showImages: false, showArticles: false })\n    } else if (type === 'articles') {\n      this.setState({ showArticles: true, showImages: false, showTrainings: false, showVideos: false })\n    }\n  }\n\n  handleBookedTraining = (booking) => {\n    if (booking > 0) {\n      return true\n    } else if (booking == 0) {\n      return false\n    }\n  }\n\n  availableTraining = (training) => {\n    if (training.students.length > 0) {\n      let studentCounter = 0\n      training.students.map( student => {\n        if (this.state.currentUser._id === student.userId) {\n          studentCounter++\n        }\n      })\n      if (studentCounter > 0) {\n        console.log(studentCounter)\n        return false\n      } else {\n        return true\n      }\n    } else {\n      return true\n    }\n  }\n\n  render() {\n    if (!this.state.user) return null\n    return (\n      <section className=\"public-profile-container\">\n        <div className=\"profile-header-container\">\n          <div className=\"profile-header\">\n\n            <img className='profile-image' src={this.state.user.profileImage} />\n\n            <div className=\"greeting-public\"><span className='title is-2'>{this.state.user.name} \n              {this.state.isStudent &&\n              <>\n                <span onClick={this.handleShowingFollowedAthletes} className=\"followed-title\">Followed Athletes\n                ({this.state.user.following.length})\n                </span>\n                {this.state.showFollowedAthletes &&\n                <div className='followers-container'>\n                  <span className=\"follower-title\">Athletes</span>\n                  <span className='close-follow' onClick={this.handleShowingFollowedAthletes}> X </span>\n                  <div className=\"followers-frame\">\n                    {this.state.user.following.map( followed => {\n                      return <div key={followed.followedUserId} className=\"profile-follow\">      \n                        <a href={`/profile/${followed.followedUserId}`}>\n                          <img className='profile-image-follow' src={followed.followedUserProfileImage}/></a>\n                        <a href={`/profile/${followed.followedUserId}`}>{followed.followedUserName}</a>\n                      </div>\n                    })}\n                  </div>\n                </div>\n                }\n              </>\n              }\n              {this.state.isAthlete &&  \n              <>\n                {this.state.alreadyFollowed ? <span onClick={this.handleUnfollow} className=\"already-followed-title\">Following</span>\n                  : <span onClick={this.handleFollow} className=\"follow\"> +Follow Athlete</span> }\n                {this.state.showUnfollow && \n                  <div className=\"unfollow\">Do you want Unfollow {this.state.user.name}?\n                    <br/><span className=\"unfollow-option\"> <span onClick={this.handleFollow} className=\"unfollow-yes\">Yes</span> <span onClick={this.handleUnfollow}>No</span> </span>\n                  </div>\n                }\n              </>\n              }\n            </span>\n            <div className=\"user-type\">{this.state.isStudent && \n            <>\n              <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png' />\n              Student |\n            </>\n            }\n            {this.state.isAthlete &&\n            <div className='followers-title' onClick={this.handleShowingFollowers}>\n              <span onClick={this.handleShowingFollowers} className=\"followers-title\"></span>Followers ({this.state.user.followers.length})\n            </div>\n            }\n            \n            {this.state.showFollowers &&\n              <div className='followers-container'>\n                <span className=\"follower-title\">Followers</span>\n                <span className='close-follow' onClick={this.handleShowingFollowers}> X </span>\n                <div className=\"followers-frame\">\n                  {this.state.user.followers.map( follower => {\n                    return <div key={follower.userId} className=\"profile-follow\">      \n                      <a href={`/profile/${follower.userId}`}>\n                        <img className='profile-image-follow' src={follower.userProfileImage}/></a>\n                      <a href={`/profile/${follower.userId}`}>{follower.userName}</a>\n                    </div>\n                  })}\n                </div>\n              </div>\n            }\n\n            <div className=\"message\" ><img src=\"https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/message_ffjyj2.png\" onClick={this.handleChat}/>\n              {this.state.showChat && \n                    <div className=\"chat-profile-form\">\n                      <div className=\"profile-header-chat\">              \n                        <img className='profile-image-index' src={this.state.user.profileImage}/>\n                        {this.state.user.name}  <span className='close-message' onClick={this.handleChat}> X </span>\n                      </div>\n\n                      <form onSubmit={(event) => {\n                        this.handleSubmit(event,)\n                      }}>\n                        <input className=\"input\" \n                          name='text'\n                          onChange={this.handleChange}\n                        />\n                        <button className=\"comment-button\">Send</button>\n                      </form>\n                     \n                    </div>\n              }\n            </div>\n            </div>\n            </div>  \n          </div>\n\n          <div className=\"profile-choices-container\">\n            <span onClick={() => {\n              this.clickShow('images')\n            }} className={`small-profile-choices ${this.state.showImages ? 'selected-menu-choice' : ''}`}>Images</span>\n\n            <span onClick={() => {\n              this.clickShow('videos')\n            }} className={`small-profile-choices ${this.state.showVideos ? 'selected-menu-choice' : ''}`}>Videos</span>\n\n\n            {this.state.isAthlete &&\n              <>\n                <span onClick={() => {\n                  this.clickShow('articles')\n                }} className={`small-profile-choices ${this.state.showArticles ? 'selected-menu-choice' : ''}`}>Articles</span>\n\n\n                <span onClick={() => {\n                  this.clickShow('training')\n                }} className={`small-profile-choices ${this.state.showTrainings ? 'selected-menu-choice' : ''}`}>Trainings</span>\n              </>\n            }\n          </div>\n        </div>\n\n        <div className='portfolio-container'>\n          {this.state.showTrainings &&\n            <>\n              <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n                {this.state.user.userTrainings.map(training => (\n                  <>\n                    {!training.isFull &&\n                    <>\n                      {this.availableTraining(training) &&\n                    <>\n                      <Trainings\n                        key={training._id}\n                        singleTraining={training}\n                        bookTimeSlot={true}\n                        trainingPage={false}\n                      />\n                    </>\n                      }\n                    </>\n                    }\n                  </>\n                ))}\n              </div>\n            </>\n          }\n\n          {this.state.showImages &&\n            <>\n              <div className=\"columns is-multiline scene_element scene_element--fadein\">\n                {this.state.user.userImages.slice(0).reverse().map(image => (\n                  <Images\n                    key={image._id}\n                    user={this.state.currentUser}\n                    id={image._id}\n                    url={image.url}\n                  />\n                ))}\n              </div>\n            </>\n          }\n\n          {this.state.showVideos &&\n            <>\n              <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n                {this.state.user.userVideos.slice(0).reverse().map(video => (\n                  <Videos\n                    key={video._id}\n                    user={this.state.currentUser}\n                    id={video._id}\n                    url={video.url}\n                  />\n                ))}\n              </div>\n            </>\n          }\n\n          {this.state.showArticles &&\n            <>\n            </>\n          }\n\n        </div>\n\n      </section>\n    )\n  }\n\n}\nexport default PublicProfilePage","import React from 'react'\nimport { getAllSports } from '../../lib/api'\n\n\nclass SportSelect extends React.Component {\n\n  state = {\n    sports: null\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getAllSports()\n      this.setState({ sports: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  render() {\n    if (!this.state.sports) return null\n    return (\n      <div className=\"select is-multiple\">\n        <select multiple size=\"3\"\n          onClick={this.props.handleSelect}\n          name=\"sports\"\n        >\n          <option>Aerobic</option>\n          <option>Yoga</option>\n          <option>Strength and Conditioning</option>\n          <option>Combat Sports</option>\n          <option>Powerlifting</option>\n          <option>Weightlifting</option>\n          <option>Breathing Exercises</option>\n        </select>\n      </div>\n    )\n  }\n\n}\nexport default SportSelect","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport SportSelect from '../common/SportSelect'\n\nconst Trainings = ( { renderRedirect, handleChange, handleSelect, handleSubmit, handleErrors, error, formData } ) => (\n  \n  <div className=\"register-container\">\n    {renderRedirect()}\n    <div className=\"register-section add-training\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-container\">\n          <div className=\"field\">\n            <label className=\"label\">Training Name:</label>    \n            <input\n              className={`input ${error.name ? 'is-danger' : ''}`}\n              placeholder=\"Name of the training\"\n              name=\"name\"\n              onChange={handleChange}\n              value={formData.name}\n            />\n            {error.name ? <small className=\"help is-danger\">{error.name}</small> : ''}\n          </div>\n\n          <div className=\"field\">\n            <label className=\"label\">Date:</label>    \n            <input\n              type='date'\n              className={`input ${error.date ? 'is-danger' : ''}`}\n              placeholder=\"Date Of The Training\"\n              name=\"date\"\n              onChange={handleChange}\n              value={formData.date}\n            />\n            {error.date ? <small className=\"help is-danger\">{error.date}</small> : ''}\n          </div>\n\n        </div>\n\n        <div className=\"input-container\">\n\n          <div className=\"field\">\n            <label className=\"label\">Time:</label>    \n            <input\n              type='time'\n              className={`input ${error.time ? 'is-danger' : ''}`}\n              placeholder=\"Training Time\"\n              name=\"time\"\n              onChange={handleChange}\n              value={formData.time}\n            />\n            {error.time && <small className=\"help is-danger\">{error.time}</small>}\n          </div>\n\n          <div className=\"field\">\n            <label className=\"label\">Students Capacity Limit:</label>    \n            <input\n              type='number'\n              className='input'\n              placeholder=\"Training Capacity Limit\"\n              name=\"limit\"\n              onChange={handleChange}\n              value={formData.limit}\n            />\n\n          </div>\n\n        </div>\n\n        <div className=\"input-container\">\n\n          <div className=\"field\">\n            <label className=\"label\">Description:</label>    \n            <input\n              className={`input ${error.description ? 'is-danger' : ''}`}\n              placeholder=\"Describe Your Training\"\n              name=\"description\"\n              onChange={handleChange}\n              value={formData.description}\n            />\n            {error.description && <small className=\"help is-danger\">{error.description}</small>}\n          </div>\n\n          <div className='register-forms field category'>\n            <label className=\"label\">Training Category</label>\n            <SportSelect\n              handleSelect={handleSelect}\n            />\n            {error.sports && <small className=\"help is-danger\">{error.sports}</small>}\n          </div>\n\n        </div>\n\n        <div className=\"field\">\n          <button type=\"submit\"  className='button'>Add Training</button>\n        </div>\n      </form>\n    </div>\n  </div>\n)\nexport default Trainings","import React from 'react'\nimport { addTraining, getPortfolio, getAllTrainings } from '../../lib/api'\nimport { Redirect, Link } from 'react-router-dom'\nimport AddTraining from './AddTraining'\nimport Trainings from '../common/Trainings'\n\nclass TrainingsPage extends React.Component {\n  state = {\n    user: null,\n    trainings: [],\n    formData: {\n      name: '',\n      date: '',\n      time: '',\n      description: '',\n      limit: 1,\n      sports: []\n    },\n    showAdd: false,\n    showBookedTrainings: true,\n    showNotBookedTrainings: false,\n    redirect: false,\n    studentRedirect: false,\n    isStudent: false,\n    isAthlete: false,\n    isGroupTraining: false,\n    trainingOwnerId: '',\n    trainingOwnerUsername: '',\n    errors: {\n      name: '',\n      date: '',\n      time: '',\n      description: '',\n      sports: ''\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getPortfolio()\n      if (res.data.userType === 1) {\n        const resTwo = await getAllTrainings()\n        this.setState({ user: res.data, trainings: resTwo.data, isStudent: true })\n      } else if (res.data.userType === 2) {\n        this.setState({ user: res.data, isAthlete: true })\n      }\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleChange = event => {\n    console.log('change event: ', event.target.name)\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    const errors = { ...this.state.errors, [event.target.name]: '' }\n    this.setState({ formData, errors })\n  }\n\n  handleSelect = event => {\n    const sport = this.state.formData.sports.concat(event.target.value)\n    const formData = {\n      ...this.state.formData, sports: sport\n    }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const response = await addTraining(this.state.formData)\n      if (response.status === 201) {\n        this.setState({ redirect: true })\n      }\n      if (response.status === 422) throw new Error()\n    } catch (err) {\n      console.log('response: ', err.response.data)\n      this.handleErrors(err.response.data)\n\n    }\n  }\n\n  clickShow = (type) => {\n    if (type === 'requests') {\n      this.setState({ showRequests: true, showAdd: false, showBookedTrainings: false, showNotBookedTrainings: false })\n    } else if (type === 'add') {\n      this.setState({ showAdd: true, showRequests: false, showBookedTrainings: false, showNotBookedTrainings: false })\n    } else if (type === 'booked') {\n      this.setState({ showBookedTrainings: true, showRequests: false, showAdd: false, showNotBookedTrainings: false })\n    } else if (type === 'not') {\n      this.setState({ showNotBookedTrainings: true, showRequests: false, showBookedTrainings: false, showAdd: false })\n    }\n  }\n\n  handleErrors = (errors) => {\n    let name = ''\n    let date = ''\n    let time = ''\n    let description = ''\n    let sports = ''\n\n    if (errors.name) {\n      name = 'Training Name Is Required'\n    }\n    if (errors.date) {\n      date = 'Training Date Is Required'\n    }\n    if (errors.time) {\n      time = 'Training Time Is Required'\n    }\n    if (errors.description) {\n      description = 'Describe Your Training Please'\n    }\n    if (errors.sports) {\n      sports = 'Choose Training Categories Please.'\n    }\n\n    this.setState({ errors: { name, date, time, description, sports } })\n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/done/training\" />\n    }\n    if (this.state.studentRedirect) {\n      return <Redirect to={`/done/booking/${this.state.trainingOwnerId}/${this.state.trainingOwnerUsername}`} />\n    }\n  }\n\n  \n  handleBookedTraining = (booking) => {\n    if (booking > 0) {\n      return true\n    } else if (booking === 0) {\n      return false\n    }\n  }\n\n  availableTraining = (training) => {\n    if (training.students.length > 0) {\n      let studentCounter = 0\n      training.students.map( student => {\n        if (this.state.user._id === student.userId) {\n          studentCounter++\n        }\n      })\n      if (studentCounter > 0) {\n        console.log(studentCounter)\n        return false\n      } else {\n        return true\n      }\n    } else {\n      return true\n    }\n  }\n\n  render() {\n    const { formData, errors } = this.state\n    return (\n      <>\n        {this.renderRedirect()}\n        <section className=\"section m-scene\">\n\n          {this.state.isAthlete &&\n            <>\n              <div className=\"profile-choices-container index\">\n\n                <span onClick={() => {\n                  this.clickShow('booked')\n                }} className={`small-profile-choices ${this.state.showBookedTrainings ? 'selected-menu-choice' : ''}`}>\n                  Booked Trainings</span>\n\n                <span onClick={() => {\n                  this.clickShow('not')\n                }} className={`small-profile-choices ${this.state.showNotBookedTrainings ? 'selected-menu-choice' : ''}`}>\n                  Not Booked Yet</span>\n\n                <span onClick={() => {\n                  this.clickShow('add')\n                }} className={`small-profile-choices ${this.state.showAdd ? 'selected-menu-choice' : ''}`}>\n                  Add New Training Slots</span>\n\n              </div>\n\n              {this.state.showBookedTrainings &&\n                <div className='portfolio-container'>\n                  <h1 className=\"title is-2 has-text-centered\">Your Next Trainings</h1>\n                  <hr />\n                  <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n                    {this.state.user.userTrainings.map(training => (\n                      <>\n                        {this.handleBookedTraining(training.bookings) &&\n                        <Trainings\n                          key={training._id}\n                          singleTraining={training}\n                        />\n                        }\n                      </>\n                    ))}\n\n                  </div>\n                </div>\n              }\n\n              {this.state.showNotBookedTrainings &&\n                <div className='portfolio-container'>\n                  <h1 className=\"title is-2 has-text-centered\">Your Trainings Without Booking</h1>\n                  <hr />\n                  <div className=\"columns is-multiline scene_element scene_element--fadein\">\n                    {this.state.user.userTrainings.map(training => (\n                      <>\n                        {!this.handleBookedTraining(training.bookings) &&\n                        <Trainings\n                          key={training._id}\n                          singleTraining={training}\n                        />\n                        }\n                      </>\n                    ))}\n\n                  </div>\n                </div>\n              }\n\n              {this.state.showAdd &&\n                <AddTraining\n                  renderRedirect={this.renderRedirect}\n                  handleChange={this.handleChange}\n                  handleSelect={this.handleSelect}\n                  handleSubmit={this.handleSubmit}\n                  handleErrors={this.handleErrors}\n                  formData={formData}\n                  error={errors}\n                />\n              }\n            </>\n          }\n          {this.state.isStudent &&\n            <>\n              <div className=\"profile-choices-container index\">\n\n                <span onClick={() => {\n                  this.clickShow('booked')\n                }} className={`small-profile-choices ${this.state.showBookedTrainings ? 'selected-menu-choice' : ''}`}>Find New Trainings</span>\n\n                <span onClick={() => {\n                  this.clickShow('not')\n                }} className={`small-profile-choices ${this.state.showNotBookedTrainings ? 'selected-menu-choice' : ''}`}>My Next Trainings</span>\n\n              </div>\n\n              {this.state.showNotBookedTrainings &&\n                <div className='portfolio-container'>\n                  <h1 className=\"title is-2 has-text-centered\">My Next Trainings</h1>\n                  <hr />\n                  <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n                    {this.state.user.studentTrainings.map(training => (\n                      <Trainings\n                        key={training._id}\n                        singleTraining={training}\n                      />\n                    ))}\n                  </div>\n                </div>\n              }\n\n              {this.state.showBookedTrainings &&\n                <div className='portfolio-container'>\n                  <h1 className=\"title is-2 has-text-centered\">All Available Trainings</h1>\n                  <hr />\n                  <div className=\"columns is-multiline scene_element scene_element--fadein\">\n\n                    {this.state.trainings.map(training => (\n                      <>\n                        {this.availableTraining(training) &&\n                      <>\n                        {!training.isFull &&\n                      <Trainings\n                        key={training._id}\n                        singleTraining={training}\n                        bookTimeSlot={true}\n                        trainingPage={true}\n                      />\n                        }\n                      </>\n                        }\n                      </>\n                    ))}\n                  </div>\n                </div>\n              }\n            </>\n          }\n        </section>\n      </>\n\n    )\n  }\n\n}\nexport default TrainingsPage","import React from 'react'\nimport { getChat, postChat, getPortfolio } from '../../lib/api'\nimport { Link } from 'react-router-dom'\n\n\nclass Chat extends React.Component {\n  state = {\n    formData: {\n      text: ''\n    },\n    user: null,\n    showMessages: false,\n    chats: null,\n    profileImage: '',\n    username: '',\n    userId: '',\n    isStudent: false\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getPortfolio()\n      this.setState({ user: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async getData(chatId) { //* this function can be called whenever you need to update the info on the page\n    try {\n      const res = await getChat(chatId)\n      await this.setState({ chats: res.data })\n    } catch (error) {\n      console.log(error)\n      // this.props.history.push('/notfound')\n    }\n  }\n\n  handleChange = event => {\n    console.log('change event: ', event.target.name)\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event, userId) => {\n    event.preventDefault()\n    try {\n      const response = await postChat(this.state.formData, userId)\n      const textData = {\n        ...this.state.formData, text: ''\n      }\n      this.setState({ formData: textData })\n      console.log(response.data)\n    } catch (err) {\n      console.log('response: ', err.response.data)\n    }\n    this.getData(this.state.chats._id)\n  }\n\n  getMessages = async (id) => {\n    try {\n      const res = await getChat(id)\n      await this.setState({ chats: res.data, showMessages: true })\n      await this.getUser()\n\n    } catch (err) {\n      console.log(err)\n\n    }\n  }\n\n  getUser = async () => {\n    const clicker = 0\n    if ( this.state.chats.senderId !== this.state.user._id) {\n      this.setState({\n        profileImage: this.state.chats.senderProfileImage,\n        username: this.state.chats.senderName, userId: this.state.chats.senderId\n        // isStudent: chat.userType === 1 ? true : false\n      })\n    } else if ( this.state.chats.receiverId !== this.state.user._id) {\n      this.setState({\n        profileImage: this.state.chats.receiverProfileImage,\n        username: this.state.chats.receiverName, userId: this.state.chats.receiverId\n        // isStudent: chat.userType === 1 ? true : false\n      })\n    }\n\n  }\n\n\n\n\n\n  render() {\n    if (!this.state.user) return null\n    console.log(this.state.userId)\n    return (\n      <div className=\"chat-profile-container\">\n        <div className=\"chat-profile-side\">\n          {/* Find Users who i have chat history with */}\n          {this.state.user.userChats.slice(0).reverse().map(chat => {\n\n            if (chat.receiverId !== this.state.user._id) {\n              return <div onClick={() => {\n                this.getMessages(chat._id)\n              }}\n              key={chat.receiverId} className=\"profile-header-chat-page\">\n                <img className='profile-image-index' src={chat.receiverProfileImage} />{chat.receiverName}\n              </div>\n            } else if (chat.senderId !== this.state.user._id) {\n              return <div onClick={() => {\n                this.getMessages(chat._id)\n              }}\n              key={chat.senderId} className=\"profile-header-chat-page\">\n                <img className='profile-image-index' src={chat.senderProfileImage} />{chat.senderName}\n              </div>\n            }\n    \n          })}\n        </div>\n        {/* Show this header when user have no messages */}\n        {this.state.user.userChats.length === 0 &&\n        <div className=\"no-messages\">\n          <h1 className=\"title is-2\">You Have No Messages Yet</h1>\n        </div>\n        }\n\n        {/* Chat history with specific user and sending message form*/}\n        {this.state.showMessages &&\n        <div className=\"messages-section\">\n          <Link to={`/profile/${this.state.userId}`}>\n            <div className=\"profile-header profile-messages\">\n              <img className='profile-image' src={this.state.profileImage} />\n              <div className=\"greeting-public\"><span className='title is-2'>{this.state.username}</span>\n                <div className=\"user-type\"><img src={`${this.state.isStudent ? 'https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/student_rtpzhv.png' : 'https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/athlete_gwre8y.png'}`} />\n                  {this.state.user.userType.name}\n                </div>\n              </div>\n            </div>\n          </Link>\n\n          <div className=\"chat-history-container\">\n            <div className=\"chat-history\">\n              {this.state.chats.subChat.slice(0).reverse().map(chat => {\n                if (this.state.user._id === chat.senderId) {\n                  return <div key={chat._id} className=\"one-message-container\"><span className=\"one-message\">{chat.text}</span></div>\n                } else {\n                  return <div key={chat._id} className=\"one-message-container-other\"><span className=\"one-message-other\">{chat.text}</span></div>\n                }\n              })}\n            </div>\n          </div>\n          <div className=\"messages-form-container\">\n            <form onSubmit={(event) => {\n              this.handleSubmit(event, this.state.userId)\n            }}>\n              <input className=\"input\"\n                name='text'\n                onChange={this.handleChange}\n                value={this.state.formData.text}\n              />\n              <button className=\"comment-button\">Send</button>\n            </form>\n          </div>\n\n        </div>\n        }\n\n\n      </div>\n    )\n  }\n\n}\nexport default Chat","import React from 'react'\nimport { registerUser, loginUser } from '../../lib/api'\nimport { Redirect, Link } from 'react-router-dom'\nimport { setToken } from '../../lib/auth'\nimport SportSelect from '../common/SportSelect'\nimport axios from 'axios'\n\n\nconst uploadUrl = process.env.REACT_APP_CLOUDINARY_URL\nconst uploadPreset = process.env.REACT_APP_CLOUDINARY_BUCKET\n\nclass Register extends React.Component {\n  state = {\n    formData: {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      sports: [],\n      userType: '',\n      bio: '',\n      profileImage: 'https://d1nhio0ox7pgb.cloudfront.net/_img/o_collection_png/green_dark_grey/512x512/plain/user.png'\n    },\n    redirect: false,\n    isLoading: false,\n    errors: {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      sports: '',\n      userType: ''\n    }\n  }\n\n  handleChange = event => {\n    console.log('change evet: ', event.target.name)\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    const errors = { ...this.state.errors, [event.target.name]: '' }\n    this.setState({ formData, errors })\n  }\n\n  // const sports = { ...this.state.formData.sports, [event.target.name]: event.target.value }\n  // this.state.formData.sports.push( event.target.value )\n  // this.setState({ sports })\n\n    handleSelect = event => {\n      const sport = this.state.formData.sports.concat(event.target.value)\n      const formData = {\n        ...this.state.formData, sports: sport \n      }\n      this.setState({ formData })\n    }\n\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      this.setState({ loading: true })\n      const response = await registerUser(this.state.formData)\n      \n      //If registration goes well, run the login user function with the formdata, then set token and redirect to profile page\n      if (response.status === 201){\n        const loginResponse = await loginUser(this.state.formData)\n        setToken(loginResponse.data.token)\n        this.setState({ redirect: true })\n      }\n      if (response.status === 422) throw new Error()\n    } catch (err) {\n      console.log('response: ', err.response.data)\n      //need to send handleErrors function the errors array from the 422 response as args\n      this.handleErrors(err.response.data)\n      this.setState({ loading: false })\n    }\n  }\n\n  handleErrors = (errors) => {\n    let name = ''\n    let email = ''\n    let password = ''\n    let passwordConfirmation = ''\n    let sports = ''\n    let userType = 1\n\n    if (errors.name){\n      name = 'Your Username Is Required'\n    }\n    if (errors.email){\n      email = errors.email\n    }\n    if (errors.password) {\n      password = 'Password is required'\n    }\n    if (errors.passwordConfirmation){\n      passwordConfirmation = 'Password confirmation does not match'\n    }\n    if (errors.sports) {\n      sports = 'Please choose your sports'\n    }\n    if (errors.userType) {\n      userType = 'Are you looking for trainings or offering trainings? Please choose'\n    }\n\n    this.setState({ errors: { name, email, password, passwordConfirmation: passwordConfirmation, sports, userType: userType } })\n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect){\n      return <Redirect to=\"/done/register\" />\n    }\n  }\n\n  setUrl = imgUrl => {\n    const formData = { ...this.state.formData, profileImage: imgUrl }\n    this.setState({ formData })\n  }\n\n  handleUpload = async event => {\n    try {\n      this.setState({ isLoading: true })\n      const data = new FormData()\n      data.append('file', event.target.files[0])\n      data.append('upload_preset', uploadPreset)\n      const res = await axios.post(uploadUrl, data)\n      console.log(res.data)\n      this.setState({ isLoading: false })\n      this.setUrl(res.data.url)\n    } catch (err) {\n      console.log('err=', err)\n    }\n  }\n\n\n  render() {\n    const { formData, errors } = this.state\n    console.log(this.state.formData)\n    return (\n      <>\n        <Link to=\"/\" className=\"navbar-item\">\n          <span className=\"logo-navbar\">gyminy</span>\n        </Link>\n        <div className=\"register-container\">\n          <div className=\"register-section\">\n            {this.renderRedirect()}\n            <div>\n              <form onSubmit={this.handleSubmit} >\n                <div className=\"has-text-centered title register-title\">Join Our Virtual Gym</div>\n\n                <div className=\"input-container\">\n                  <div className=\"field\">\n                    <label className=\"label\">Username:</label>        \n                    <input\n                      className={`input ${errors.name ? 'is-danger' : ''}`}\n                      placeholder=\"name\"\n                      name=\"name\"\n                      onChange={this.handleChange}\n                      value={formData.name}\n                    />\n                    {errors.name ? <small className=\"help is-danger\">{errors.name}</small> : ''}\n                  </div>\n\n                  <div className=\"field\">\n                    <label className=\"label\">Email:</label>\n                    <input\n                      className={`input ${errors.email ? 'is-danger' : ''}`}\n                      placeholder=\"Email\"\n                      name=\"email\"\n                      onChange={this.handleChange}\n                      value={formData.email}\n                    />\n                    {this.state.errors.email ? <small className=\"help is-danger\">{errors.email}</small> : ''}\n                  </div>\n                </div>\n\n\n                <div className=\"input-container\">\n                  <div className=\"field\">\n                    <label className=\"label\">Password:</label>\n                    <input\n                      className={`input ${errors.password ? 'is-danger' : ''}`}\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      onChange={this.handleChange}\n                      value={formData.password}\n                    />\n                    {errors.password && <small className=\"help is-danger\">{errors.password}</small>}\n                  </div>\n\n                  <div className=\"field\">\n                    <label className=\"label\">Password Confirmation:</label>\n                    <input\n                      type=\"password\"\n                      className={`input ${errors.passwordConfirmation ? 'is-danger' : ''}`}\n                      placeholder=\"Password Confirmation\"\n                      name=\"passwordConfirmation\"\n                      onChange={this.handleChange}\n                      value={formData.passwordConfirmation}\n                    />\n                    {errors.passwordConfirmation && <small className=\"help is-danger\">{errors.passwordConfirmation}</small>}\n                  </div>\n                </div>\n\n                <div className=\"register-forms-container field\">\n                  <div className='register-forms'>\n                    <label className=\"label\">What are you interested in?</label>\n                    <SportSelect\n                      handleSelect={this.handleSelect}\n                    />\n                    {errors.sports && <small className=\"help is-danger\">{errors.sports}</small>}\n                  </div>\n\n                  <div className='register-forms register-type'>   \n                    <label className=\"label\">Do You Wanna Offer Trainings(Athlete) Or Find Trainings(Student)</label>\n                    <label className='radio'>\n                      <input type=\"radio\" \n                        name=\"userType\"\n                        value={1}\n                        onChange={this.handleChange}\n                      ></input>\n                      <span className=\"register-forms-span\">Student</span>\n                    </label>\n                   \n                    <label className='radio'>\n                      <input type=\"radio\" \n                        name=\"userType\"\n                        value={2}\n                        onChange={this.handleChange}\n                      ></input>\n                      <span className=\"register-forms-span\">Athlete</span>\n                    </label>\n                  </div>\n                  {errors.userType && <small className=\"help is-danger\">{errors.userType}</small>}\n                </div>\n\n                <div className=\"input-container\">\n                  <div className=\"field\">\n                    <label className=\"label\">Bio:</label>     \n                    <textarea\n                      className='textarea'\n                      rows=\"4\"\n                      cols=\"40\"\n                      placeholder=\"Your Bio\"\n                      name=\"bio\"\n                      onChange={this.handleChange}\n                      value={formData.bio}\n                    />\n                  </div>\n\n                  <div className=\"field\">\n                    <label className=\"label\">Upload Your Profile Picture</label>\n                    <div className=\"upload-portfolio-register\">\n                      <input\n                        className='input'\n                        type=\"file\"\n                        onChange={this.handleUpload}\n                      />\n                      <div>\n                        {formData.profileImage ? <img src={formData.profileImage} alt=\"User's Upload\" /> : ''}\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n\n                {this.state.isLoading && \n                <>\n                  <img src='https://res.cloudinary.com/djq7pruxd/image/upload/v1592484110/loading_ngtamg.svg' className='loading-image-register' />\n                </>\n                }\n                {!this.state.isLoading &&\n                <div className=\"field\">\n                  <button type=\"submit\"  className={`button is-fullwidth register-button ${this.state.loading ? 'is-loading' : ''}`}>Register</button>\n                </div>\n                }\n              </form>\n            </div>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Register\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\n\n\nclass NotFound extends React.Component {\n  state = {\n    // backgroundImage: '',\n    redirect: false,\n    progress: 100\n  }\n\n  componentDidMount() {\n    const timeBeforeRedirect = 5000\n    //After five seconds to fire render redirect\n    setTimeout(() => this.setState({ redirect: true }), timeBeforeRedirect)\n    setInterval(() => this.progressReducer(this.state.progress), timeBeforeRedirect / 100)\n  }\n\n  progressReducer = (currentNum) => {\n    if (this.state.progress > 0){\n      const decrementedNumber = currentNum - 1\n      this.setState({ progress: decrementedNumber })\n    }\n    \n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect){\n      return <Redirect to=\"/\" />\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"hero is-dark is-fullheight-with-navbar\">\n        {this.renderRedirect()}\n        <div className=\"hero-body done\">\n          <div>\n            <h1 className=\"title is-1\">\n              Error 404\n            </h1>\n            <h2 className=\"subtitle\">\n              Page Not Found\n            </h2>\n      \n          </div>\n          <progress className=\"progress is-large is-link\" value={this.state.progress} max=\"100\"></progress>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default NotFound","import React from 'react'\nimport { Redirect } from 'react-router-dom'\n\n\nclass AddDone extends React.Component {\n  state = {\n    // backgroundImage: '',\n    redirect: false,\n    progress: 100,\n    timeBeforeRedirect: 3000,\n    finishBooking: false,\n    isTrainingOwner: false,\n    isYou: false\n  }\n\n  componentDidMount() {\n    //After five seconds to fire render redirect\n    if (this.props.match.params.type === 'register' || this.props.match.params.type === 'training' || this.state.finishBooking) {\n      setTimeout(() => this.setState({ redirect: true }), this.state.timeBeforeRedirect)\n      return  setInterval(() => this.progressReducer(this.state.progress), this.state.timeBeforeRedirect / 100)\n    }\n  }\n\n  progressReducer = (currentNum) => {\n    if (this.state.progress > 0){\n      const decrementedNumber = currentNum - 1\n      this.setState({ progress: decrementedNumber })\n    }\n    \n  }\n\n  renderRedirect = () => {\n    if (this.state.redirect){\n      if (this.props.match.params.type === 'training') {\n        return <Redirect to=\"/profile\" />\n      } else if (this.props.match.params.type === 'register') {\n        return  window.location.assign('/portfolio')\n      } else if (this.props.match.params.type === 'booking') {\n        if (this.state.isTrainingOwner) {\n          return  window.location.assign(`/profile/${this.props.match.params.id}`)\n        } else if (this.state.isYou) {\n          return  window.location.assign('/profile')\n        }\n      } \n    }\n  }\n\n  handleType = () => {\n    let showType\n    if (this.props.match.params.type === 'training') {\n      return showType = 'Training Slot Was Successfully Created'\n    } else if (this.props.match.params.type === 'register') {\n      return showType = 'Welcome, Your Account Was Successfully Created'\n    } \n  }\n\n  finishBooking = async (who) => {\n\n    if (who === 'trainingOwner') {\n      await this.setState({ finishBooking: true, timeBeforeRedirect: 700, isTrainingOwner: true })\n      this.componentDidMount()\n    } else if (who === 'you') {\n      await this.setState({ finishBooking: true, timeBeforeRedirect: 700, isYou: true })\n      this.componentDidMount()\n    }\n    \n  }\n\n  render() {\n    return (\n      <section className=\"hero is-light is-fullheight-with-navbar\">\n        {/* Dont redirect if user just booked the slot */}\n        {this.renderRedirect()}\n        <div className=\"hero-body done\">\n          <h1 className=\"title is-1\"> \n            {/* Check what kind of request we want */}\n            {this.handleType()} \n          </h1>\n          {this.props.match.params.type === 'booking' && \n            <div className=\"done-subtitle-wrap\">\n              <div className=\"subtitle done-booking\">\n              Training Slot Was Succesfully Booked, Instructor Will Send You Zoom Invitation Link 15 Minutes Before Training Started\n              </div>\n              <div className='done-button'>\n                <button \n                  className=\"button\"\n                  onClick={() => {\n                    this.finishBooking('trainingOwner')\n                  }} >\n                Go To {this.props.match.params.username} Profile\n                </button>\n                <button \n                  className=\"button\"\n                  onClick={() => {\n                    this.finishBooking('you')\n                  }} >\n                Go To Your Profile\n                </button>\n              </div>\n            </div>\n          }\n          <progress className=\"progress is-large is-link\" value={this.state.progress} max=\"100\"></progress>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default AddDone","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { isAuthenticated, logout } from '../../lib/auth'\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  if (isAuthenticated()) return <Route {...rest} component={Component} />\n  logout()\n  return <Redirect to=\"/\" />\n}\n\nexport default SecureRoute","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { isAuthenticated } from './lib/auth'\n\n\nimport IndexPortfolio from './components/portfolio/IndexPortfolio'\nimport Explore from './components/common/Explore'\nimport SinglePortfolio from './components/portfolio/SinglePortfolio'\nimport AddPortfolio from './components/portfolio/AddPortfolio'\nimport AddArticle from './components/portfolio/AddArticle'\nimport SingleArticle from './components/portfolio/SingleArticle'\nimport Home from './components/common/Home'\nimport Navbar from './components/common/Navbar'\nimport MyProfilePage from './components/common/MyProfilePage'\nimport PublicProfilePage from './components/common/PublicProfile'\nimport TrainingsPage from './components/common/TrainingsPage'\nimport Chat from './components/common/Chat'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport NotFound from './components/common/ErrorPage'\nimport AddDone from './components/common/AddDone'\nimport SecureRoute from './components/common/SecureRoute'\n\n\nconst App = () => (\n  <BrowserRouter>\n    {isAuthenticated() && <Navbar /> }\n    <Switch>\n      <Route exact path='/' component={Home} />\n      <Route path='/videos/:id' component={SinglePortfolio} />\n      <Route path='/images/:id' component={SinglePortfolio} />\n      <Route path='/articles/:id' component={SingleArticle} />\n      <Route path='/portfolio/' component={IndexPortfolio} />\n      <Route path='/explore' component={Explore} />\n      <Route path=\"/register/\" component={Register} />\n      <Route path=\"/login/\" component={Login} />\n      <Route path='/profile/:id' component={PublicProfilePage} />\n      <SecureRoute path='/profile/' component={MyProfilePage} />\n      <SecureRoute path='/trainings/' component={TrainingsPage} />\n      <SecureRoute path='/chat/' component={Chat} />\n      <SecureRoute path='/done/:type/:id/:username/' component={AddDone} />\n      <SecureRoute path='/done/:type/' component={AddDone} />\n      <SecureRoute path='/add/:portfolio/' component={AddPortfolio} />\n      <SecureRoute path='/newarticle/' component={AddArticle} />\n      <Route path=\"/*\" component={NotFound} />\n    </Switch>\n  </BrowserRouter>\n)\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}